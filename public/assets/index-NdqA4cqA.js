var Ab=Object.defineProperty;var Rb=(t,e,s)=>e in t?Ab(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Ia=(t,e,s)=>Rb(t,typeof e!="symbol"?e+"":e,s);import{i as Ob,g as Lb,c as Nt,r as b,j as n,V as Sf,R as kf,A as Cf,C as Pf,X as Xs,T as Tf,D as Ef,P as Ib,a as F,v as Mb,b as Af,d as Db,e as $b,f as Fb,u as we,F as rc,h as Lr,Z as Rf,k as $t,l as _d,m as Cn,n as tl,B as Bi,o as va,p as Of,U as Kr,q as Vb,s as Sd,t as Bb,S as nc,w as Ys,x as Ns,y as Lf,z as wa,G as Ui,L as ce,E as If,O as zi,H as Mf,I as qi,J as ja,K as Df,M as Wi,N as $f,Q as Ub,W as Ff,Y as Vf,_ as Bf,$ as zb,a0 as Uf,a1 as zf,a2 as qf,a3 as Wf,a4 as Hf,a5 as Kf,a6 as ac,a7 as Gf,a8 as Jf,a9 as qb,aa as Wb,ab as Zf,ac as Xf,ad as Yf,ae as ic,af as Hb,ag as Kb,ah as Gb,ai as ct,aj as Hi,ak as Ar,al as oc,am as Qf,an as Jb,ao as Zb,ap as em,aq as lc,ar as tm,as as Xb,at as Yb,au as sm,av as rm,aw as nm,ax as Qb,ay as ey,az as am,aA as ty,aB as cc,aC as St,aD as sy,aE as Le,aF as Ae,aG as kd,aH as ry,aI as ny,aJ as ay,aK as xi,aL as im,aM as ys,aN as om,aO as iy,aP as lm,aQ as oy,aR as Cd,aS as cm,aT as ly,aU as dm,aV as cy,aW as um,aX as dy,aY as hm,aZ as uy,a_ as fm,a$ as mm,b0 as hy,b1 as fy,b2 as pm,b3 as my,b4 as py,b5 as ze,b6 as gm,b7 as gy,b8 as xy,b9 as by,ba as yy,bb as xm,bc as vy,bd as dc,be as wy,bf as jy,bg as Ny,bh as bm,bi as ym,bj as vm,bk as _y,bl as Sy,bm as sl,bn as go,bo as ky,bp as Cy,bq as Py,br as Ty,bs as wm,bt as Ey,bu as jm,bv as Ay,bw as Nm,bx as _m,by as Sm,bz as km,bA as Cm,bB as Ry,bC as Qs,bD as Oy,bE as Ly,bF as Gr,bG as Jr,bH as Zr,bI as Pm,bJ as Tm,bK as Em,bL as Iy,bM as My,bN as Dy,bO as $y,bP as Fy,bQ as Am,bR as Rm,bS as Pn,bT as Pd,bU as Vy,bV as By,bW as me,bX as Uy,bY as zy,bZ as qy,b_ as Wy,b$ as Hy}from"./vendor-Dh7NqBF4.js";import"./ui-BA32w1ww.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();const Q=t=>typeof t=="string",fn=()=>{let t,e;const s=new Promise((r,a)=>{t=r,e=a});return s.resolve=t,s.reject=e,s},Td=t=>t==null?"":""+t,Ky=(t,e,s)=>{t.forEach(r=>{e[r]&&(s[r]=e[r])})},Gy=/###/g,Ed=t=>t&&t.indexOf("###")>-1?t.replace(Gy,"."):t,Ad=t=>!t||Q(t),Tn=(t,e,s)=>{const r=Q(e)?e.split("."):e;let a=0;for(;a<r.length-1;){if(Ad(t))return{};const i=Ed(r[a]);!t[i]&&s&&(t[i]=new s),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++a}return Ad(t)?{}:{obj:t,k:Ed(r[a])}},Rd=(t,e,s)=>{const{obj:r,k:a}=Tn(t,e,Object);if(r!==void 0||e.length===1){r[a]=s;return}let i=e[e.length-1],o=e.slice(0,e.length-1),l=Tn(t,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=Tn(t,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=s},Jy=(t,e,s,r)=>{const{obj:a,k:i}=Tn(t,e,Object);a[i]=a[i]||[],a[i].push(s)},bi=(t,e)=>{const{obj:s,k:r}=Tn(t,e);if(s)return s[r]},Zy=(t,e,s)=>{const r=bi(t,s);return r!==void 0?r:bi(e,s)},Om=(t,e,s)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Q(t[r])||t[r]instanceof String||Q(e[r])||e[r]instanceof String?s&&(t[r]=e[r]):Om(t[r],e[r],s):t[r]=e[r]);return t},hr=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Xy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Yy=t=>Q(t)?t.replace(/[&<>"'\/]/g,e=>Xy[e]):t;class Qy{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const ev=[" ",",","?","!",";"],tv=new Qy(20),sv=(t,e,s)=>{e=e||"",s=s||"";const r=ev.filter(o=>e.indexOf(o)<0&&s.indexOf(o)<0);if(r.length===0)return!0;const a=tv.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(t);if(!i){const o=t.indexOf(s);o>0&&!a.test(t.substring(0,o))&&(i=!0)}return i},rl=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(s);let a=t;for(let i=0;i<r.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=i;c<r.length;++c)if(c!==i&&(l+=s),l+=r[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<r.length-1)continue;i+=c-i+1;break}a=o}return a},yi=t=>t&&t.replace("_","-"),rv={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class vi{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,s)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=e||rv,this.options=s,this.debug=s.debug}log(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"log","",!0)}warn(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"warn","",!0)}error(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"error","")}deprecate(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,r,a){return a&&!this.debug?null:(Q(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new vi(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new vi(this.logger,e)}}var qt=new vi;let Ki=class{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(s)||0;this.observers[r].set(s,a+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[l,c]=o;for(let d=0;d<c;d++)l(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,c]=o;for(let d=0;d<c;d++)l.apply(l,[e,...r])})}};class Od extends Ki{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,s],r&&(Array.isArray(r)?l.push(...r):Q(r)&&i?l.push(...r.split(i)):l.push(r)));const c=bi(this.data,l);return!c&&!s&&!r&&e.indexOf(".")>-1&&(e=l[0],s=l[1],r=l.slice(2).join(".")),c||!o||!Q(r)?c:rl(this.data&&this.data[e]&&this.data[e][s],r,i)}addResource(e,s,r,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,s];r&&(l=l.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(l=e.split("."),a=s,s=l[1]),this.addNamespaces(s),Rd(this.data,l,a),i.silent||this.emit("added",e,s,r,a)}addResources(e,s,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(Q(r[i])||Array.isArray(r[i]))&&this.addResource(e,s,i,r[i],{silent:!0});a.silent||this.emit("added",e,s,r)}addResourceBundle(e,s,r,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,s];e.indexOf(".")>-1&&(l=e.split("."),a=r,r=s,s=l[1]),this.addNamespaces(s);let c=bi(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?Om(c,r,i):c={...c,...r},Rd(this.data,l,c),o.silent||this.emit("added",e,s,r)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,s)}:this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(a=>s[a]&&Object.keys(s[a]).length>0)}toJSON(){return this.data}}var Lm={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,r,a){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,s,r,a))}),e}};const Ld={};class wi extends Ki{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Ky(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=qt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,s);return r&&r.res!==void 0}extractFromKey(e,s){let r=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let i=s.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!sv(e,r,a);if(o&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Q(i)?[i]:i};const d=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),e=d.join(a)}return{key:e,namespaces:Q(i)?[i]:i}}translate(e,s,r){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],s),c=l[l.length-1],d=s.lng||this.language,u=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(u){const _=s.nsSeparator||this.options.nsSeparator;return a?{res:`${c}${_}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:`${c}${_}${o}`}return a?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:o}const h=this.resolve(e,s);let f=h&&h.res;const m=h&&h.usedKey||o,p=h&&h.exactUsedKey||o,x=Object.prototype.toString.apply(f),g=["[object Number]","[object Function]","[object RegExp]"],y=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!Q(f)&&typeof f!="boolean"&&typeof f!="number";if(N&&f&&w&&g.indexOf(x)<0&&!(Q(y)&&Array.isArray(f))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,f,{...s,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(h.res=_,h.usedParams=this.getUsedParamsDetails(s),h):_}if(i){const _=Array.isArray(f),v=_?[]:{},j=_?p:m;for(const S in f)if(Object.prototype.hasOwnProperty.call(f,S)){const A=`${j}${i}${S}`;v[S]=this.translate(A,{...s,joinArrays:!1,ns:l}),v[S]===A&&(v[S]=f[S])}f=v}}else if(N&&Q(y)&&Array.isArray(f))f=f.join(y),f&&(f=this.extendTranslation(f,e,s,r));else{let _=!1,v=!1;const j=s.count!==void 0&&!Q(s.count),S=wi.hasDefaultValue(s),A=j?this.pluralResolver.getSuffix(d,s.count,s):"",R=s.ordinal&&j?this.pluralResolver.getSuffix(d,s.count,{ordinal:!1}):"",C=j&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),O=C&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${A}`]||s[`defaultValue${R}`]||s.defaultValue;!this.isValidLookup(f)&&S&&(_=!0,f=O),this.isValidLookup(f)||(v=!0,f=o);const I=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&v?void 0:f,T=S&&O!==f&&this.options.updateMissing;if(v||_||T){if(this.logger.log(T?"updateKey":"missingKey",d,c,o,T?O:f),i){const q=this.resolve(o,{...s,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let k=[];const L=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&L&&L[0])for(let q=0;q<L.length;q++)k.push(L[q]);else this.options.saveMissingTo==="all"?k=this.languageUtils.toResolveHierarchy(s.lng||this.language):k.push(s.lng||this.language);const B=(q,V,ue)=>{const P=S&&ue!==f?ue:I;this.options.missingKeyHandler?this.options.missingKeyHandler(q,c,V,P,T,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(q,c,V,P,T,s),this.emit("missingKey",q,c,V,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?k.forEach(q=>{const V=this.pluralResolver.getSuffixes(q,s);C&&s[`defaultValue${this.options.pluralSeparator}zero`]&&V.indexOf(`${this.options.pluralSeparator}zero`)<0&&V.push(`${this.options.pluralSeparator}zero`),V.forEach(ue=>{B([q],o+ue,s[`defaultValue${ue}`]||O)})}):B(k,o,O))}f=this.extendTranslation(f,e,s,h,r),v&&f===o&&this.options.appendNamespaceToMissingKey&&(f=`${c}:${o}`),(v||_)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,_?f:void 0):f=this.options.parseMissingKeyHandler(f))}return a?(h.res=f,h.usedParams=this.getUsedParamsDetails(s),h):f}extendTranslation(e,s,r,a,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=Q(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(d){const f=e.match(this.interpolator.nestingRegexp);u=f&&f.length}let h=r.replace&&!Q(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||a.usedLng,r),d){const f=e.match(this.interpolator.nestingRegexp),m=f&&f.length;u<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];return i&&i[0]===m[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${s[0]}`),null):o.translate(...m,s)},r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=Q(l)?[l]:l;return e!=null&&c&&c.length&&r.applyPostProcessor!==!1&&(e=Lm.handle(c,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,a,i,o,l;return Q(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(c,s),u=d.key;a=u;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=s.count!==void 0&&!Q(s.count),m=f&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),p=s.context!==void 0&&(Q(s.context)||typeof s.context=="number")&&s.context!=="",x=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);h.forEach(g=>{this.isValidLookup(r)||(l=g,!Ld[`${x[0]}-${g}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(Ld[`${x[0]}-${g}`]=!0,this.logger.warn(`key "${a}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(y=>{if(this.isValidLookup(r))return;o=y;const N=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(N,u,y,g,s);else{let _;f&&(_=this.pluralResolver.getSuffix(y,s.count,s));const v=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(N.push(u+_),s.ordinal&&_.indexOf(j)===0&&N.push(u+_.replace(j,this.options.pluralSeparator)),m&&N.push(u+v)),p){const S=`${u}${this.options.contextSeparator}${s.context}`;N.push(S),f&&(N.push(S+_),s.ordinal&&_.indexOf(j)===0&&N.push(S+_.replace(j,this.options.pluralSeparator)),m&&N.push(S+v))}}let w;for(;w=N.pop();)this.isValidLookup(r)||(i=w,r=this.getResource(y,g,w,s))}))})}),{res:r,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,s,r,a):this.resourceStore.getResource(e,s,r,a)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Q(e.replace);let a=r?e.replace:e;if(r&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const i of s)delete a[i]}return a}static hasDefaultValue(e){const s="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&s===r.substring(0,s.length)&&e[r]!==void 0)return!0;return!1}}const xo=t=>t.charAt(0).toUpperCase()+t.slice(1);class Id{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=qt.create("languageUtils")}getScriptPartFromCode(e){if(e=yi(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=yi(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(Q(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let a=Intl.getCanonicalLocales(e)[0];if(a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a)return a}catch{}const s=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(a=>a.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),s.indexOf(r[1].toLowerCase())>-1&&(r[1]=xo(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),s.indexOf(r[1].toLowerCase())>-1&&(r[1]=xo(r[1].toLowerCase())),s.indexOf(r[2].toLowerCase())>-1&&(r[2]=xo(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(r=>{if(s)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(s=a)}),!s&&this.options.supportedLngs&&e.forEach(r=>{if(s)return;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return s=a;s=this.options.supportedLngs.find(i=>{if(i===a)return i;if(!(i.indexOf("-")<0&&a.indexOf("-")<0)&&(i.indexOf("-")>0&&a.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===a||i.indexOf(a)===0&&a.length>1))return i})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),Q(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let r=e[s];return r||(r=e[this.getScriptPartFromCode(s)]),r||(r=e[this.formatLanguageCode(s)]),r||(r=e[this.getLanguagePartFromCode(s)]),r||(r=e.default),r||[]}toResolveHierarchy(e,s){const r=this.getFallbackCodes(s||this.options.fallbackLng||[],e),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Q(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):Q(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}let nv=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],av={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const iv=["v1","v2","v3"],ov=["v4"],Md={zero:0,one:1,two:2,few:3,many:4,other:5},lv=()=>{const t={};return nv.forEach(e=>{e.lngs.forEach(s=>{t[s]={numbers:e.nr,plurals:av[e.fc]}})}),t};class cv{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=s,this.logger=qt.create("pluralResolver"),(!this.options.compatibilityJSON||ov.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=lv(),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=yi(e==="dev"?"en":e),a=s.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:a})}catch{if(!e.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,s)}return this.pluralRulesCache[i]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,s);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(a=>`${s}${a}`)}getSuffixes(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,s);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((a,i)=>Md[a]-Md[i]).map(a=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a}`):r.numbers.map(a=>this.getSuffix(e,a,s)):[]}getSuffix(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(e,r);return a?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(s)}`:this.getSuffixRetroCompatible(a,s):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,s){const r=e.noAbs?e.plurals(s):e.plurals(Math.abs(s));let a=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));const i=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!iv.includes(this.options.compatibilityJSON)}}const Dd=function(t,e,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Zy(t,e,s);return!i&&a&&Q(s)&&(i=rl(t,s,r),i===void 0&&(i=rl(e,s,r))),i},bo=t=>t.replace(/\$/g,"$$$$");class dv{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=qt.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(s=>s),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:r,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:m,nestingSuffix:p,nestingSuffixEscaped:x,nestingOptionsSeparator:g,maxReplaces:y,alwaysFormat:N}=e.interpolation;this.escape=s!==void 0?s:Yy,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?hr(i):o||"{{",this.suffix=l?hr(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=f?hr(f):m||hr("$t("),this.nestingSuffix=p?hr(p):x||hr(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=y||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,r)=>s&&s.source===r?(s.lastIndex=0,s):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,s,r,a){let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=m=>{if(m.indexOf(this.formatSeparator)<0){const y=Dd(s,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...a,...s,interpolationkey:m}):y}const p=m.split(this.formatSeparator),x=p.shift().trim(),g=p.join(this.formatSeparator).trim();return this.format(Dd(s,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),g,r,{...a,...s,interpolationkey:x})};this.resetRegExp();const u=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,h=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>bo(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?bo(this.escape(m)):bo(m)}].forEach(m=>{for(l=0;i=m.regex.exec(e);){const p=i[1].trim();if(o=d(p),o===void 0)if(typeof u=="function"){const g=u(e,i,a);o=Q(g)?g:""}else if(a&&Object.prototype.hasOwnProperty.call(a,p))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),o="";else!Q(o)&&!this.useRawValueToEscape&&(o=Td(o));const x=m.safeValue(o);if(e=e.replace(i[0],x),h?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,i,o;const l=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const h=c.split(new RegExp(`${u}[ ]*{`));let f=`{${h[1]}`;c=h[0],f=this.interpolate(f,o);const m=f.match(/'/g),p=f.match(/"/g);(m&&m.length%2===0&&!p||p.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),d&&(o={...d,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${u}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(e);){let c=[];o={...r},o=o.replace&&!Q(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let d=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const u=a[1].split(this.formatSeparator).map(h=>h.trim());a[1]=u.shift(),c=u,d=!0}if(i=s(l.call(this,a[1].trim(),o),o),i&&a[0]===e&&!Q(i))return i;Q(i)||(i=Td(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),i=""),d&&(i=c.reduce((u,h)=>this.format(u,h,r.lng,{...r,interpolationkey:a[1].trim()}),i.trim())),e=e.replace(a[0],i),this.regexp.lastIndex=0}return e}}const uv=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?s.currency||(s.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?s.range||(s.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=l.trim();s[u]||(s[u]=d),d==="false"&&(s[u]=!1),d==="true"&&(s[u]=!0),isNaN(d)||(s[u]=parseInt(d,10))}})}return{formatName:e,formatOptions:s}},fr=t=>{const e={};return(s,r,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=r+JSON.stringify(i);let l=e[o];return l||(l=t(yi(r),a),e[o]=l),l(s)}};class hv{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=qt.create("formatter"),this.options=e,this.formats={number:fr((s,r)=>{const a=new Intl.NumberFormat(s,{...r});return i=>a.format(i)}),currency:fr((s,r)=>{const a=new Intl.NumberFormat(s,{...r,style:"currency"});return i=>a.format(i)}),datetime:fr((s,r)=>{const a=new Intl.DateTimeFormat(s,{...r});return i=>a.format(i)}),relativetime:fr((s,r)=>{const a=new Intl.RelativeTimeFormat(s,{...r});return i=>a.format(i,r.range||"day")}),list:fr((s,r)=>{const a=new Intl.ListFormat(s,{...r});return i=>a.format(i)})},this.init(e)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=s.interpolation.formatSeparator||","}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=fr(s)}format(e,s,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{const{formatName:d,formatOptions:u}=uv(c);if(this.formats[d]){let h=l;try{const f=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},m=f.locale||f.lng||a.locale||a.lng||r;h=this.formats[d](l,m,{...u,...a,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const fv=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class mv extends Ki{constructor(e,s,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=s,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=qt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,a.backend,a)}queueLoad(e,s,r,a){const i={},o={},l={},c={};return e.forEach(d=>{let u=!0;s.forEach(h=>{const f=`${d}|${h}`;!r.reload&&this.store.hasResourceBundle(d,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,u=!1,o[f]===void 0&&(o[f]=!0),i[f]===void 0&&(i[f]=!0),c[h]===void 0&&(c[h]=!0)))}),u||(l[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,s,r){const a=e.split("|"),i=a[0],o=a[1];s&&this.emit("failedLoading",i,o,s),!s&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&r&&(this.state[e]=0);const l={};this.queue.forEach(c=>{Jy(c.loaded,[i],o),fv(c,e),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const u=c.loaded[d];u.length&&u.forEach(h=>{l[d][h]===void 0&&(l[d][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,s,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:r,tried:a,wait:i,callback:o});return}this.readingCalls++;const l=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&u&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,r,a+1,i*2,o)},i);return}o(d,u)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const d=c(e,s);d&&typeof d.then=="function"?d.then(u=>l(null,u)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,s,l)}prepareLoading(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Q(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Q(s)&&(s=[s]);const i=this.queueLoad(e,s,r,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,s,r){this.prepareLoading(e,s,{},r)}reload(e,s,r){this.prepareLoading(e,s,{reload:!0},r)}loadOne(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),a=r[0],i=r[1];this.read(a,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${s}loading namespace ${i} for language ${a} failed`,o),!o&&l&&this.logger.log(`${s}loaded namespace ${i} for language ${a}`,l),this.loaded(e,o,l)})}saveMissing(e,s,r,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${r}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let u;d.length===5?u=d(e,s,r,a,c):u=d(e,s,r,a),u&&typeof u.then=="function"?u.then(h=>l(null,h)).catch(l):l(null,u)}catch(u){l(u)}else d(e,s,r,a,l,c)}!e||!e[0]||this.store.addResource(e[0],s,r,a)}}}const $d=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Q(t[1])&&(e.defaultValue=t[1]),Q(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(r=>{e[r]=s[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Fd=t=>(Q(t.ns)&&(t.ns=[t.ns]),Q(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Q(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Ma=()=>{},pv=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class zn extends Ki{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Fd(e),this.services={},this.logger=qt,this.modules={external:[]},pv(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(){var e=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(r=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(Q(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const a=$d();this.options={...a,...this.options,...Fd(s)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?qt.init(i(this.modules.logger),this.options):qt.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=hv);const h=new Id(this.options);this.store=new Od(this.options.resources,this.options);const f=this.services;f.logger=qt,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new cv(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(f.formatter=i(u),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new dv(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new mv(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(m){for(var p=arguments.length,x=new Array(p>1?p-1:0),g=1;g<p;g++)x[g-1]=arguments[g];e.emit(m,...x)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new wi(this.services,this.options),this.translator.on("*",function(m){for(var p=arguments.length,x=new Array(p>1?p-1:0),g=1;g<p;g++)x[g-1]=arguments[g];e.emit(m,...x)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ma),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const c=fn(),d=()=>{const u=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(f),r(h,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),c}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ma;const a=Q(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,s,r){const a=fn();return typeof e=="function"&&(r=e,e=void 0),typeof s=="function"&&(r=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),r||(r=Ma),this.services.backendConnector.reload(e,s,i=>{a.resolve(),r(i)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Lm.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let s=0;s<this.languages.length;s++){const r=this.languages[s];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,s){var r=this;this.isLanguageChangingTo=e;const a=fn();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,d)=>{d?(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,a.resolve(function(){return r.t(...arguments)}),s&&s(c,function(){return r.t(...arguments)})},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const d=Q(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,u=>{o(u,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),a}getFixedT(e,s,r){var a=this;const i=function(o,l){let c;if(typeof l!="object"){for(var d=arguments.length,u=new Array(d>2?d-2:0),h=2;h<d;h++)u[h-2]=arguments[h];c=a.options.overloadTranslationOptionHandler([o,l].concat(u))}else c={...l};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);const f=a.options.keySeparator||".";let m;return c.keyPrefix&&Array.isArray(o)?m=o.map(p=>`${c.keyPrefix}${f}${p}`):m=c.keyPrefix?`${c.keyPrefix}${f}${o}`:o,a.t(m,c)};return Q(e)?i.lng=e:i.lngs=e,i.ns=s,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=s.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(s.precheck){const l=s.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!a||o(i,e)))}loadNamespaces(e,s){const r=fn();return this.options.ns?(Q(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),s&&s(a)}),r):(s&&s(),Promise.resolve())}loadLanguages(e,s){const r=fn();Q(e)&&(e=[e]);const a=this.options.preload||[],i=e.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{r.resolve(),s&&s(o)}),r):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Id($d());return s.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new zn(e,s)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ma;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},i=new zn(a);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new Od(this.store.data,a),i.services.resourceStore=i.store),i.translator=new wi(i.services,a),i.translator.on("*",function(l){for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];i.emit(l,...d)}),i.init(a,s),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const qe=zn.createInstance();qe.createInstance=zn.createInstance;qe.createInstance;qe.dir;qe.init;qe.loadResources;qe.reloadResources;qe.use;qe.changeLanguage;qe.getFixedT;qe.t;qe.exists;qe.setDefaultNamespace;qe.hasLoadedNamespace;qe.loadNamespaces;qe.loadLanguages;const gv={buttons:{login:"Login",signIn:"Sign In",signUp:"Sign Up",cancel:"Cancel",delete:"Delete",save:"Save Changes",saving:"Saving...",loading:"Loading...",submit:"Submit",tryAgain:"Try Again",continue:"Continue",continueLearning:"Continue learning",send:"Send",edit:"Edit",create:"Create",update:"Update",close:"Close",next:"Next",previous:"Previous",testConnection:"Test Connection",testing:"Testing..."},labels:{email:"Email",password:"Password",confirmPassword:"Confirm Password",fullName:"Full Name",country:"Country",city:"City",languages:"Languages",language:"Language",user:"User"},placeholders:{email:"m@example.com",emailDemo:"demo@example.com",enterFullName:"Enter your full name",selectCountry:"Select your country",enterCity:"Enter your city",typeLanguage:"Type a language and press Enter"},countries:{brazil:"Brazil",unitedStates:"United States",canada:"Canada",unitedKingdom:"United Kingdom",germany:"Germany",france:"France",spain:"Spain",italy:"Italy",netherlands:"Netherlands",sweden:"Sweden",norway:"Norway",denmark:"Denmark",finland:"Finland",switzerland:"Switzerland",austria:"Austria",belgium:"Belgium",portugal:"Portugal",ireland:"Ireland",australia:"Australia",newZealand:"New Zealand",japan:"Japan",southKorea:"South Korea",singapore:"Singapore",india:"India",china:"China",mexico:"Mexico",argentina:"Argentina",chile:"Chile",colombia:"Colombia",peru:"Peru",uruguay:"Uruguay",paraguay:"Paraguay",venezuela:"Venezuela",ecuador:"Ecuador",bolivia:"Bolivia",guyana:"Guyana",suriname:"Suriname",frenchGuiana:"French Guiana"},errors:{required:"This field is required",invalidUrl:"Please enter a valid URL",networkError:"Network connection error. Please check your internet connection and try again.",unexpectedError:"An unexpected error occurred. Please try again."}},xv={forProfessionals:"For Professionals",forCompanies:"For Companies",forInvestors:"For Investors",dashboard:"Dashboard",paths:"Paths",admin:"Admin",scoreboard:"Scoreboard",achievements:"Achievements",communityProjects:"Community Projects",learn:"Learn",course:"Course",path:"Path",myProfile:"My Profile",page:"Page"},bv={login:{title:"Login",submit:"Login",ssoGoogle:"Continue with Google",ssoGithub:"Continue with GitHub",orContinueWith:"Or continue with",dontHaveAccount:"Don't have an account?",forgotPassword:"Forgot your password?",errors:{invalidCredentials:"Invalid email or password. Please check your credentials and try again.",emailNotConfirmed:"Please check your email and click the confirmation link before signing in.",tooManyAttempts:"Too many login attempts. Please wait a moment before trying again.",configError:"Authentication service configuration error. Using demo mode - try email: demo@example.com, password: demo123",authServiceError:"Authentication service error. The Supabase instance may be misconfigured.",cannotConnect:"Cannot connect to authentication service. Please check if Supabase is properly configured.",googleFailed:"Google sign-in failed. Please try again.",githubFailed:"GitHub sign-in failed. Please try again."}},signup:{title:"Create Account",submit:"Sign Up",alreadyHaveAccount:"Already have an account?",passwordMismatch:"Passwords do not match",success:"Check your email for the confirmation link!",notConfigured:"Authentication service not configured. Please contact the administrator."},forgotPassword:{title:"Forgot Password",submit:"Send Reset Link",rememberedPassword:"Remembered your password?"},updatePassword:{title:"Update Password",success:"Password updated successfully! Redirecting to login..."},logout:{button:"Log Out",signingOut:"Signing out..."}},yv={title:"My Profile",subtitle:"Manage your personal and professional information",unsavedChanges:"You have unsaved changes",loadingProfile:"Loading profile...",failedToLoad:"Failed to load profile",sections:{personal:"Personal Information",personalDesc:"Update your basic personal details and contact information",professional:"Professional Profile",professionalDesc:"Share your work experience, skills, and career information",learning:"Learning Progress",learningDesc:"Track your learning journey and achievements",career:"Career Preferences",careerDesc:"Set your job preferences and career goals"},fields:{yearsExperience:"Years of Experience in Technology",yearsExperiencePlaceholder:"0",positionCompany:"Position & Company",positionPlaceholder:"e.g., Senior Backend @ ACME",stacksDominated:"Stacks Dominated",stacksDesc:"Technologies you're proficient in",stacksPlaceholder:"e.g., Java, Python, Solidity, React",skillsToDevelop:"Skills to Develop",skillsDesc:"Areas you want to improve",skillsPlaceholder:"e.g., DeFi, Smart Contracts, Web3",linkedinUrl:"LinkedIn URL",linkedinPlaceholder:"https://linkedin.com/in/username",githubUrl:"GitHub URL",githubPlaceholder:"https://github.com/username",languagePreference:"Language Preference",selectLanguage:"Select your preferred language"},languageOptions:{enUS:"English (US)",ptBR:"Portuguese (BR)"},errors:{fullNameRequired:"Full name is required",countryRequired:"Country is required",invalidLinkedin:"Please enter a valid LinkedIn URL",invalidGithub:"Please enter a valid GitHub URL"},messages:{emailNote:"Email can only be changed in your account settings",validationError:"Please fix the errors before saving.",updateSuccess:"Profile updated successfully!",updateError:"Failed to update profile. Please try again."},comingSoon:{title:"Coming Soon",learning:"Learning progress tracking will be available in the next update.",career:"Career preferences will be available in the next update."}},vv={myAccount:"My Account",profile:"Profile",admin:"Admin",connectWallet:"Connect Wallet"},wv={layout:{openMenu:"Open menu",loading:"Loading dashboard..."},welcomeBack:"Welcome back",loading:"Loading...",notFound:"Not found",readMore:"Read more",readLess:"Read less",enrollToStart:"Enroll to start",enroll:"Enroll",enrolling:"Enrolling...",enrolled:"Enrolled",viewDetails:"View Details",mustLoginToEnroll:"You must be logged in to enroll",enrollSuccess:"Successfully enrolled!",enrollError:"Failed to enroll",loadError:"Failed to load",nothingToContinue:"Nothing to continue right now.",emptyTitle:"No paths yet",emptySubtitle:"Enroll in a path to get started",progressSuffix:"complete",home:{badge:"Welcome back",headlineSuffix:", ready to continue your journey?",exploreCta:"View all paths"},continueLearning:{title:"Pick up where you left off",subtitle:"You were studying:"},availablePaths:{enrolledBadge:"Enrolled",courses_one:"{{count}} course",courses_other:"{{count}} courses"},learningHabits:{title:"Study habits",currentStreak:"Current streak",dayCount_one:"{{count}} day",dayCount_other:"{{count}} days",keepGoing:"Keep it going daily",weeklyGoal:"Weekly goal",weekProgress:"{{completed}}/{{goal}} lessons",completions_one:"{{count}} completion",completions_other:"{{count}} completions",loadError:"Failed to load learning habits"},userStats:{totalXp:"Total XP",completedLessons:"Completed lessons",activePaths:"Active paths",studyTime:"Study time",studyTimeValue:"{{minutes}} min",errors:{loadProgress:"Failed to load user progress",loadLessons:"Failed to load lessons"}},myLearningPaths:{emptyTitle:"You are not enrolled in any path yet.",emptySubtitle:"Explore available paths and enroll to get started.",progressLabel:"{{progress}}% complete"},pathOverview:{badge:"Path",notFound:"Learning path not found.",continue:"Continue",courses:"Courses"},errors:{notAuthenticated:"Not authenticated",failedToEnroll:"Failed to enroll"}},jv={selectToBegin:"Select a lesson to begin.",lessonInfo:"Lesson {{current}} of {{total}}  {{xp}} XP",previousLesson:"Previous lesson",completeAndContinue:"Complete and Continue",markAsCompleted:"Mark as Completed",submitAnswer:"Submit Answer",loginToTrack:"You need to be logged in to track progress",progressSaveFailed:"Failed to save progress",lessonCompleted:"Lesson marked as completed!",completionError:"Error marking lesson as completed"},Nv={layout:{kicker:"Admin",title:"Content Management",subtitle:"Create, organize, and publish learning experiences for the community.",nav:{overview:"Overview",paths:"Learning Paths",courses:"Courses",modules:"Modules",lessons:"Lessons",projects:"Projects"}},paths:{title:"Learning Paths",new:"New learning path",edit:"Edit learning path",delete:"Delete learning path",deleteConfirm:'This action cannot be undone. Deleting a path will remove all associated courses, modules, and lessons. Make sure you really want to remove "{{title}}".',created:"Learning path created",updated:"Learning path updated",deleted:"Learning path deleted",validation:{titleMin:"Title must have at least 3 characters",slugMin:"Slug must have at least 3 characters",slugFormat:"Slug must be lowercase with hyphens only"}},courses:{title:"Courses",new:"New course",edit:"Edit course",delete:"Delete course",deleteConfirm:'This action cannot be undone. Make sure you really want to remove "{{title}}".',created:"Course created",updated:"Course updated",deleted:"Course deleted"},modules:{title:"Modules",new:"New module",edit:"Edit module",delete:"Delete module",deleteConfirm:'This action cannot be undone. Make sure you really want to remove "{{title}}".',created:"Module created",updated:"Module updated",deleted:"Module deleted"},lessons:{title:"Lessons",new:"New lesson",edit:"Edit lesson",delete:"Delete lesson",deleteConfirm:'This action cannot be undone. Make sure you really want to remove "{{title}}".',created:"Lesson created",updated:"Lesson updated",deleted:"Lesson deleted"},projects:{title:"Projects",subtitle:"Link projects to modules to reinforce applied learning at the end of each module.",actions:{newProject:"New project"},filters:{modulePlaceholder:"Filter by module",allModules:"All modules"},loading:"Loading projects...",emptyState:"No projects found for the current filters.",unassignedModule:"Unassigned module",labels:{course:"Course: {{course}}",projectNumber:"Project #{{number}}",inactive:"Inactive",xpValue:"XP {{xp}}"},markdown:{loading:"Loading editor...",ariaLabel:"Markdown editor"},dialog:{editTitle:"Edit project",createTitle:"Create project",description:"Provide details and expectations for the module project."},form:{module:"Module",modulePlaceholder:"Select a module",title:"Title",titlePlaceholder:"Project title",description:"Project description",descriptionPlaceholder:"Describe the project goals, deliverables, and any resources students should consult. Supports HTML content.",descriptionHelp:"You can use HTML to format the content (headings, lists, links, etc.).",xpValue:"XP reward",xpValuePlaceholder:"Optional XP value",xpValueHelp:"Leave empty if this project does not grant XP.",activeLabel:"Project visibility",activeDescription:"Toggle to hide this project from students while editing."},validation:{moduleRequired:"Select a module",titleMin:"Title must have at least 3 characters",xpMin:"XP value must be zero or greater"},notifications:{loadError:"Failed to load projects",created:"Project created",updated:"Project updated",saveError:"Failed to save project",deleted:"Project deleted",deleteError:"Failed to delete project"},delete:{title:"Delete project",description:'This action cannot be undone. Make sure you really want to remove "{{title}}".',confirm:"Delete project"}}},_v={submit:"Submit Application",selectTimeline:"Select timeline",timelineImmediate:"Immediate (next 30 days)",timelineQuarter:"This quarter"},Sv={accessibility:{close:"Close dialog"},messages:{success:"Thank you for your application! We'll be in touch soon."},fields:{name:"Full name",email:"Email address",company:"Company / organization",experienceLabel:"Current experience level",experiencePlaceholder:"Select your level",experienceOptions:{beginner:"Beginner (0-2 years)",intermediate:"Intermediate (2-5 years)",advanced:"Advanced (5+ years)"},portfolio:"Portfolio / LinkedIn URL",investmentAmountLabel:"Investment amount range",investmentAmountPlaceholder:"Select range",investmentAmountOptions:{"10k_50k":"$10k - $50k","50k_100k":"$50k - $100k","100k_500k":"$100k - $500k","500k_plus":"$500k+"},timelineLabel:"Investment timeline",timelineOptions:{year:"This year",exploring:"Just exploring"},message:"Message",messagePlaceholder:"Tell us more about your interest..."}},kv={title:"Scoreboard",subtitle:"Check out the rankings of students with the most XP",global:"Global",byPath:"By Path",rankingGlobal:"Global Ranking - All Paths",ranking:"Ranking - {{pathName}}",xp:"XP",lessons:"lessons"},Cv={title:"Achievements",subtitle:"Complete tasks and earn extra XP to climb the rankings",completed:"Completed",inProgress:"In Progress",xpEarned:"XP Earned",xpAvailable:"XP Available",xpReward:"XP Reward",progress:"Progress",all:"All",completedBadge:"Completed",locked:"Locked",overallProgress:"Overall Progress",completedOf:"of {{total}} achievements unlocked",emptyState:{title:"No Achievements Here Yet",descriptionAll:"Start your learning journey to unlock achievements and earn XP!",descriptionCategory:"Complete tasks in the {{category}} category to unlock achievements here."},sidebar:{overview:"Your Progress",nextSuggested:"Suggested Next",gettingStarted:"Getting Started",keepGoing:"Keep Going!",hoverTip:"Hover over any achievement to see detailed information here.",inProgressMessage:"You have {{count}} achievements in progress. Great momentum!",quickWinsTip:"Start with Profile category achievements for easy wins.",halfwayThere:"You're halfway there! Only {{remaining}} more to go.",allComplete:"Amazing! You've completed all achievements!"},categories:{community:"Community",profile:"Profile",learning:"Learning",social:"Social"},tasks:{telegramJoin:{title:"Join Telegram Group",description:"Join our community on Telegram and stay updated with all the news",action:"Join Telegram"},discordJoin:{title:"Join Discord",description:"Connect with other students and mentors on our Discord server",action:"Join Discord"},firstMessage:{title:"First Message",description:"Send your first message in any community channel"},emailVerify:{title:"Verify your Email",description:"Confirm your email address through the link sent",action:"Resend Email"},completeProfile:{title:"Complete your Profile",description:"Fill in all your professional profile information",action:"Go to Profile"},githubConnect:{title:"Connect your GitHub",description:"Link your GitHub account to your profile",action:"Connect GitHub"},linkedinConnect:{title:"Connect your LinkedIn",description:"Link your LinkedIn account to your profile",action:"Connect LinkedIn"},twitterFollow:{title:"Follow on Twitter",description:"Follow @ForgeCollege on Twitter to stay updated",action:"Follow on Twitter"},shareProgress:{title:"Share your Progress",description:"Share your learning journey on social media"},firstLesson:{title:"First Lesson",description:"Complete your first lesson in any path"},weekStreak:{title:"7-Day Streak",description:"Study for 7 consecutive days"},completePath:{title:"Complete a Path",description:"Finish all lessons in a learning path"},perfectQuiz:{title:"Perfect Quiz",description:"Score 100% on a quiz"}}},Pv={testPage:{title:" Test Page - Forge College",description:"This is a static test page without external dependencies.",systemStatus:{title:"System status",react:" React running",typescript:" TypeScript running",build:" Build running",deploy:" Deployment running",ssr:" SSR running (timestamp: {{timestamp}})"},environment:{title:"Environment information (SSR)",serverTimestamp:"Server timestamp:",noJsMessage:"If you can read this text without JavaScript, SSR is OK."},clientTest:{title:"Client-side JavaScript test",instructions:"If JavaScript is working, you will see additional information below:",loading:"Loading client information...",button:"Test JavaScript"},alerts:{jsWorking:"JavaScript is working!"},footer:"If you are seeing this page, the issue is not infrastructure related.",js:{clientReady:" JavaScript running!",userAgent:"User agent:",url:"URL:",clientTimestamp:"Client timestamp:"}},ssrCanary:{title:"SSR Canary Test",status:"SSR CANARY OK: {{timestamp}}",instructions:"If you can see this text, SSR is working.",timestamp:"Timestamp: {{timestamp}}",renderMode:"This page renders static HTML on the server.",runtime:"Runtime: Node.js",dynamicMode:"Dynamic: force-dynamic"},staticBare:{title:"Static Bare SSR Test",status:"STATIC BARE SSR OK: {{timestamp}}",instructions:"If you can see this text, SSR is working.",timestamp:"Timestamp: {{timestamp}}",renderMode:"This page renders static HTML on the server."}},Tv={errors:{loginRequired:"You need to be logged in to submit projects.",required:"Enter the GitHub repository URL.",invalidUrl:"Enter a valid URL.",githubOnly:"Please submit a GitHub repository link.",submitFailed:"Could not submit the project. Try again."},notifications:{fetchError:"Failed to load your project submissions.",submitError:"Failed to submit project.",submitted:"Project submitted! Great job applying your knowledge.",updated:"Project submission updated."},module:{title:"Module projects: {{module}}",subtitle:"Apply what you learned in this module by completing one of the projects below.",noProjects:"This module does not have projects yet.",communityLink:"See community submissions",projectOrder:"Project #{{order}}",xpValue:"XP {{xp}}",startProject:"Start project",updateSubmission:"Update submission",yourSubmission:"Your submission:",dialog:{title:"Project: {{project}}",subtitle:"Review the description and submit your GitHub repository link.",repositoryLabel:"GitHub repository URL",repositoryPlaceholder:"https://github.com/username/repository",repositoryHelp:"Share a public GitHub repository showcasing your implementation.",submitting:"Submitting...",submit:"Submit project"}},community:{loadError:"Failed to load community projects.",loading:"Loading community projects...",title:"Community Projects",subtitle:"Check what other students are building and get inspired.",empty:"No community submissions yet. Be the first to share your solution!",courseLabel:"Course: {{course}}",unknownCourse:"Unassigned course",projectCount:"Projects: {{count}}",projectOrder:"Project #{{order}}",xpValue:"XP {{xp}}",noSubmissions:"No submissions yet.",submissions:"Submissions: {{count}}",visitRepository:"View repository",submittedBy:"Submitted by {{user}}  {{date}}",anonymous:"Anonymous",dateUnknown:"Date unknown"}},Ev={title:"Something went wrong",description:"An unexpected error occurred. Please reload the page.",reload:"Reload page",detailsTitle:"Error details (development)"},Av={common:gv,nav:xv,auth:bv,profile:yv,profileDropdown:vv,dashboard:wv,lessons:jv,admin:Nv,application:_v,applicationForm:Sv,scoreboard:kv,achievements:Cv,diagnostics:Pv,projects:Tv,errorBoundary:Ev},Rv={buttons:{login:"Entrar",signIn:"Entrar",signUp:"Cadastrar",cancel:"Cancelar",delete:"Excluir",save:"Salvar Alteraes",saving:"Salvando...",loading:"Carregando...",submit:"Enviar",tryAgain:"Tentar Novamente",continue:"Continuar",continueLearning:"Continuar aprendendo",send:"Enviar",edit:"Editar",create:"Criar",update:"Atualizar",close:"Fechar",next:"Prximo",previous:"Anterior",testConnection:"Testar Conexo",testing:"Testando..."},labels:{email:"E-mail",password:"Senha",confirmPassword:"Confirmar Senha",fullName:"Nome Completo",country:"Pas",city:"Cidade",languages:"Idiomas",language:"Idioma",user:"Usurio"},placeholders:{email:"m@exemplo.com",emailDemo:"demo@exemplo.com",enterFullName:"Digite seu nome completo",selectCountry:"Selecione seu pas",enterCity:"Digite sua cidade",typeLanguage:"Digite um idioma e pressione Enter"},errors:{required:"Este campo  obrigatrio",invalidUrl:"Por favor, insira uma URL vlida",networkError:"Erro de conexo de rede. Por favor, verifique sua conexo com a internet e tente novamente.",unexpectedError:"Ocorreu um erro inesperado. Por favor, tente novamente."}},Ov={forProfessionals:"Para Profissionais",forCompanies:"Para Empresas",forInvestors:"Para Investidores",dashboard:"Painel",paths:"Trilhas",admin:"Admin",scoreboard:"Placar",achievements:"Conquistas",communityProjects:"Projetos da Comunidade",learn:"Aprender",course:"Curso",path:"Trilha",myProfile:"Meu Perfil",page:"Pgina"},Lv={login:{title:"Entrar",submit:"Entrar",ssoGoogle:"Continuar com Google",ssoGithub:"Continuar com GitHub",orContinueWith:"Ou continue com",dontHaveAccount:"No tem uma conta?",forgotPassword:"Esqueceu sua senha?",errors:{invalidCredentials:"E-mail ou senha invlidos. Por favor, verifique suas credenciais e tente novamente.",emailNotConfirmed:"Por favor, verifique seu e-mail e clique no link de confirmao antes de fazer login.",tooManyAttempts:"Muitas tentativas de login. Por favor, aguarde um momento antes de tentar novamente.",configError:"Erro de configurao do servio de autenticao. Usando modo demo - tente e-mail: demo@exemplo.com, senha: demo123",authServiceError:"Erro no servio de autenticao. A instncia do Supabase pode estar mal configurada.",cannotConnect:"No foi possvel conectar ao servio de autenticao. Por favor, verifique se o Supabase est configurado corretamente.",googleFailed:"Login com Google falhou. Por favor, tente novamente.",githubFailed:"Login com GitHub falhou. Por favor, tente novamente."}},signup:{title:"Criar Conta",submit:"Cadastrar",alreadyHaveAccount:"J tem uma conta?",passwordMismatch:"As senhas no coincidem",success:"Verifique seu e-mail para o link de confirmao!",notConfigured:"Servio de autenticao no configurado. Por favor, contate o administrador."},forgotPassword:{title:"Esqueci a Senha",submit:"Enviar Link de Redefinio",rememberedPassword:"Lembrou sua senha?"},updatePassword:{title:"Atualizar Senha",success:"Senha atualizada com sucesso! Redirecionando para o login..."},logout:{button:"Sair",signingOut:"Saindo..."}},Iv={title:"Meu Perfil",subtitle:"Gerencie suas informaes pessoais e profissionais",unsavedChanges:"Voc tem alteraes no salvas",loadingProfile:"Carregando perfil...",failedToLoad:"Falha ao carregar perfil",sections:{personal:"Informaes Pessoais",personalDesc:"Atualize seus dados pessoais bsicos e informaes de contato",professional:"Perfil Profissional",professionalDesc:"Compartilhe sua experincia de trabalho, habilidades e informaes de carreira",learning:"Progresso de Aprendizado",learningDesc:"Acompanhe sua jornada de aprendizado e conquistas",career:"Preferncias de Carreira",careerDesc:"Defina suas preferncias de trabalho e objetivos de carreira"},fields:{yearsExperience:"Anos de Experincia em Tecnologia",positionCompany:"Cargo e Empresa",positionPlaceholder:"ex: Desenvolvedor Snior @ ACME",stacksDominated:"Stacks Dominadas",stacksDesc:"Tecnologias nas quais voc  proficiente",stacksPlaceholder:"ex: Java, Python, Solidity, React",skillsToDevelop:"Habilidades a Desenvolver",skillsDesc:"reas que voc quer melhorar",skillsPlaceholder:"ex: DeFi, Smart Contracts, Web3",linkedinUrl:"URL do LinkedIn",linkedinPlaceholder:"https://linkedin.com/in/usuario",githubUrl:"URL do GitHub",githubPlaceholder:"https://github.com/usuario",languagePreference:"Preferncia de Idioma",selectLanguage:"Selecione seu idioma preferido"},errors:{fullNameRequired:"Nome completo  obrigatrio",countryRequired:"Pas  obrigatrio",invalidLinkedin:"Por favor, insira uma URL vlida do LinkedIn",invalidGithub:"Por favor, insira uma URL vlida do GitHub"},messages:{emailNote:"O e-mail s pode ser alterado nas configuraes da conta",validationError:"Por favor, corrija os erros antes de salvar.",updateSuccess:"Perfil atualizado com sucesso!",updateError:"Falha ao atualizar perfil. Por favor, tente novamente."},comingSoon:{title:"Em Breve",learning:"O acompanhamento do progresso de aprendizado estar disponvel na prxima atualizao.",career:"As preferncias de carreira estaro disponveis na prxima atualizao."}},Mv={myAccount:"Minha Conta",profile:"Perfil",admin:"Admin",connectWallet:"Conectar Carteira"},Dv={layout:{openMenu:"Abrir menu",loading:"Carregando painel..."},welcomeBack:"Bem-vindo de volta",loading:"Carregando...",notFound:"No encontrado",readMore:"Ler mais",readLess:"Ler menos",enrollToStart:"Inscreva-se para comear",enroll:"Inscrever",enrolling:"Inscrevendo...",enrolled:"Inscrito",viewDetails:"Ver Detalhes",mustLoginToEnroll:"Voc deve estar logado para se inscrever",enrollSuccess:"Inscrito com sucesso!",enrollError:"Falha ao inscrever",loadError:"Falha ao carregar",nothingToContinue:"Nada para continuar agora.",emptyTitle:"Sem trilhas ainda",emptySubtitle:"Inscreva-se em uma trilha para comear",progressSuffix:"completo",home:{badge:"Bem-vindo de volta",headlineSuffix:", pronto para continuar sua jornada?",exploreCta:"Ver todas as trilhas"},continueLearning:{title:"Retome de onde parou",subtitle:"Voc estava estudando:"},availablePaths:{enrolledBadge:"Inscrito",courses_one:"{{count}} curso",courses_other:"{{count}} cursos"},learningHabits:{title:"Hbitos de estudo",currentStreak:"Sequncia atual",dayCount_one:"{{count}} dia",dayCount_other:"{{count}} dias",keepGoing:"Mantenha o ritmo diariamente",weeklyGoal:"Meta semanal",weekProgress:"{{completed}}/{{goal}} lies",completions_one:"{{count}} concluso",completions_other:"{{count}} concluses",loadError:"Falha ao carregar hbitos de aprendizado"},userStats:{totalXp:"XP total",completedLessons:"Lies concludas",activePaths:"Trilhas ativas",studyTime:"Tempo de estudo",studyTimeValue:"{{minutes}} min",errors:{loadProgress:"Falha ao carregar progresso do usurio",loadLessons:"Falha ao carregar lies"}},myLearningPaths:{emptyTitle:"Voc ainda no est inscrito em nenhuma trilha.",emptySubtitle:"Explore as trilhas disponveis e inscreva-se para comear.",progressLabel:"{{progress}}% concludo"},pathOverview:{badge:"Trilha",notFound:"Trilha de aprendizado no encontrada.",continue:"Continuar",courses:"Cursos"},errors:{notAuthenticated:"No autenticado",failedToEnroll:"Falha ao inscrever"}},$v={selectToBegin:"Selecione uma lio para comear.",lessonInfo:"Lio {{current}} de {{total}}  {{xp}} XP",previousLesson:"Lio anterior",completeAndContinue:"Completar e Continuar",markAsCompleted:"Marcar como Concludo",submitAnswer:"Enviar Resposta",loginToTrack:"Voc precisa estar logado para acompanhar o progresso",progressSaveFailed:"Falha ao salvar progresso",lessonCompleted:"Lio marcada como concluda!",completionError:"Erro ao marcar lio como concluda"},Fv={layout:{kicker:"Admin",title:"Gesto de Contedo",subtitle:"Crie, organize e publique experincias de aprendizado para a comunidade.",nav:{overview:"Viso geral",paths:"Trilhas",courses:"Cursos",modules:"Mdulos",lessons:"Lies",projects:"Projetos"}},paths:{title:"Trilhas de Aprendizado",new:"Nova trilha de aprendizado",edit:"Editar trilha de aprendizado",delete:"Excluir trilha de aprendizado",deleteConfirm:'Esta ao no pode ser desfeita. Excluir uma trilha remover todos os cursos, mdulos e lies associados. Tem certeza de que deseja remover "{{title}}"?',created:"Trilha de aprendizado criada",updated:"Trilha de aprendizado atualizada",deleted:"Trilha de aprendizado excluda",validation:{titleMin:"O ttulo deve ter pelo menos 3 caracteres",slugMin:"O slug deve ter pelo menos 3 caracteres",slugFormat:"O slug deve ser minsculo apenas com hfens"}},courses:{title:"Cursos",new:"Novo curso",edit:"Editar curso",delete:"Excluir curso",deleteConfirm:'Esta ao no pode ser desfeita. Tem certeza de que deseja remover "{{title}}"?',created:"Curso criado",updated:"Curso atualizado",deleted:"Curso excludo"},modules:{title:"Mdulos",new:"Novo mdulo",edit:"Editar mdulo",delete:"Excluir mdulo",deleteConfirm:'Esta ao no pode ser desfeita. Tem certeza de que deseja remover "{{title}}"?',created:"Mdulo criado",updated:"Mdulo atualizado",deleted:"Mdulo excludo"},lessons:{title:"Lies",new:"Nova lio",edit:"Editar lio",delete:"Excluir lio",deleteConfirm:'Esta ao no pode ser desfeita. Tem certeza de que deseja remover "{{title}}"?',created:"Lio criada",updated:"Lio atualizada",deleted:"Lio excluda"},projects:{title:"Projetos",subtitle:"Associe projetos aos mdulos para reforar o aprendizado aplicado ao final de cada mdulo.",actions:{newProject:"Novo projeto"},filters:{modulePlaceholder:"Filtrar por mdulo",allModules:"Todos os mdulos"},loading:"Carregando projetos...",emptyState:"Nenhum projeto encontrado para os filtros atuais.",unassignedModule:"Mdulo sem atribuio",labels:{course:"Curso: {{course}}",projectNumber:"Projeto #{{number}}",inactive:"Inativo",xpValue:"XP {{xp}}"},markdown:{loading:"Carregando editor...",ariaLabel:"Editor de Markdown"},dialog:{editTitle:"Editar projeto",createTitle:"Criar projeto",description:"Descreva expectativas e orientaes para o projeto do mdulo."},form:{module:"Mdulo",modulePlaceholder:"Selecione um mdulo",title:"Ttulo",titlePlaceholder:"Ttulo do projeto",description:"Descrio do projeto",descriptionPlaceholder:"Descreva objetivos, entregveis e recursos que os estudantes devem consultar. Suporta contedo HTML.",descriptionHelp:"Voc pode usar HTML para formatar o contedo (ttulos, listas, links, etc.).",xpValue:"Recompensa de XP",xpValuePlaceholder:"XP opcional",xpValueHelp:"Deixe em branco se este projeto no conceder XP.",activeLabel:"Visibilidade do projeto",activeDescription:"Use para ocultar o projeto dos alunos enquanto realiza ajustes."},validation:{moduleRequired:"Selecione um mdulo",titleMin:"O ttulo deve ter pelo menos 3 caracteres",xpMin:"O XP deve ser zero ou maior"},notifications:{loadError:"Falha ao carregar projetos",created:"Projeto criado",updated:"Projeto atualizado",saveError:"Falha ao salvar projeto",deleted:"Projeto excludo",deleteError:"Falha ao excluir projeto"},delete:{title:"Excluir projeto",description:'Esta ao no pode ser desfeita. Tem certeza de que deseja remover "{{title}}"?',confirm:"Excluir projeto"}}},Vv={submit:"Enviar Inscrio",selectTimeline:"Selecionar prazo",timelineImmediate:"Imediato (prximos 30 dias)",timelineQuarter:"Este trimestre"},Bv={accessibility:{close:"Fechar janela"},messages:{success:"Obrigado pela sua aplicao! Entraremos em contato em breve."},fields:{name:"Nome completo",email:"Endereo de e-mail",company:"Empresa / organizao",experienceLabel:"Nvel de experincia atual",experiencePlaceholder:"Selecione seu nvel",experienceOptions:{beginner:"Iniciante (0-2 anos)",intermediate:"Intermedirio (2-5 anos)",advanced:"Avanado (5+ anos)"},portfolio:"URL do portflio / LinkedIn",investmentAmountLabel:"Faixa de investimento",investmentAmountPlaceholder:"Selecione a faixa",investmentAmountOptions:{"10k_50k":"$10k - $50k","50k_100k":"$50k - $100k","100k_500k":"$100k - $500k","500k_plus":"$500k+"},timelineLabel:"Prazo de investimento",timelineOptions:{year:"Este ano",exploring:"Apenas explorando"},message:"Mensagem",messagePlaceholder:"Conte-nos mais sobre o seu interesse..."}},Uv={title:"Scoreboard",subtitle:"Confira os rankings dos estudantes com maior XP",global:"Global",byPath:"Por Path",rankingGlobal:"Ranking Global - Todos os Paths",ranking:"Ranking - {{pathName}}",xp:"XP",lessons:"lies"},zv={title:"Achievements",subtitle:"Complete tarefas e ganhe XP extra para subir no ranking",completed:"Concludos",inProgress:"Em Progresso",xpEarned:"XP Ganho",xpAvailable:"XP Disponvel",progress:"Progresso",all:"Todos",completedBadge:" Concludo",locked:" Bloqueado",categories:{community:"Comunidade",profile:"Perfil",learning:"Aprendizado",social:"Social"},tasks:{telegramJoin:{title:"Entre no Grupo Telegram",description:"Junte-se  nossa comunidade no Telegram e fique por dentro de todas as novidades",action:"Entrar no Telegram"},discordJoin:{title:"Entre no Discord",description:"Conecte-se com outros estudantes e mentores no nosso servidor Discord",action:"Entrar no Discord"},firstMessage:{title:"Primeira Mensagem",description:"Envie sua primeira mensagem em qualquer canal da comunidade"},emailVerify:{title:"Verifique seu Email",description:"Confirme seu endereo de email atravs do link enviado",action:"Reenviar Email"},completeProfile:{title:"Complete seu Perfil",description:"Preencha todas as informaes do seu perfil profissional",action:"Ir para Perfil"},githubConnect:{title:"Conecte seu GitHub",description:"Vincule sua conta do GitHub ao seu perfil",action:"Conectar GitHub"},linkedinConnect:{title:"Conecte seu LinkedIn",description:"Vincule sua conta do LinkedIn ao seu perfil",action:"Conectar LinkedIn"},twitterFollow:{title:"Siga no Twitter",description:"Siga @ForgeCollege no Twitter para ficar atualizado",action:"Seguir no Twitter"},shareProgress:{title:"Compartilhe seu Progresso",description:"Compartilhe sua jornada de aprendizado nas redes sociais"},firstLesson:{title:"Primeira Lio",description:"Complete sua primeira lio em qualquer path"},weekStreak:{title:"Sequncia de 7 Dias",description:"Estude por 7 dias consecutivos"},completePath:{title:"Complete um Path",description:"Finalize todas as lies de um learning path"},perfectQuiz:{title:"Quiz Perfeito",description:"Acerte 100% das questes em um quiz"}}},qv={testPage:{title:" Pgina de Teste - Forge College",description:"Esta  uma pgina de teste esttica sem dependncias externas.",systemStatus:{title:"Status do sistema",react:" React funcionando",typescript:" TypeScript funcionando",build:" Build funcionando",deploy:" Deploy funcionando",ssr:" SSR funcionando (timestamp: {{timestamp}})"},environment:{title:"Informaes do ambiente (SSR)",serverTimestamp:"Timestamp do servidor:",noJsMessage:"Se voc v este texto sem JavaScript, o SSR est OK."},clientTest:{title:"Teste de JavaScript (client-side)",instructions:"Se o JavaScript estiver funcionando, voc ver informaes adicionais abaixo:",loading:"Carregando informaes do cliente...",button:"Testar JavaScript"},alerts:{jsWorking:"JavaScript est funcionando!"},footer:"Se voc est vendo esta pgina, o problema no  de infraestrutura.",js:{clientReady:" JavaScript funcionando!",userAgent:"User agent:",url:"URL:",clientTimestamp:"Timestamp do cliente:"}},ssrCanary:{title:"Teste Canary de SSR",status:"SSR CANARY OK: {{timestamp}}",instructions:"Se voc v este texto, o SSR est funcionando.",timestamp:"Timestamp: {{timestamp}}",renderMode:"Esta pgina renderiza HTML esttico no servidor.",runtime:"Runtime: Node.js",dynamicMode:"Dinmico: force-dynamic"},staticBare:{title:"Teste Static Bare SSR",status:"STATIC BARE SSR OK: {{timestamp}}",instructions:"Se voc v este texto, o SSR est funcionando.",timestamp:"Timestamp: {{timestamp}}",renderMode:"Esta pgina renderiza HTML esttico no servidor."}},Wv={errors:{loginRequired:"Voc precisa estar logado para enviar projetos.",required:"Informe a URL do repositrio no GitHub.",invalidUrl:"Insira uma URL vlida.",githubOnly:"Envie um link de repositrio do GitHub.",submitFailed:"No foi possvel enviar o projeto. Tente novamente."},notifications:{fetchError:"Falha ao carregar seus envios de projeto.",submitError:"Falha ao enviar projeto.",submitted:"Projeto enviado! Excelente aplicao do que voc aprendeu.",updated:"Envio do projeto atualizado."},module:{title:"Projetos do mdulo: {{module}}",subtitle:"Coloque em prtica o que aprendeu neste mdulo completando um dos projetos abaixo.",noProjects:"Este mdulo ainda no possui projetos.",communityLink:"Ver envios da comunidade",projectOrder:"Projeto #{{order}}",xpValue:"XP {{xp}}",startProject:"Iniciar projeto",updateSubmission:"Atualizar envio",yourSubmission:"Seu envio:",dialog:{title:"Projeto: {{project}}",subtitle:"Revise a descrio e envie o link do seu repositrio no GitHub.",repositoryLabel:"URL do repositrio no GitHub",repositoryPlaceholder:"https://github.com/usuario/repositorio",repositoryHelp:"Compartilhe um repositrio pblico no GitHub mostrando sua implementao.",submitting:"Enviando...",submit:"Enviar projeto"}},community:{loadError:"Falha ao carregar projetos da comunidade.",loading:"Carregando projetos da comunidade...",title:"Projetos da Comunidade",subtitle:"Veja o que outros estudantes esto construindo e inspire-se.",empty:"Ainda no h envios da comunidade. Seja o primeiro a compartilhar sua soluo!",courseLabel:"Curso: {{course}}",unknownCourse:"Curso no atribudo",projectCount:"Projetos: {{count}}",projectOrder:"Projeto #{{order}}",xpValue:"XP {{xp}}",noSubmissions:"Nenhum envio ainda.",submissions:"Envios: {{count}}",visitRepository:"Ver repositrio",submittedBy:"Enviado por {{user}}  {{date}}",anonymous:"Annimo",dateUnknown:"Data desconhecida"}},Hv={title:"Algo deu errado",description:"Ocorreu um erro inesperado. Por favor, recarregue a pgina.",reload:"Recarregar pgina",detailsTitle:"Detalhes do erro (desenvolvimento)"},Kv={common:Rv,nav:Ov,auth:Lv,profile:Iv,profileDropdown:Mv,dashboard:Dv,lessons:$v,admin:Fv,application:Vv,applicationForm:Bv,scoreboard:Uv,achievements:zv,diagnostics:qv,projects:Wv,errorBoundary:Hv},Im="app_language",Gv=()=>{const e=document.cookie.split(";").find(s=>s.trim().startsWith(`${Im}=`));return e?e.split("=")[1]:"en-US"},Jv=t=>{const e=new Date;e.setFullYear(e.getFullYear()+1),document.cookie=`${Im}=${t};expires=${e.toUTCString()};path=/;SameSite=Lax`};qe.use(Ob).init({resources:{"en-US":{translation:Av},"pt-BR":{translation:Kv}},lng:Gv(),fallbackLng:"en-US",interpolation:{escapeValue:!1}});qe.on("languageChanged",t=>{Jv(t)});const Zv="modulepreload",Xv=function(t){return"/"+t},Vd={},Na=function(e,s,r){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(s.map(c=>{if(c=Xv(c),c in Vd)return;Vd[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Zv,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Yv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Na(async()=>{const{default:r}=await Promise.resolve().then(()=>Xr);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class uc extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Qv extends uc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Bd extends uc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ud extends uc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var nl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(nl||(nl={}));var e0=function(t,e,s,r){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class t0{constructor(e,{headers:s={},customFetch:r,region:a=nl.Any}={}){this.url=e,this.headers=s,this.region=a,this.fetch=Yv(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return e0(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=s;let l={},{region:c}=s;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(x=>{throw new Qv(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Bd(h);if(!h.ok)throw new Ud(h);let m=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield h.json():m==="application/octet-stream"?p=yield h.blob():m==="text/event-stream"?p=h:m==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof Ud||a instanceof Bd?a.context:void 0}}})}}var rt={},hc={},Gi={},_a={},Ji={},Zi={},s0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ir=s0();const r0=Ir.fetch,Mm=Ir.fetch.bind(Ir),Dm=Ir.Headers,n0=Ir.Request,a0=Ir.Response,Xr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Dm,Request:n0,Response:a0,default:Mm,fetch:r0},Symbol.toStringTag,{value:"Module"})),i0=Lb(Xr);var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});let o0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Xi.default=o0;var $m=Nt&&Nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zi,"__esModule",{value:!0});const l0=$m(i0),c0=$m(Xi);let d0=class{constructor(e){var s,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(s=e.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=l0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=new Headers(this.headers),this.headers.set(e,s),this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,h=null,f=null,m=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const N=await i.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=N:h=JSON.parse(N))}const g=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");g&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(h=[],u=null,m=200,p="OK")}catch{i.status===404&&g===""?(m=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new c0.default(u)}return{error:u,data:h,count:f,status:m,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,s)}returns(){return this}overrideTypes(){return this}};Zi.default=d0;var u0=Nt&&Nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ji,"__esModule",{value:!0});const h0=u0(Zi);let f0=class extends h0.default{select(e){let s=!1;const r=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:a=r}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,s?"verbose":null,r?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ji.default=f0;var m0=Nt&&Nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_a,"__esModule",{value:!0});const p0=m0(Ji);let g0=class extends p0.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};_a.default=g0;var x0=Nt&&Nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gi,"__esModule",{value:!0});const mn=x0(_a);let b0=class{constructor(e,{headers:s={},schema:r,fetch:a}){this.url=e,this.headers=new Headers(s),this.schema=r,this.fetch=a}select(e,{head:s=!1,count:r}={}){const a=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new mn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:s,defaultToNull:r=!0}={}){var a;const i="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new mn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new mn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:s}={}){var r;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new mn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var s;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new mn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Gi.default=b0;var Fm=Nt&&Nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hc,"__esModule",{value:!0});const y0=Fm(Gi),v0=Fm(_a);let w0=class Vm{constructor(e,{headers:s={},schema:r,fetch:a}={}){this.url=e,this.headers=new Headers(s),this.schemaName=r,this.fetch=a}from(e){const s=new URL(`${this.url}/${e}`);return new y0.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Vm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let d;r||a?(l=r?"HEAD":"GET",Object.entries(s).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",d=s);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new v0.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};hc.default=w0;var Yr=Nt&&Nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rt,"__esModule",{value:!0});rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const Bm=Yr(hc);rt.PostgrestClient=Bm.default;const Um=Yr(Gi);rt.PostgrestQueryBuilder=Um.default;const zm=Yr(_a);rt.PostgrestFilterBuilder=zm.default;const qm=Yr(Ji);rt.PostgrestTransformBuilder=qm.default;const Wm=Yr(Zi);rt.PostgrestBuilder=Wm.default;const Hm=Yr(Xi);rt.PostgrestError=Hm.default;var j0=rt.default={PostgrestClient:Bm.default,PostgrestQueryBuilder:Um.default,PostgrestFilterBuilder:zm.default,PostgrestTransformBuilder:qm.default,PostgrestBuilder:Wm.default,PostgrestError:Hm.default};const{PostgrestClient:N0,PostgrestQueryBuilder:DR,PostgrestFilterBuilder:$R,PostgrestTransformBuilder:FR,PostgrestBuilder:VR,PostgrestError:BR}=j0;class _0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const S0="2.15.1",k0=`realtime-js/${S0}`,C0="1.0.0",al=1e4,P0=1e3,T0=100;var En;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(En||(En={}));var Be;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Be||(Be={}));var Ot;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ot||(Ot={}));var il;(function(t){t.websocket="websocket"})(il||(il={}));var Fs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Fs||(Fs={}));class E0{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const a=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+a));o=o+a;const c=r.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class Km{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Pe||(Pe={}));const zd=(t,e,s={})=>{var r;const a=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=A0(o,t,e,a),i),{})},A0=(t,e,s,r)=>{const a=e.find(l=>l.name===t),i=a==null?void 0:a.type,o=s[t];return i&&!r.includes(i)?Gm(i,o):ol(o)},Gm=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return I0(e,s)}switch(t){case Pe.bool:return R0(e);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return O0(e);case Pe.json:case Pe.jsonb:return L0(e);case Pe.timestamp:return M0(e);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return ol(e);default:return ol(e)}},ol=t=>t,R0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},O0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},L0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},I0=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Gm(e,l))}return t},M0=t=>typeof t=="string"?t.replace(" ","T"):t,Jm=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class yo{constructor(e,s,r={},a=al){this.channel=e,this.event=s,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(qd||(qd={}));class An{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=An.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=An.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=An.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,a){const i=this.cloneDeep(e),o=this.transformState(s),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(g=>g.presence_ref),m=h.map(g=>g.presence_ref),p=u.filter(g=>m.indexOf(g.presence_ref)<0),x=h.filter(g=>f.indexOf(g.presence_ref)<0);p.length>0&&(l[d]=p),x.length>0&&(c[d]=x)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},r,a)}static syncDiff(e,s,r,a){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);e[l].unshift(...f)}r(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,a(l,d,c),d.length===0&&delete e[l]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const a=e[r];return"metas"in a?s[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=a,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wd;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Wd||(Wd={}));var Rn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Rn||(Rn={}));var es;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(es||(es={}));class fc{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new yo(this,Ot.join,this.params,this.timeout),this.rejoinTimer=new Km(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ot.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new An(this),this.broadcastEndpointURL=Jm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Be.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Rn.PRESENCE]&&this.bindings[Rn.PRESENCE].length>0,u={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(es.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(es.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){e==null||e(es.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(m=p==null?void 0:p.length)!==null&&m!==void 0?m:0,g=[];for(let y=0;y<x;y++){const N=p[y],{filter:{event:w,schema:_,table:v,filter:j}}=N,S=f&&f[y];if(S&&S.event===w&&S.schema===_&&S.table===v&&S.filter===j)g.push(Object.assign(Object.assign({},N),{id:S.id}));else{this.unsubscribe(),this.state=Be.errored,e==null||e(es.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(es.SUBSCRIBED);return}}).receive("error",f=>{this.state=Be.errored,e==null||e(es.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(es.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===Be.joined&&e===Rn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async send(e,s={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Be.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ot.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new yo(this,Ot.leave,{},e),r.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Be.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new yo(this,e,s,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>T0){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var a,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Ot;if(r&&[l,c,d,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var p,x,g;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((g=(x=m.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var p,x,g,y,N,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,v=(p=m.filter)===null||p===void 0?void 0:p.event;return _&&((x=s.ids)===null||x===void 0?void 0:x.includes(_))&&(v==="*"||(v==null?void 0:v.toLocaleLowerCase())===((g=s.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(N=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return _==="*"||_===((w=s==null?void 0:s.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:x,table:g,commit_timestamp:y,type:N,errors:w}=p;f=Object.assign(Object.assign({},{schema:x,table:g,commit_timestamp:y,eventType:N,new:{},old:{},errors:w}),this._getPayloadRecords(p))}m.callback(f,r)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const a=e.toLocaleLowerCase(),i={type:a,filter:s,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&fc.isEqual(a.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ot.close,{},e)}_onError(e){this._on(Ot.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=zd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=zd(e.columns,e.old_record)),s}}const Hd=()=>{},Da={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D0=[1e3,2e3,5e3,1e4],$0=1e4,F0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class V0{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=al,this.transport=null,this.heartbeatIntervalMs=Da.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hd,this.ref=0,this.reconnectTimer=null,this.logger=Hd,this.conn=null,this.sendBuffer=[],this.serializer=new E0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Na(async()=>{const{default:l}=await Promise.resolve().then(()=>Xr);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${il.websocket}`,this.httpEndpoint=Jm(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:C0}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case En.connecting:return Fs.Connecting;case En.open:return Fs.Open;case En.closing:return Fs.Closing;default:return Fs.Closed}}isConnected(){return this.connectionState()===Fs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new fc(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:a,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${r} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(P0,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Da.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:i,ref:o}=s,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ot.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${e}${r}${a}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([F0],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const a={access_token:s,version:k0};s&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(Ot.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Km(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Da.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,a,i,o,l,c,d;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:al,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Da.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:u=>D0[u-1]||$0,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(u,h)=>h(JSON.stringify(u)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class mc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class B0 extends mc{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ll extends mc{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var U0=function(t,e,s,r){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const Zm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Na(async()=>{const{default:r}=await Promise.resolve().then(()=>Xr);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},z0=()=>U0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Na(()=>Promise.resolve().then(()=>Xr),void 0)).Response:Response}),cl=t=>{if(Array.isArray(t))return t.map(s=>cl(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const a=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=cl(r)}),e},q0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var er=function(t,e,s,r){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const vo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),W0=(t,e,s)=>er(void 0,void 0,void 0,function*(){const r=yield z0();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(a=>{const i=t.status||500,o=(a==null?void 0:a.statusCode)||i+"";e(new B0(vo(a),i,o))}).catch(a=>{e(new ll(vo(a),a))}):e(new ll(vo(t),t))}),H0=(t,e,s,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?a:(q0(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(r)):a.body=r,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),s))};function Sa(t,e,s,r,a,i){return er(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(s,H0(e,r,a,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>W0(c,l,r))})})}function ji(t,e,s,r){return er(this,void 0,void 0,function*(){return Sa(t,"GET",e,s,r)})}function Ut(t,e,s,r,a){return er(this,void 0,void 0,function*(){return Sa(t,"POST",e,r,a,s)})}function dl(t,e,s,r,a){return er(this,void 0,void 0,function*(){return Sa(t,"PUT",e,r,a,s)})}function K0(t,e,s,r){return er(this,void 0,void 0,function*(){return Sa(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Xm(t,e,s,r,a){return er(this,void 0,void 0,function*(){return Sa(t,"DELETE",e,r,a,s)})}var Ze=function(t,e,s,r){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const G0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class J0{constructor(e,s={},r,a){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Zm(a)}uploadOrUpdate(e,s,r,a){return Ze(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Kd),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),h=yield(e=="PUT"?dl:Ut)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Ue(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,a){return Ze(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:Kd.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield dl(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(Ue(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,s){return Ze(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);s!=null&&s.upsert&&(a["x-upsert"]="true");const i=yield Ut(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new mc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}update(e,s,r){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Ze(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ue(a))return{data:null,error:a};throw a}})}copy(e,s,r){return Ze(this,void 0,void 0,function*(){try{return{data:{path:(yield Ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ue(a))return{data:null,error:a};throw a}})}createSignedUrl(e,s,r){return Ze(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield Ut(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Ue(a))return{data:null,error:a};throw a}})}createSignedUrls(e,s,r){return Ze(this,void 0,void 0,function*(){try{const a=yield Ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Ue(a))return{data:null,error:a};throw a}})}download(e,s){return Ze(this,void 0,void 0,function*(){const a=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ji(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ue(l))return{data:null,error:l};throw l}})}info(e){return Ze(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield ji(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:cl(r),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}exists(e){return Ze(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield K0(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ue(r)&&r instanceof ll){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),a=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&a.push(i);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(e){return Ze(this,void 0,void 0,function*(){try{return{data:yield Xm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}list(e,s,r){return Ze(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},G0),s),{prefix:e||""});return{data:yield Ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(Ue(a))return{data:null,error:a};throw a}})}listV2(e,s){return Ze(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ut(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Z0="2.11.0",X0={"X-Client-Info":`storage-js/${Z0}`};var mr=function(t,e,s,r){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class Y0{constructor(e,s={},r,a){const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},X0),s),this.fetch=Zm(r)}listBuckets(){return mr(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ue(e))return{data:null,error:e};throw e}})}getBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return mr(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return mr(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}emptyBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}deleteBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield Xm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}}class Q0 extends Y0{constructor(e,s={},r,a){super(e,s,r,a)}from(e){return new J0(this.url,this.headers,e,this.fetch)}}const ew="2.56.0";let Nn="";typeof Deno<"u"?Nn="deno":typeof document<"u"?Nn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nn="react-native":Nn="node";const tw={"X-Client-Info":`supabase-js-${Nn}/${ew}`},sw={headers:tw},rw={schema:"public"},nw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aw={};var iw=function(t,e,s,r){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const ow=t=>{let e;return t?e=t:typeof fetch>"u"?e=Mm:e=fetch,(...s)=>e(...s)},lw=()=>typeof Headers>"u"?Dm:Headers,cw=(t,e,s)=>{const r=ow(s),a=lw();return(i,o)=>iw(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:d}))})};var dw=function(t,e,s,r){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};function uw(t){return t.endsWith("/")?t:t+"/"}function hw(t,e){var s,r;const{db:a,auth:i,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>dw(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Ym="2.71.1",wr=30*1e3,ul=3,wo=ul*wr,fw="http://localhost:9999",mw="supabase.auth.token",pw={"X-Client-Info":`gotrue-js/${Ym}`},hl="X-Supabase-Api-Version",Qm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xw=10*60*1e3;class pc extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function le(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bw extends pc{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function yw(t){return le(t)&&t.name==="AuthApiError"}class ep extends pc{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class _s extends pc{constructor(e,s,r,a){super(e,r,a),this.name=s,this.status=r}}class hs extends _s{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vw(t){return le(t)&&t.name==="AuthSessionMissingError"}class $a extends _s{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fa extends _s{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Va extends _s{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ww(t){return le(t)&&t.name==="AuthImplicitGrantRedirectError"}class Gd extends _s{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fl extends _s{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function jo(t){return le(t)&&t.name==="AuthRetryableFetchError"}class Jd extends _s{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class ml extends _s{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zd=` 	
\r=`.split(""),jw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Zd.length;e+=1)t[Zd[e].charCodeAt(0)]=-2;for(let e=0;e<Ni.length;e+=1)t[Ni[e].charCodeAt(0)]=e;return t})();function Xd(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Ni[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Ni[r]),e.queuedBits-=6}}function tp(t,e,s){const r=jw[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Yd(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Sw(o,r,s)};for(let o=0;o<t.length;o+=1)tp(t.charCodeAt(o),a,i);return e.join("")}function Nw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function _w(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}Nw(r,e)}}function Sw(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function kw(t){const e=[],s={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)tp(t.charCodeAt(a),s,r);return new Uint8Array(e)}function Cw(t){const e=[];return _w(t,s=>e.push(s)),new Uint8Array(e)}function Pw(t){const e=[],s={queue:0,queuedBits:0},r=a=>{e.push(a)};return t.forEach(a=>Xd(a,s,r)),Xd(null,s,r),e.join("")}function Tw(t){return Math.round(Date.now()/1e3)+t}function Ew(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const At=()=>typeof window<"u"&&typeof document<"u",Rs={tested:!1,writable:!1},sp=()=>{if(!At())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rs.tested)return Rs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Rs.tested=!0,Rs.writable=!0}catch{Rs.tested=!0,Rs.writable=!1}return Rs.writable};function Aw(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return s.searchParams.forEach((r,a)=>{e[a]=r}),e}const rp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Na(async()=>{const{default:r}=await Promise.resolve().then(()=>Xr);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Rw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",jr=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Os=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},cs=async(t,e)=>{await t.removeItem(e)};class Yi{constructor(){this.promise=new Yi.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Yi.promiseConstructor=Promise;function No(t){const e=t.split(".");if(e.length!==3)throw new ml("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!gw.test(e[r]))throw new ml("JWT not in base64url format");return{header:JSON.parse(Yd(e[0])),payload:JSON.parse(Yd(e[1])),signature:kw(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ow(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Lw(t,e){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function Iw(t){return("0"+t.toString(16)).substr(-2)}function Mw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let a="";for(let i=0;i<56;i++)a+=s.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,Iw).join("")}async function Dw(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function $w(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Dw(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pr(t,e,s=!1){const r=Mw();let a=r;s&&(a+="/PASSWORD_RECOVERY"),await jr(t,`${e}-code-verifier`,a);const i=await $w(r);return[i,r===i?"plain":"s256"]}const Fw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vw(t){const e=t.headers.get(hl);if(!e||!e.match(Fw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Bw(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Uw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gr(t){if(!zw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _o(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qd(t){return JSON.parse(JSON.stringify(t))}var qw=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(s[r[a]]=t[r[a]]);return s};const Is=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ww=[502,503,504];async function eu(t){var e;if(!Rw(t))throw new fl(Is(t),0);if(Ww.includes(t.status))throw new fl(Is(t),t.status);let s;try{s=await t.json()}catch(i){throw new ep(Is(i),i)}let r;const a=Vw(t);if(a&&a.getTime()>=Qm["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Jd(Is(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new hs}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Jd(Is(s),t.status,s.weak_password.reasons);throw new bw(Is(s),t.status||500,r)}const Hw=(t,e,s,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),s))};async function pe(t,e,s,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[hl]||(i[hl]=Qm["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Kw(t,e,s+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Kw(t,e,s,r,a,i){const o=Hw(e,r,a,i);let l;try{l=await t(s,Object.assign({},o))}catch(c){throw console.error(c),new fl(Is(c),0)}if(l.ok||await eu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await eu(c)}}function Qt(t){var e;let s=null;Xw(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Tw(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function tu(t){const e=Qt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function gs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Gw(t){return{data:t,error:null}}function Jw(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:a,verification_type:i}=t,o=qw(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:s,hashed_token:r,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Zw(t){return t}function Xw(t){return t.access_token&&t.refresh_token&&t.expires_in}const So=["global","local","others"];var Yw=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(s[r[a]]=t[r[a]]);return s};class Qw{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=rp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=So[0]){if(So.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${So.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:gs})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Yw(e,["options"]),a=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Jw,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(le(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:gs})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Zw});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);d[`${g}Page`]=x}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(le(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){gr(e);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:gs})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){gr(e);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:gs})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){gr(e);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:gs})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){gr(e.userId);try{const{data:s,error:r}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:r}}catch(s){if(le(s))return{data:null,error:s};throw s}}async _deleteFactor(e){gr(e.userId),gr(e.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}}function su(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function ej(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xr={debug:!!(globalThis&&sp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class np extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tj extends np{}async function sj(t,e,s){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await s()}finally{xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new tj(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}ej();const rj={url:fw,storageKey:mw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ru(t,e,s){return await s()}const br={};class qn{constructor(e){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qn.nextInstanceID,qn.nextInstanceID+=1,this.instanceID>0&&At()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},rj),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Qw({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=rp(a.fetch),this.lock=a.lock||ru,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:At()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=sj:this.lock=ru,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:sp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=su(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=su(this.memoryStorage)),At()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=br[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){br[this.storageKey]=Object.assign(Object.assign({},br[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=br[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){br[this.storageKey]=Object.assign(Object.assign({},br[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ym}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Aw(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),At()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ww(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return le(s)?{error:s}:{error:new ep("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,a;try{const i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Qt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,a;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await pr(this.storage,this.storageKey)),i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},xform:Qt})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Qt})}else throw new Fa("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:l}=e;s=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:tu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;s=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:tu})}else throw new Fa("You must provide either an email or phone number and a password");const{data:r,error:a}=s;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new $a}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,a,i,o,l,c,d,u,h,f,m;let p,x;if("message"in e)p=e.message,x=e.signature;else{const{chain:g,wallet:y,statement:N,options:w}=e;let _;if(At())if(typeof y=="object")_=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const v=new URL((s=w==null?void 0:w.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),N?{statement:N}:null));let S;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")S=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)S=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),x=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${v.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${(a=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=j}}try{const{data:g,error:y}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Pw(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Qt});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new $a}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(le(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const s=await Os(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(s??"").split("/");try{const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Qt});if(await cs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new $a}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(le(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:a,access_token:i,nonce:o}=e,l=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Qt}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new $a}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,a,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await pr(this.storage,this.storageKey));const{error:h}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Fa("You must provide either an email or phone number.")}catch(l){if(le(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var s,r;try{let a,i;"options"in e&&(a=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Qt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(le(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var s,r,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await pr(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Gw})}catch(i){if(le(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new hs;const{error:a}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(le(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:i}=e,{error:o}=await pe(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:a,options:i}=e,{data:o,error:l}=await pe(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Fa("You must provide either an email or phone number and a type")}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<wo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Os(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=_o()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:gs}):await this._useSession(async s=>{var r,a,i;const{data:o,error:l}=s;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hs}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:gs})})}catch(s){if(le(s))return vw(s)&&(await this._removeSession(),await cs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new hs;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await pr(this.storage,this.storageKey));const{data:d,error:u}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:gs});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hs;const s=Date.now()/1e3;let r=s,a=!0,i=null;const{payload:o}=No(e.access_token);if(o.exp&&(r=o.exp,a=r<=s),a){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(le(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:l}=s;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new hs;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!At())throw new Va("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Va(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Gd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Va("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gd("No code detected.");const{data:N,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new Va("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const m=f-u;m*1e3<=wr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const p=f-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,u);const{data:x,error:g}=await this._getUser(i);if(g)throw g;const y={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(le(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Os(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:a,error:i}=s;if(i)return{error:i};const o=(r=a.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(yw(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await cs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Ew(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,a;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await pr(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(le(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return At()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(le(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,a;const{data:i,error:o}=s;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Lw(async a=>(a>0&&await Ow(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qt})),(a,i)=>{const o=200*Math.pow(2,a);return i&&jo(i)&&Date.now()+o-r<wr})}catch(r){if(this._debug(s,"error",r),le(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),At()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Os(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Os(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await jr(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:_o()}else if(a&&!a.user&&!a.user){const o=await Os(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await cs(this.storage,this.storageKey+"-user"),await jr(this.storage,this.storageKey,a)):a.user=_o()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const i=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<wo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${wo}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),jo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new hs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Yi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new hs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),le(i)){const o={session:null,error:i};return jo(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,s,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,s)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await jr(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const i=Qd(a);await jr(this.storage,this.storageKey,i)}else{const a=Qd(s);await jr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await cs(this.storage,this.storageKey),await cs(this.storage,this.storageKey+"-code-verifier"),await cs(this.storage,this.storageKey+"-user"),this.userStorage&&await cs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&At()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/wr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${wr}ms, refresh threshold is ${ul} ticks`),a<=ul&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof np)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!At()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const a=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await pr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:a,error:i}=s;return i?{data:null,error:i}:await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,a;const{data:i,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:a,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(le(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:a,error:i}=s;return i?{data:null,error:i}:await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(le(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=No(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(s=a.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(l=>l.kid===e);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+xw>a)return r;const{data:i,error:o}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};r=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=No(r);s!=null&&s.allowExpired||Bw(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!d){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const u=Uw(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Cw(`${l}.${c}`)))throw new ml("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}}qn.nextInstanceID=0;const nj=qn;class aj extends nj{constructor(e){super(e)}}var ij=function(t,e,s,r){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class oj{constructor(e,s,r){var a,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=uw(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:rw,realtime:aw,auth:Object.assign(Object.assign({},nw),{storageKey:d}),global:sw},h=hw(r??{},u);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=cw(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new N0(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Q0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new t0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return ij(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aj({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:a,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new V0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lj=(t,e,s)=>new oj(t,e,s);function cj(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}cj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var gc={};Object.defineProperty(gc,"__esModule",{value:!0});gc.parse=gj;gc.serialize=xj;const dj=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,uj=/^[\u0021-\u003A\u003C-\u007E]*$/,hj=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,fj=/^[\u0020-\u003A\u003D-\u007E]*$/,mj=Object.prototype.toString,pj=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function gj(t,e){const s=new pj,r=t.length;if(r<2)return s;const a=(e==null?void 0:e.decode)||bj;let i=0;do{const o=t.indexOf("=",i);if(o===-1)break;const l=t.indexOf(";",i),c=l===-1?r:l;if(o>c){i=t.lastIndexOf(";",o-1)+1;continue}const d=nu(t,i,o),u=au(t,o,d),h=t.slice(d,u);if(s[h]===void 0){let f=nu(t,o+1,c),m=au(t,c,f);const p=a(t.slice(f,m));s[h]=p}i=c+1}while(i<r);return s}function nu(t,e,s){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<s);return s}function au(t,e,s){for(;e>s;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return s}function xj(t,e,s){const r=(s==null?void 0:s.encode)||encodeURIComponent;if(!dj.test(t))throw new TypeError(`argument name is invalid: ${t}`);const a=r(e);if(!uj.test(a))throw new TypeError(`argument val is invalid: ${e}`);let i=t+"="+a;if(!s)return i;if(s.maxAge!==void 0){if(!Number.isInteger(s.maxAge))throw new TypeError(`option maxAge is invalid: ${s.maxAge}`);i+="; Max-Age="+s.maxAge}if(s.domain){if(!hj.test(s.domain))throw new TypeError(`option domain is invalid: ${s.domain}`);i+="; Domain="+s.domain}if(s.path){if(!fj.test(s.path))throw new TypeError(`option path is invalid: ${s.path}`);i+="; Path="+s.path}if(s.expires){if(!yj(s.expires)||!Number.isFinite(s.expires.valueOf()))throw new TypeError(`option expires is invalid: ${s.expires}`);i+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(i+="; HttpOnly"),s.secure&&(i+="; Secure"),s.partitioned&&(i+="; Partitioned"),s.priority)switch(typeof s.priority=="string"?s.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${s.priority}`)}if(s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${s.sameSite}`)}return i}function bj(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function yj(t){return mj.call(t)==="[object Date]"}const iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ou=` 	
\r=`.split("");(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ou.length;e+=1)t[ou[e].charCodeAt(0)]=-2;for(let e=0;e<iu.length;e+=1)t[iu[e].charCodeAt(0)]=e;return t})();const vj=()=>({url:"https://fdeblavnrrnoyqivydsg.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkZWJsYXZucnJub3lxaXZ5ZHNnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0OTgxMzgsImV4cCI6MjA3MDA3NDEzOH0.iaK-5qda3SZGkSwSJRB5ejyJ1Ky8S2tPOxRAPAap_FI"});let ap;try{ap=vj()}catch(t){throw console.error("Supabase config error:",t),t}let Ba=null;function je(){if(Ba)return Ba;const{url:t,anonKey:e}=ap;return Ba=lj(t,e,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce",debug:!1},global:{headers:{"X-Client-Info":"forge-college-web"}},realtime:{params:{eventsPerSecond:10}}}),Ba}const ip=b.createContext(void 0);function wj({children:t}){const[e,s]=b.useState(null),[r,a]=b.useState(null),[i,o]=b.useState(!0),l=b.useRef(!0),c=b.useMemo(()=>je(),[]),d=async()=>{try{o(!0),console.log("Starting sign out process...");const{error:f}=await c.auth.signOut();if(f)throw f;console.log("Supabase sign out successful"),s(null),a(null),localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("supabase.auth.refreshToken"),Object.keys(localStorage).filter(p=>p.includes("google")||p.includes("oauth")||p.includes("auth")).forEach(p=>{console.log("Removing Google/OAuth token:",p),localStorage.removeItem(p)}),document.cookie.split(";").forEach(function(p){document.cookie=p.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),sessionStorage.clear(),console.log("Local storage cleared, redirecting..."),window.location.replace("/")}catch(f){console.error("Error signing out:",f),s(null),a(null),window.location.href="/"}finally{o(!1)}},u=async()=>{try{o(!0);const{data:{session:f},error:m}=await c.auth.getSession();if(m)throw m;a(f),s((f==null?void 0:f.user)??null)}catch(f){console.error("Error refreshing session:",f)}finally{o(!1)}};b.useEffect(()=>{l.current=!0,(async()=>{try{const{data:{session:p},error:x}=await c.auth.getSession();if(x)throw x;l.current&&(a(p),s((p==null?void 0:p.user)??null),o(!1))}catch(p){console.error("Error initializing auth:",p),l.current&&o(!1)}})();const{data:{subscription:m}}=c.auth.onAuthStateChange(async(p,x)=>{var g,y,N;if(l.current)switch(console.log("Auth state changed:",p,(g=x==null?void 0:x.user)==null?void 0:g.email,"Provider:",(N=(y=x==null?void 0:x.user)==null?void 0:y.app_metadata)==null?void 0:N.provider),p){case"SIGNED_IN":case"TOKEN_REFRESHED":case"INITIAL_SESSION":x!=null&&x.user&&(a(x),s(x.user),o(!1));break;case"SIGNED_OUT":a(null),s(null),o(!1);break;default:a(x),s((x==null?void 0:x.user)??null),o(!1)}});return()=>{l.current=!1,m.unsubscribe()}},[]);const h=b.useMemo(()=>({user:e,session:r,loading:i,signOut:d,refreshSession:u}),[e,r,i,d,u]);return n.jsx(ip.Provider,{value:h,children:t})}function xc(){const t=b.useContext(ip);if(t===void 0)throw new Error("useOAuth must be used within an OAuthProvider");return t}function We(){const{user:t,session:e,loading:s}=xc();return{isAuthenticated:!!t&&!s,user:t||null,session:e||null,loading:s||!1}}const jj=1,Nj=1e6;let ko=0;function _j(){return ko=(ko+1)%Number.MAX_SAFE_INTEGER,ko.toString()}const Co=new Map,lu=t=>{if(Co.has(t))return;const e=setTimeout(()=>{Co.delete(t),On({type:"REMOVE_TOAST",toastId:t})},Nj);Co.set(t,e)},Sj=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,jj)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?lu(s):t.toasts.forEach(r=>{lu(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},si=[];let ri={toasts:[]};function On(t){ri=Sj(ri,t),si.forEach(e=>{e(ri)})}function kj({...t}){const e=_j(),s=a=>On({type:"UPDATE_TOAST",toast:{...a,id:e}}),r=()=>On({type:"DISMISS_TOAST",toastId:e});return On({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||r()}}}),{id:e,dismiss:r,update:s}}function op(){const[t,e]=b.useState(ri);return b.useEffect(()=>(si.push(e),()=>{const s=si.indexOf(e);s>-1&&si.splice(s,1)}),[t]),{...t,toast:kj,dismiss:s=>On({type:"DISMISS_TOAST",toastId:s})}}function lp(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(s=lp(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function cp(){for(var t,e,s=0,r="",a=arguments.length;s<a;s++)(t=arguments[s])&&(e=lp(t))&&(r&&(r+=" "),r+=e);return r}const cu=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,du=cp,Je=(t,e)=>s=>{var r;if((e==null?void 0:e.variants)==null)return du(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:i}=e,o=Object.keys(a).map(d=>{const u=s==null?void 0:s[d],h=i==null?void 0:i[d];if(u===null)return null;const f=cu(u)||cu(h);return a[d][f]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(p=>{let[x,g]=p;return Array.isArray(g)?g.includes({...i,...l}[x]):{...i,...l}[x]===g})?[...d,h,f]:d},[]);return du(t,o,c,s==null?void 0:s.class,s==null?void 0:s.className)},bc="-",Cj=t=>{const e=Tj(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(bc);return l[0]===""&&l.length!==1&&l.shift(),dp(l,e)||Pj(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},dp=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const s=t[0],r=e.nextPart.get(s),a=r?dp(t.slice(1),r):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(bc);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},uu=/^\[(.+)\]$/,Pj=t=>{if(uu.test(t)){const e=uu.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},Tj=t=>{const{theme:e,prefix:s}=t,r={nextPart:new Map,validators:[]};return Aj(Object.entries(t.classGroups),s).forEach(([i,o])=>{pl(o,r,i,e)}),r},pl=(t,e,s,r)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:hu(e,a);i.classGroupId=s;return}if(typeof a=="function"){if(Ej(a)){pl(a(r),e,s,r);return}e.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([i,o])=>{pl(o,hu(e,i),s,r)})})},hu=(t,e)=>{let s=t;return e.split(bc).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},Ej=t=>t.isThemeGetter,Aj=(t,e)=>e?t.map(([s,r])=>{const a=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[s,a]}):t,Rj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,r=new Map;const a=(i,o)=>{s.set(i,o),e++,e>t&&(e=0,r=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){s.has(i)?s.set(i,o):a(i,o)}}},up="!",Oj=t=>{const{separator:e,experimentalParseClassName:s}=t,r=e.length===1,a=e[0],i=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let g=0;g<l.length;g++){let y=l[g];if(d===0){if(y===a&&(r||l.slice(g,g+i)===e)){c.push(l.slice(u,g)),u=g+i;continue}if(y==="/"){h=g;continue}}y==="["?d++:y==="]"&&d--}const f=c.length===0?l:l.substring(u),m=f.startsWith(up),p=m?f.substring(1):f,x=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:x}};return s?l=>s({className:l,parseClassName:o}):o},Lj=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(r=>{r[0]==="["?(e.push(...s.sort(),r),s=[]):s.push(r)}),e.push(...s.sort()),e},Ij=t=>({cache:Rj(t.cacheSize),parseClassName:Oj(t),...Cj(t)}),Mj=/\s+/,Dj=(t,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a}=e,i=[],o=t.trim().split(Mj);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=s(d);let p=!!m,x=r(p?f.substring(0,m):f);if(!x){if(!p){l=d+(l.length>0?" "+l:l);continue}if(x=r(f),!x){l=d+(l.length>0?" "+l:l);continue}p=!1}const g=Lj(u).join(":"),y=h?g+up:g,N=y+x;if(i.includes(N))continue;i.push(N);const w=a(x,p);for(let _=0;_<w.length;++_){const v=w[_];i.push(y+v)}l=d+(l.length>0?" "+l:l)}return l};function $j(){let t=0,e,s,r="";for(;t<arguments.length;)(e=arguments[t++])&&(s=hp(e))&&(r&&(r+=" "),r+=s);return r}const hp=t=>{if(typeof t=="string")return t;let e,s="";for(let r=0;r<t.length;r++)t[r]&&(e=hp(t[r]))&&(s&&(s+=" "),s+=e);return s};function Fj(t,...e){let s,r,a,i=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return s=Ij(d),r=s.cache.get,a=s.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=Dj(c,s);return a(c,u),u}return function(){return i($j.apply(null,arguments))}}const Ee=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},fp=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vj=/^\d+\/\d+$/,Bj=new Set(["px","full","screen"]),Uj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Wj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Hj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xt=t=>Rr(t)||Bj.has(t)||Vj.test(t),ds=t=>Qr(t,"length",eN),Rr=t=>!!t&&!Number.isNaN(Number(t)),Po=t=>Qr(t,"number",Rr),pn=t=>!!t&&Number.isInteger(Number(t)),Kj=t=>t.endsWith("%")&&Rr(t.slice(0,-1)),de=t=>fp.test(t),us=t=>Uj.test(t),Gj=new Set(["length","size","percentage"]),Jj=t=>Qr(t,Gj,mp),Zj=t=>Qr(t,"position",mp),Xj=new Set(["image","url"]),Yj=t=>Qr(t,Xj,sN),Qj=t=>Qr(t,"",tN),gn=()=>!0,Qr=(t,e,s)=>{const r=fp.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):s(r[2]):!1},eN=t=>zj.test(t)&&!qj.test(t),mp=()=>!1,tN=t=>Wj.test(t),sN=t=>Hj.test(t),rN=()=>{const t=Ee("colors"),e=Ee("spacing"),s=Ee("blur"),r=Ee("brightness"),a=Ee("borderColor"),i=Ee("borderRadius"),o=Ee("borderSpacing"),l=Ee("borderWidth"),c=Ee("contrast"),d=Ee("grayscale"),u=Ee("hueRotate"),h=Ee("invert"),f=Ee("gap"),m=Ee("gradientColorStops"),p=Ee("gradientColorStopPositions"),x=Ee("inset"),g=Ee("margin"),y=Ee("opacity"),N=Ee("padding"),w=Ee("saturate"),_=Ee("scale"),v=Ee("sepia"),j=Ee("skew"),S=Ee("space"),A=Ee("translate"),R=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",de,e],$=()=>[de,e],I=()=>["",Xt,ds],T=()=>["auto",Rr,de],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",de],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[Rr,de];return{cacheSize:500,separator:":",theme:{colors:[gn],spacing:[Xt,ds],blur:["none","",us,de],brightness:P(),borderColor:[t],borderRadius:["none","","full",us,de],borderSpacing:$(),borderWidth:I(),contrast:P(),grayscale:V(),hueRotate:P(),invert:V(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[Kj,ds],inset:O(),margin:O(),opacity:P(),padding:$(),saturate:P(),scale:P(),sepia:V(),skew:P(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[us]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),de]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pn,de]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",pn,de]}],"grid-cols":[{"grid-cols":[gn]}],"col-start-end":[{col:["auto",{span:["full",pn,de]},de]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[gn]}],"row-start-end":[{row:["auto",{span:[pn,de]},de]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[us]},us]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",us,ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Po]}],"font-family":[{font:[gn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",Rr,Po]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xt,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xt,ds]}],"underline-offset":[{"underline-offset":["auto",Xt,de]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),Zj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Yj]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Xt,de]}],"outline-w":[{outline:[Xt,ds]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Xt,ds]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",us,Qj]}],"shadow-color":[{shadow:[gn]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",us,de]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[v]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[v]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[pn,de]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xt,ds,Po]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nN=Fj(rN);function E(...t){return nN(cp(t))}function Wn(){try{if(typeof window>"u")return"/auth/callback";const t=window.location.origin,e=window.location.hostname;return e.includes("localhost")||e.startsWith("127.")?`${t}/auth/callback`:e==="forge.college"?"https://app.forge.college/auth/callback":`${t}/auth/callback`}catch{return"/auth/callback"}}const aN=Ib,pp=b.forwardRef(({className:t,...e},s)=>n.jsx(Sf,{ref:s,className:E("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));pp.displayName=Sf.displayName;const iN=Je("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gp=b.forwardRef(({className:t,variant:e,...s},r)=>n.jsx(kf,{ref:r,className:E(iN({variant:e}),t),...s}));gp.displayName=kf.displayName;const oN=b.forwardRef(({className:t,...e},s)=>n.jsx(Cf,{ref:s,className:E("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));oN.displayName=Cf.displayName;const xp=b.forwardRef(({className:t,...e},s)=>n.jsx(Pf,{ref:s,className:E("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:n.jsx(Xs,{className:"h-4 w-4"})}));xp.displayName=Pf.displayName;const bp=b.forwardRef(({className:t,...e},s)=>n.jsx(Tf,{ref:s,className:E("text-sm font-semibold",t),...e}));bp.displayName=Tf.displayName;const yp=b.forwardRef(({className:t,...e},s)=>n.jsx(Ef,{ref:s,className:E("text-sm opacity-90",t),...e}));yp.displayName=Ef.displayName;function lN(){const{toasts:t}=op();return n.jsxs(aN,{children:[t.map(function({id:e,title:s,description:r,action:a,...i}){return n.jsxs(gp,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(bp,{children:s}),r&&n.jsx(yp,{children:r})]}),a,n.jsx(xp,{})]},e)}),n.jsx(pp,{})]})}var fu=["light","dark"],cN="(prefers-color-scheme: dark)",dN=b.createContext(void 0),uN={setTheme:t=>{},themes:[]},hN=()=>{var t;return(t=b.useContext(dN))!=null?t:uN};b.memo(({forcedTheme:t,storageKey:e,attribute:s,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,h=a?fu.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(p,x=!1,g=!0)=>{let y=o?o[p]:p,N=x?p+"|| ''":`'${y}'`,w="";return a&&g&&!x&&fu.includes(p)&&(w+=`d.style.colorScheme = '${p}';`),s==="class"?x||y?w+=`c.add(${N})`:w+="null":y&&(w+=`d[s](n,${N})`),w},m=t?`!function(){${u}${f(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${cN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${d?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return b.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var fN=t=>{switch(t){case"success":return gN;case"info":return bN;case"warning":return xN;case"error":return yN;default:return null}},mN=Array(12).fill(0),pN=({visible:t,className:e})=>F.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},F.createElement("div",{className:"sonner-spinner"},mN.map((s,r)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),gN=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),xN=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),bN=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yN=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vN=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),wN=()=>{let[t,e]=F.useState(document.hidden);return F.useEffect(()=>{let s=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),t},gl=1,jN=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:s,...r}=t,a=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:gl++,i=this.toasts.find(l=>l.id===a),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...t,id:a,title:s}),{...l,...t,id:a,dismissible:o,title:s}):l):this.addToast({title:s,...r,dismissible:o,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(s=>s({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let s;e.loading!==void 0&&(s=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),a=s!==void 0,i,o=r.then(async c=>{if(i=["resolve",c],F.isValidElement(c))a=!1,this.create({id:s,type:"default",message:c});else if(_N(c)&&!c.ok){a=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:s,type:"error",message:d,description:u})}else if(e.success!==void 0){a=!1;let d=typeof e.success=="function"?await e.success(c):e.success,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:s,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){a=!1;let d=typeof e.error=="function"?await e.error(c):e.error,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:s,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(s),s=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof s!="string"&&typeof s!="number"?{unwrap:l}:Object.assign(s,{unwrap:l})},this.custom=(t,e)=>{let s=(e==null?void 0:e.id)||gl++;return this.create({jsx:t(s),id:s,...e}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},st=new jN,NN=(t,e)=>{let s=(e==null?void 0:e.id)||gl++;return st.addToast({title:t,...e,id:s}),s},_N=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",SN=NN,kN=()=>st.toasts,CN=()=>st.getActiveToasts(),H=Object.assign(SN,{success:st.success,info:st.info,warning:st.warning,error:st.error,custom:st.custom,message:st.message,promise:st.promise,dismiss:st.dismiss,loading:st.loading},{getHistory:kN,getToasts:CN});function PN(t,{insertAt:e}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}PN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ua(t){return t.label!==void 0}var TN=3,EN="32px",AN="16px",mu=4e3,RN=356,ON=14,LN=20,IN=200;function Et(...t){return t.filter(Boolean).join(" ")}function MN(t){let[e,s]=t.split("-"),r=[];return e&&r.push(e),s&&r.push(s),r}var DN=t=>{var e,s,r,a,i,o,l,c,d,u,h;let{invert:f,toast:m,unstyled:p,interacting:x,setHeights:g,visibleToasts:y,heights:N,index:w,toasts:_,expanded:v,removeToast:j,defaultRichColors:S,closeButton:A,style:R,cancelButtonStyle:C,actionButtonStyle:O,className:$="",descriptionClassName:I="",duration:T,position:k,gap:L,loadingIcon:B,expandByDefault:q,classNames:V,icons:ue,closeButtonAriaLabel:P="Close toast",pauseWhenPageIsHidden:M}=t,[G,xe]=F.useState(null),[Me,ht]=F.useState(null),[Se,uo]=F.useState(!1),[dn,Oa]=F.useState(!1),[un,ho]=F.useState(!1),[gd,bb]=F.useState(!1),[yb,xd]=F.useState(!1),[vb,fo]=F.useState(0),[wb,bd]=F.useState(0),hn=F.useRef(m.duration||T||mu),yd=F.useRef(null),Es=F.useRef(null),jb=w===0,Nb=w+1<=y,bt=m.type,cr=m.dismissible!==!1,_b=m.className||"",Sb=m.descriptionClassName||"",La=F.useMemo(()=>N.findIndex(oe=>oe.toastId===m.id)||0,[N,m.id]),kb=F.useMemo(()=>{var oe;return(oe=m.closeButton)!=null?oe:A},[m.closeButton,A]),vd=F.useMemo(()=>m.duration||T||mu,[m.duration,T]),mo=F.useRef(0),dr=F.useRef(0),wd=F.useRef(0),ur=F.useRef(null),[Cb,Pb]=k.split("-"),jd=F.useMemo(()=>N.reduce((oe,ke,Re)=>Re>=La?oe:oe+ke.height,0),[N,La]),Nd=wN(),Tb=m.invert||f,po=bt==="loading";dr.current=F.useMemo(()=>La*L+jd,[La,jd]),F.useEffect(()=>{hn.current=vd},[vd]),F.useEffect(()=>{uo(!0)},[]),F.useEffect(()=>{let oe=Es.current;if(oe){let ke=oe.getBoundingClientRect().height;return bd(ke),g(Re=>[{toastId:m.id,height:ke,position:m.position},...Re]),()=>g(Re=>Re.filter(Ct=>Ct.toastId!==m.id))}},[g,m.id]),F.useLayoutEffect(()=>{if(!Se)return;let oe=Es.current,ke=oe.style.height;oe.style.height="auto";let Re=oe.getBoundingClientRect().height;oe.style.height=ke,bd(Re),g(Ct=>Ct.find(Pt=>Pt.toastId===m.id)?Ct.map(Pt=>Pt.toastId===m.id?{...Pt,height:Re}:Pt):[{toastId:m.id,height:Re,position:m.position},...Ct])},[Se,m.title,m.description,g,m.id]);let is=F.useCallback(()=>{Oa(!0),fo(dr.current),g(oe=>oe.filter(ke=>ke.toastId!==m.id)),setTimeout(()=>{j(m)},IN)},[m,j,g,dr]);F.useEffect(()=>{if(m.promise&&bt==="loading"||m.duration===1/0||m.type==="loading")return;let oe;return v||x||M&&Nd?(()=>{if(wd.current<mo.current){let ke=new Date().getTime()-mo.current;hn.current=hn.current-ke}wd.current=new Date().getTime()})():hn.current!==1/0&&(mo.current=new Date().getTime(),oe=setTimeout(()=>{var ke;(ke=m.onAutoClose)==null||ke.call(m,m),is()},hn.current)),()=>clearTimeout(oe)},[v,x,m,bt,M,Nd,is]),F.useEffect(()=>{m.delete&&is()},[is,m.delete]);function Eb(){var oe,ke,Re;return ue!=null&&ue.loading?F.createElement("div",{className:Et(V==null?void 0:V.loader,(oe=m==null?void 0:m.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":bt==="loading"},ue.loading):B?F.createElement("div",{className:Et(V==null?void 0:V.loader,(ke=m==null?void 0:m.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":bt==="loading"},B):F.createElement(pN,{className:Et(V==null?void 0:V.loader,(Re=m==null?void 0:m.classNames)==null?void 0:Re.loader),visible:bt==="loading"})}return F.createElement("li",{tabIndex:0,ref:Es,className:Et($,_b,V==null?void 0:V.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[bt],(s=m==null?void 0:m.classNames)==null?void 0:s[bt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:S,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":Se,"data-promise":!!m.promise,"data-swiped":yb,"data-removed":dn,"data-visible":Nb,"data-y-position":Cb,"data-x-position":Pb,"data-index":w,"data-front":jb,"data-swiping":un,"data-dismissible":cr,"data-type":bt,"data-invert":Tb,"data-swipe-out":gd,"data-swipe-direction":Me,"data-expanded":!!(v||q&&Se),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${dn?vb:dr.current}px`,"--initial-height":q?"auto":`${wb}px`,...R,...m.style},onDragEnd:()=>{ho(!1),xe(null),ur.current=null},onPointerDown:oe=>{po||!cr||(yd.current=new Date,fo(dr.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(ho(!0),ur.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,ke,Re,Ct;if(gd||!cr)return;ur.current=null;let Pt=Number(((oe=Es.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),os=Number(((ke=Es.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),As=new Date().getTime()-((Re=yd.current)==null?void 0:Re.getTime()),Tt=G==="x"?Pt:os,ls=Math.abs(Tt)/As;if(Math.abs(Tt)>=LN||ls>.11){fo(dr.current),(Ct=m.onDismiss)==null||Ct.call(m,m),ht(G==="x"?Pt>0?"right":"left":os>0?"down":"up"),is(),bb(!0),xd(!1);return}ho(!1),xe(null)},onPointerMove:oe=>{var ke,Re,Ct,Pt;if(!ur.current||!cr||((ke=window.getSelection())==null?void 0:ke.toString().length)>0)return;let os=oe.clientY-ur.current.y,As=oe.clientX-ur.current.x,Tt=(Re=t.swipeDirections)!=null?Re:MN(k);!G&&(Math.abs(As)>1||Math.abs(os)>1)&&xe(Math.abs(As)>Math.abs(os)?"x":"y");let ls={x:0,y:0};G==="y"?(Tt.includes("top")||Tt.includes("bottom"))&&(Tt.includes("top")&&os<0||Tt.includes("bottom")&&os>0)&&(ls.y=os):G==="x"&&(Tt.includes("left")||Tt.includes("right"))&&(Tt.includes("left")&&As<0||Tt.includes("right")&&As>0)&&(ls.x=As),(Math.abs(ls.x)>0||Math.abs(ls.y)>0)&&xd(!0),(Ct=Es.current)==null||Ct.style.setProperty("--swipe-amount-x",`${ls.x}px`),(Pt=Es.current)==null||Pt.style.setProperty("--swipe-amount-y",`${ls.y}px`)}},kb&&!m.jsx?F.createElement("button",{"aria-label":P,"data-disabled":po,"data-close-button":!0,onClick:po||!cr?()=>{}:()=>{var oe;is(),(oe=m.onDismiss)==null||oe.call(m,m)},className:Et(V==null?void 0:V.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=ue==null?void 0:ue.close)!=null?i:vN):null,m.jsx||b.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:F.createElement(F.Fragment,null,bt||m.icon||m.promise?F.createElement("div",{"data-icon":"",className:Et(V==null?void 0:V.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Eb():null,m.type!=="loading"?m.icon||(ue==null?void 0:ue[bt])||fN(bt):null):null,F.createElement("div",{"data-content":"",className:Et(V==null?void 0:V.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},F.createElement("div",{"data-title":"",className:Et(V==null?void 0:V.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?F.createElement("div",{"data-description":"",className:Et(I,Sb,V==null?void 0:V.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),b.isValidElement(m.cancel)?m.cancel:m.cancel&&Ua(m.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||C,onClick:oe=>{var ke,Re;Ua(m.cancel)&&cr&&((Re=(ke=m.cancel).onClick)==null||Re.call(ke,oe),is())},className:Et(V==null?void 0:V.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,b.isValidElement(m.action)?m.action:m.action&&Ua(m.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:oe=>{var ke,Re;Ua(m.action)&&((Re=(ke=m.action).onClick)==null||Re.call(ke,oe),!oe.defaultPrevented&&is())},className:Et(V==null?void 0:V.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function pu(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function $N(t,e){let s={};return[t,e].forEach((r,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?AN:EN;function c(d){["top","right","bottom","left"].forEach(u=>{s[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?s[`${o}-${d}`]=l:s[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),s}var FN=b.forwardRef(function(t,e){let{invert:s,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:f,style:m,visibleToasts:p=TN,toastOptions:x,dir:g=pu(),gap:y=ON,loadingIcon:N,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:v}=t,[j,S]=F.useState([]),A=F.useMemo(()=>Array.from(new Set([r].concat(j.filter(M=>M.position).map(M=>M.position)))),[j,r]),[R,C]=F.useState([]),[O,$]=F.useState(!1),[I,T]=F.useState(!1),[k,L]=F.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=F.useRef(null),q=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=F.useRef(null),ue=F.useRef(!1),P=F.useCallback(M=>{S(G=>{var xe;return(xe=G.find(Me=>Me.id===M.id))!=null&&xe.delete||st.dismiss(M.id),G.filter(({id:Me})=>Me!==M.id)})},[]);return F.useEffect(()=>st.subscribe(M=>{if(M.dismiss){S(G=>G.map(xe=>xe.id===M.id?{...xe,delete:!0}:xe));return}setTimeout(()=>{Mb.flushSync(()=>{S(G=>{let xe=G.findIndex(Me=>Me.id===M.id);return xe!==-1?[...G.slice(0,xe),{...G[xe],...M},...G.slice(xe+1)]:[M,...G]})})})}),[]),F.useEffect(()=>{if(u!=="system"){L(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:G})=>{L(G?"dark":"light")})}catch{M.addListener(({matches:xe})=>{try{L(xe?"dark":"light")}catch(Me){console.error(Me)}})}},[u]),F.useEffect(()=>{j.length<=1&&$(!1)},[j]),F.useEffect(()=>{let M=G=>{var xe,Me;a.every(ht=>G[ht]||G.code===ht)&&($(!0),(xe=B.current)==null||xe.focus()),G.code==="Escape"&&(document.activeElement===B.current||(Me=B.current)!=null&&Me.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[a]),F.useEffect(()=>{if(B.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,ue.current=!1)}},[B.current]),F.createElement("section",{ref:e,"aria-label":`${_} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((M,G)=>{var xe;let[Me,ht]=M.split("-");return j.length?F.createElement("ol",{key:M,dir:g==="auto"?pu():g,tabIndex:-1,ref:B,className:l,"data-sonner-toaster":!0,"data-theme":k,"data-y-position":Me,"data-lifted":O&&j.length>1&&!i,"data-x-position":ht,style:{"--front-toast-height":`${((xe=R[0])==null?void 0:xe.height)||0}px`,"--width":`${RN}px`,"--gap":`${y}px`,...m,...$N(c,d)},onBlur:Se=>{ue.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(ue.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,V.current=Se.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{I||$(!1)},onDragEnd:()=>$(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},j.filter(Se=>!Se.position&&G===0||Se.position===M).map((Se,uo)=>{var dn,Oa;return F.createElement(DN,{key:Se.id,icons:w,index:uo,toast:Se,defaultRichColors:h,duration:(dn=x==null?void 0:x.duration)!=null?dn:f,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:s,visibleToasts:p,closeButton:(Oa=x==null?void 0:x.closeButton)!=null?Oa:o,interacting:I,position:M,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:P,toasts:j.filter(un=>un.position==Se.position),heights:R.filter(un=>un.position==Se.position),setHeights:C,expandByDefault:i,gap:y,loadingIcon:N,expanded:O,pauseWhenPageIsHidden:v,swipeDirections:t.swipeDirections})})):null}))});const VN=({...t})=>{const{theme:e="system"}=hN();return n.jsx(FN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},vp=Db,BN=$b,UN=Fb,wp=b.forwardRef(({className:t,sideOffset:e=4,...s},r)=>n.jsx(Af,{ref:r,sideOffset:e,className:E("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));wp.displayName=Af.displayName;const jp=b.createContext({});function Qi(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const yc=typeof window<"u",vc=yc?b.useLayoutEffect:b.useEffect,wc=b.createContext(null);function jc(t,e){t.indexOf(e)===-1&&t.push(e)}function Nc(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const Zt=(t,e,s)=>s>e?e:s<t?t:s;let Hn=()=>{};const rs={},Np=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _p(t){return typeof t=="object"&&t!==null}const Sp=t=>/^0[^.\s]+$/u.test(t);function _c(t){let e;return()=>(e===void 0&&(e=t()),e)}const lt=t=>t,zN=(t,e)=>s=>e(t(s)),ka=(...t)=>t.reduce(zN),Mr=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r};class Sc{constructor(){this.subscriptions=[]}add(e){return jc(this.subscriptions,e),()=>Nc(this.subscriptions,e)}notify(e,s,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,s,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wt=t=>t*1e3,Ht=t=>t/1e3;function kc(t,e){return e?t*(1e3/e):0}const kp=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,qN=1e-7,WN=12;function HN(t,e,s,r,a){let i,o,l=0;do o=e+(s-e)/2,i=kp(o,r,a)-t,i>0?s=o:e=o;while(Math.abs(i)>qN&&++l<WN);return o}function Ca(t,e,s,r){if(t===e&&s===r)return lt;const a=i=>HN(i,0,1,t,s);return i=>i===0||i===1?i:kp(a(i),e,r)}const Cp=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Pp=t=>e=>1-t(1-e),Tp=Ca(.33,1.53,.69,.99),Cc=Pp(Tp),Ep=Cp(Cc),Ap=t=>(t*=2)<1?.5*Cc(t):.5*(2-Math.pow(2,-10*(t-1))),Pc=t=>1-Math.sin(Math.acos(t)),Rp=Pp(Pc),Op=Cp(Pc),KN=Ca(.42,0,1,1),GN=Ca(0,0,.58,1),Lp=Ca(.42,0,.58,1),JN=t=>Array.isArray(t)&&typeof t[0]!="number",Ip=t=>Array.isArray(t)&&typeof t[0]=="number",ZN={linear:lt,easeIn:KN,easeInOut:Lp,easeOut:GN,circIn:Pc,circInOut:Op,circOut:Rp,backIn:Cc,backInOut:Ep,backOut:Tp,anticipate:Ap},XN=t=>typeof t=="string",gu=t=>{if(Ip(t)){Hn(t.length===4);const[e,s,r,a]=t;return Ca(e,s,r,a)}else if(XN(t))return ZN[t];return t},za=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function YN(t,e){let s=new Set,r=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),t()),u(l)}const d={schedule:(u,h=!1,f=!1)=>{const p=f&&a?s:r;return h&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(l=u,a){i=!0;return}a=!0,[s,r]=[r,s],s.forEach(c),s.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const QN=40;function Mp(t,e){let s=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,o=za.reduce((w,_)=>(w[_]=YN(i),w),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:m,postRender:p}=o,x=()=>{const w=rs.useManualTiming?a.timestamp:performance.now();s=!1,rs.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(w-a.timestamp,QN),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),f.process(a),m.process(a),p.process(a),a.isProcessing=!1,s&&e&&(r=!1,t(x))},g=()=>{s=!0,r=!0,a.isProcessing||t(x)};return{schedule:za.reduce((w,_)=>{const v=o[_];return w[_]=(j,S=!1,A=!1)=>(s||g(),v.schedule(j,S,A)),w},{}),cancel:w=>{for(let _=0;_<za.length;_++)o[za[_]].cancel(w)},state:a,steps:o}}const{schedule:_e,cancel:Ft,state:He,steps:To}=Mp(typeof requestAnimationFrame<"u"?requestAnimationFrame:lt,!0);let ni;function e_(){ni=void 0}const ot={now:()=>(ni===void 0&&ot.set(He.isProcessing||rs.useManualTiming?He.timestamp:performance.now()),ni),set:t=>{ni=t,queueMicrotask(e_)}},Dp=t=>e=>typeof e=="string"&&e.startsWith(t),Tc=Dp("--"),t_=Dp("var(--"),Ec=t=>t_(t)?s_.test(t.split("/*")[0].trim()):!1,s_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,en={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Kn={...en,transform:t=>Zt(0,1,t)},qa={...en,default:1},Ln=t=>Math.round(t*1e5)/1e5,Ac=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function r_(t){return t==null}const n_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rc=(t,e)=>s=>!!(typeof s=="string"&&n_.test(s)&&s.startsWith(t)||e&&!r_(s)&&Object.prototype.hasOwnProperty.call(s,e)),$p=(t,e,s)=>r=>{if(typeof r!="string")return r;const[a,i,o,l]=r.match(Ac);return{[t]:parseFloat(a),[e]:parseFloat(i),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},a_=t=>Zt(0,255,t),Eo={...en,transform:t=>Math.round(a_(t))},Vs={test:Rc("rgb","red"),parse:$p("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+Eo.transform(t)+", "+Eo.transform(e)+", "+Eo.transform(s)+", "+Ln(Kn.transform(r))+")"};function i_(t){let e="",s="",r="",a="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,s+=s,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const xl={test:Rc("#"),parse:i_,transform:Vs.transform},Pa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fs=Pa("deg"),Kt=Pa("%"),Y=Pa("px"),o_=Pa("vh"),l_=Pa("vw"),xu={...Kt,parse:t=>Kt.parse(t)/100,transform:t=>Kt.transform(t*100)},_r={test:Rc("hsl","hue"),parse:$p("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+Kt.transform(Ln(e))+", "+Kt.transform(Ln(s))+", "+Ln(Kn.transform(r))+")"},Fe={test:t=>Vs.test(t)||xl.test(t)||_r.test(t),parse:t=>Vs.test(t)?Vs.parse(t):_r.test(t)?_r.parse(t):xl.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vs.transform(t):_r.transform(t),getAnimatableNone:t=>{const e=Fe.parse(t);return e.alpha=0,Fe.transform(e)}},c_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function d_(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ac))==null?void 0:e.length)||0)+(((s=t.match(c_))==null?void 0:s.length)||0)>0}const Fp="number",Vp="color",u_="var",h_="var(",bu="${}",f_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gn(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(f_,c=>(Fe.test(c)?(r.color.push(i),a.push(Vp),s.push(Fe.parse(c))):c.startsWith(h_)?(r.var.push(i),a.push(u_),s.push(c)):(r.number.push(i),a.push(Fp),s.push(parseFloat(c))),++i,bu)).split(bu);return{values:s,split:l,indexes:r,types:a}}function Bp(t){return Gn(t).values}function Up(t){const{split:e,types:s}=Gn(t),r=e.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],a[o]!==void 0){const l=s[o];l===Fp?i+=Ln(a[o]):l===Vp?i+=Fe.transform(a[o]):i+=a[o]}return i}}const m_=t=>typeof t=="number"?0:Fe.test(t)?Fe.getAnimatableNone(t):t;function p_(t){const e=Bp(t);return Up(t)(e.map(m_))}const vs={test:d_,parse:Bp,createTransformer:Up,getAnimatableNone:p_};function Ao(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function g_({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let a=0,i=0,o=0;if(!e)a=i=o=s;else{const l=s<.5?s*(1+e):s+e-s*e,c=2*s-l;a=Ao(c,l,t+1/3),i=Ao(c,l,t),o=Ao(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function _i(t,e){return s=>s>0?e:t}const Ie=(t,e,s)=>t+(e-t)*s,Ro=(t,e,s)=>{const r=t*t,a=s*(e*e-r)+r;return a<0?0:Math.sqrt(a)},x_=[xl,Vs,_r],b_=t=>x_.find(e=>e.test(t));function yu(t){const e=b_(t);if(!e)return!1;let s=e.parse(t);return e===_r&&(s=g_(s)),s}const vu=(t,e)=>{const s=yu(t),r=yu(e);if(!s||!r)return _i(t,e);const a={...s};return i=>(a.red=Ro(s.red,r.red,i),a.green=Ro(s.green,r.green,i),a.blue=Ro(s.blue,r.blue,i),a.alpha=Ie(s.alpha,r.alpha,i),Vs.transform(a))},bl=new Set(["none","hidden"]);function y_(t,e){return bl.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function v_(t,e){return s=>Ie(t,e,s)}function Oc(t){return typeof t=="number"?v_:typeof t=="string"?Ec(t)?_i:Fe.test(t)?vu:N_:Array.isArray(t)?zp:typeof t=="object"?Fe.test(t)?vu:w_:_i}function zp(t,e){const s=[...t],r=s.length,a=t.map((i,o)=>Oc(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)s[o]=a[o](i);return s}}function w_(t,e){const s={...t,...e},r={};for(const a in s)t[a]!==void 0&&e[a]!==void 0&&(r[a]=Oc(t[a])(t[a],e[a]));return a=>{for(const i in r)s[i]=r[i](a);return s}}function j_(t,e){const s=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][r[i]],l=t.values[o]??0;s[a]=l,r[i]++}return s}const N_=(t,e)=>{const s=vs.createTransformer(e),r=Gn(t),a=Gn(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?bl.has(t)&&!a.values.length||bl.has(e)&&!r.values.length?y_(t,e):ka(zp(j_(r,a),a.values),s):_i(t,e)};function qp(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?Ie(t,e,s):Oc(t)(t,e)}const __=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>_e.update(e,s),stop:()=>Ft(e),now:()=>He.isProcessing?He.timestamp:ot.now()}},Wp=(t,e,s=10)=>{let r="";const a=Math.max(Math.round(e/s),2);for(let i=0;i<a;i++)r+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Si=2e4;function Lc(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<Si;)e+=s,r=t.next(e);return e>=Si?1/0:e}function S_(t,e=100,s){const r=s({...t,keyframes:[0,e]}),a=Math.min(Lc(r),Si);return{type:"keyframes",ease:i=>r.next(a*i).value/e,duration:Ht(a)}}const k_=5;function Hp(t,e,s){const r=Math.max(e-k_,0);return kc(s-t(r),e-r)}const De={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Oo=.001;function C_({duration:t=De.duration,bounce:e=De.bounce,velocity:s=De.velocity,mass:r=De.mass}){let a,i,o=1-e;o=Zt(De.minDamping,De.maxDamping,o),t=Zt(De.minDuration,De.maxDuration,Ht(t)),o<1?(a=d=>{const u=d*o,h=u*t,f=u-s,m=yl(d,o),p=Math.exp(-h);return Oo-f/m*p},i=d=>{const h=d*o*t,f=h*s+s,m=Math.pow(o,2)*Math.pow(d,2)*t,p=Math.exp(-h),x=yl(Math.pow(d,2),o);return(-a(d)+Oo>0?-1:1)*((f-m)*p)/x}):(a=d=>{const u=Math.exp(-d*t),h=(d-s)*t+1;return-Oo+u*h},i=d=>{const u=Math.exp(-d*t),h=(s-d)*(t*t);return u*h});const l=5/t,c=T_(a,i,l);if(t=Wt(t),isNaN(c))return{stiffness:De.stiffness,damping:De.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const P_=12;function T_(t,e,s){let r=s;for(let a=1;a<P_;a++)r=r-t(r)/e(r);return r}function yl(t,e){return t*Math.sqrt(1-e*e)}const E_=["duration","bounce"],A_=["stiffness","damping","mass"];function wu(t,e){return e.some(s=>t[s]!==void 0)}function R_(t){let e={velocity:De.velocity,stiffness:De.stiffness,damping:De.damping,mass:De.mass,isResolvedFromDuration:!1,...t};if(!wu(t,A_)&&wu(t,E_))if(t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),a=r*r,i=2*Zt(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:De.mass,stiffness:a,damping:i}}else{const s=C_(t);e={...e,...s,mass:De.mass},e.isResolvedFromDuration=!0}return e}function ki(t=De.visualDuration,e=De.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=s;const i=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=R_({...s,velocity:-Ht(s.velocity||0)}),p=f||0,x=d/(2*Math.sqrt(c*u)),g=o-i,y=Ht(Math.sqrt(c/u)),N=Math.abs(g)<5;r||(r=N?De.restSpeed.granular:De.restSpeed.default),a||(a=N?De.restDelta.granular:De.restDelta.default);let w;if(x<1){const v=yl(y,x);w=j=>{const S=Math.exp(-x*y*j);return o-S*((p+x*y*g)/v*Math.sin(v*j)+g*Math.cos(v*j))}}else if(x===1)w=v=>o-Math.exp(-y*v)*(g+(p+y*g)*v);else{const v=y*Math.sqrt(x*x-1);w=j=>{const S=Math.exp(-x*y*j),A=Math.min(v*j,300);return o-S*((p+x*y*g)*Math.sinh(A)+v*g*Math.cosh(A))/v}}const _={calculatedDuration:m&&h||null,next:v=>{const j=w(v);if(m)l.done=v>=h;else{let S=v===0?p:0;x<1&&(S=v===0?Wt(p):Hp(w,v,j));const A=Math.abs(S)<=r,R=Math.abs(o-j)<=a;l.done=A&&R}return l.value=l.done?o:j,l},toString:()=>{const v=Math.min(Lc(_),Si),j=Wp(S=>_.next(v*S).value,v,30);return v+"ms "+j},toTransition:()=>{}};return _}ki.applyToOptions=t=>{const e=S_(t,100,ki);return t.ease=e.ease,t.duration=Wt(e.duration),t.type="keyframes",t};function vl({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},m=A=>l!==void 0&&A<l||c!==void 0&&A>c,p=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let x=s*e;const g=h+x,y=o===void 0?g:o(g);y!==g&&(x=y-h);const N=A=>-x*Math.exp(-A/r),w=A=>y+N(A),_=A=>{const R=N(A),C=w(A);f.done=Math.abs(R)<=d,f.value=f.done?y:C};let v,j;const S=A=>{m(f.value)&&(v=A,j=ki({keyframes:[f.value,p(f.value)],velocity:Hp(w,A,f.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:A=>{let R=!1;return!j&&v===void 0&&(R=!0,_(A),S(A)),v!==void 0&&A>=v?j.next(A-v):(!R&&_(A),f)}}}function O_(t,e,s){const r=[],a=s||rs.mix||qp,i=t.length-1;for(let o=0;o<i;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||lt:e;l=ka(c,l)}r.push(l)}return r}function Ic(t,e,{clamp:s=!0,ease:r,mixer:a}={}){const i=t.length;if(Hn(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=O_(e,r,a),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=Mr(t[h],t[h+1],u);return l[h](f)};return s?u=>d(Zt(t[0],t[i-1],u)):d}function L_(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const a=Mr(0,e,r);t.push(Ie(s,1,a))}}function Kp(t){const e=[0];return L_(e,t.length-1),e}function I_(t,e){return t.map(s=>s*e)}function M_(t,e){return t.map(()=>e||Lp).splice(0,t.length-1)}function In({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const a=JN(r)?r.map(gu):gu(r),i={done:!1,value:e[0]},o=I_(s&&s.length===e.length?s:Kp(e),t),l=Ic(o,e,{ease:Array.isArray(a)?a:M_(e,a)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const D_=t=>t!==null;function Mc(t,{repeat:e,repeatType:s="loop"},r,a=1){const i=t.filter(D_),l=a<0||e&&s!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const $_={decay:vl,inertia:vl,tween:In,keyframes:In,spring:ki};function Gp(t){typeof t.type=="string"&&(t.type=$_[t.type])}class Dc{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const F_=t=>t/100;class eo extends Dc{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:s}=this.options;s&&s.updatedAt!==ot.now()&&this.tick(ot.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Gp(e);const{type:s=In,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=s||In;c!==In&&typeof l[0]!="number"&&(this.mixKeyframes=ka(F_,qp(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Lc(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=d}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:m,type:p,onUpdate:x,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const y=this.currentTime-d*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,_=r;if(h){const A=Math.min(this.currentTime,a)/l;let R=Math.floor(A),C=A%1;!C&&A>=1&&(C=1),C===1&&R--,R=Math.min(R,h+1),!!(R%2)&&(f==="reverse"?(C=1-C,m&&(C-=m/l)):f==="mirror"&&(_=o)),w=Zt(0,1,C)*l}const v=N?{done:!1,value:u[0]}:_.next(w);i&&(v.value=i(v.value));let{done:j}=v;!N&&c!==null&&(j=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return S&&p!==vl&&(v.value=Mc(u,this.options,g,this.speed)),x&&x(v.value),S&&this.finish(),v}then(e,s){return this.finished.then(e,s)}get duration(){return Ht(this.calculatedDuration)}get time(){return Ht(this.currentTime)}set time(e){var s;e=Wt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ot.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Ht(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:e=__,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ot.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function V_(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Bs=t=>t*180/Math.PI,wl=t=>{const e=Bs(Math.atan2(t[1],t[0]));return jl(e)},B_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:wl,rotateZ:wl,skewX:t=>Bs(Math.atan(t[1])),skewY:t=>Bs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},jl=t=>(t=t%360,t<0&&(t+=360),t),ju=wl,Nu=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),_u=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),U_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Nu,scaleY:_u,scale:t=>(Nu(t)+_u(t))/2,rotateX:t=>jl(Bs(Math.atan2(t[6],t[5]))),rotateY:t=>jl(Bs(Math.atan2(-t[2],t[0]))),rotateZ:ju,rotate:ju,skewX:t=>Bs(Math.atan(t[4])),skewY:t=>Bs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Nl(t){return t.includes("scale")?1:0}function _l(t,e){if(!t||t==="none")return Nl(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(s)r=U_,a=s;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=B_,a=l}if(!a)return Nl(e);const i=r[e],o=a[1].split(",").map(q_);return typeof i=="function"?i(o):o[i]}const z_=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return _l(s,e)};function q_(t){return parseFloat(t.trim())}const tn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sn=new Set(tn),Su=t=>t===en||t===Y,W_=new Set(["x","y","z"]),H_=tn.filter(t=>!W_.has(t));function K_(t){const e=[];return H_.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const zs={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>_l(e,"x"),y:(t,{transform:e})=>_l(e,"y")};zs.translateX=zs.x;zs.translateY=zs.y;const qs=new Set;let Sl=!1,kl=!1,Cl=!1;function Jp(){if(kl){const t=Array.from(qs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const a=K_(r);a.length&&(s.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=s.get(r);a&&a.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}kl=!1,Sl=!1,qs.forEach(t=>t.complete(Cl)),qs.clear()}function Zp(){qs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(kl=!0)})}function G_(){Cl=!0,Zp(),Jp(),Cl=!1}class $c{constructor(e,s,r,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(qs.add(this),Sl||(Sl=!0,_e.read(Zp),_e.resolveKeyframes(Jp))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:a}=this;if(e[0]===null){const i=a==null?void 0:a.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&s){const l=r.readValue(s,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}V_(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qs.delete(this)}cancel(){this.state==="scheduled"&&(qs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const J_=t=>t.startsWith("--");function Z_(t,e,s){J_(e)?t.style.setProperty(e,s):t.style[e]=s}const Xp=_c(()=>window.ScrollTimeline!==void 0),X_={};function Y_(t,e){const s=_c(t);return()=>X_[e]??s()}const Yp=Y_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_n=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,ku={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_n([0,.65,.55,1]),circOut:_n([.55,0,1,.45]),backIn:_n([.31,.01,.66,-.59]),backOut:_n([.33,1.53,.69,.99])};function Qp(t,e){if(t)return typeof t=="function"?Yp()?Wp(t,e):"ease-out":Ip(t)?_n(t):Array.isArray(t)?t.map(s=>Qp(s,e)||ku.easeOut):ku[t]}function Q_(t,e,s,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:s};c&&(u.offset=c);const h=Qp(l,a);Array.isArray(h)&&(u.easing=h);const f={delay:r,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),t.animate(u,f)}function eg(t){return typeof t=="function"&&"applyToOptions"in t}function eS({type:t,...e}){return eg(t)&&Yp()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class tS extends Dc{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:r,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Hn(typeof e.type!="string");const d=eS(e);this.animation=Q_(s,r,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Mc(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):Z_(s,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,r;const e=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return Ht(Number(e))}get time(){return Ht(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Wt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Xp()?(this.animation.timeline=e,lt):s(this)}}const tg={anticipate:Ap,backInOut:Ep,circInOut:Op};function sS(t){return t in tg}function rS(t){typeof t.ease=="string"&&sS(t.ease)&&(t.ease=tg[t.ease])}const Cu=10;class nS extends tS{constructor(e){rS(e),Gp(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:r,onComplete:a,element:i,...o}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const l=new eo({...o,autoplay:!1}),c=Wt(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-Cu).value,l.sample(c).value,Cu),l.stop()}}const Pu=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vs.test(t)||t==="0")&&!t.startsWith("url("));function aS(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function iS(t,e,s,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Pu(a,e),l=Pu(i,e);return!o||!l?!1:aS(t)||(s==="spring"||eg(s))&&r}function Pl(t){t.duration=0,t.type}const oS=new Set(["opacity","clipPath","filter","transform"]),lS=_c(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cS(t){var u;const{motionValue:e,name:s,repeatDelay:r,repeatType:a,damping:i,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return lS()&&s&&oS.has(s)&&(s!=="transform"||!d)&&!c&&!r&&a!=="mirror"&&i!==0&&o!=="inertia"}const dS=40;class uS extends Dc{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var p;super(),this.stop=()=>{var x,g;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=ot.now();const f={autoplay:e,delay:s,type:r,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},m=(u==null?void 0:u.KeyframeResolver)||$c;this.keyframeResolver=new m(l,(x,g,y)=>this.onKeyframesResolved(x,g,f,!y),c,d,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,s,r,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=ot.now(),iS(e,i,o,l)||((rs.instantAnimations||!c)&&(u==null||u(Mc(e,r,s))),e[0]=e[e.length-1],Pl(r),r.repeat=0);const f={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>dS?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:e},m=!d&&cS(f)?new nS({...f,element:f.motionValue.owner.current}):new eo(f);m.finished.then(()=>this.notifyFinished()).catch(lt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),G_()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const hS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fS(t){const e=hS.exec(t);if(!e)return[,];const[,s,r,a]=e;return[`--${s??r}`,a]}function sg(t,e,s=1){const[r,a]=fS(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Np(o)?parseFloat(o):o}return Ec(a)?sg(a,e,s+1):a}function Fc(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const rg=new Set(["width","height","top","left","right","bottom",...tn]),mS={test:t=>t==="auto",parse:t=>t},ng=t=>e=>e.test(t),ag=[en,Y,Kt,fs,l_,o_,mS],Tu=t=>ag.find(ng(t));function pS(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Sp(t):!0}const gS=new Set(["brightness","contrast","saturate","opacity"]);function xS(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(Ac)||[];if(!r)return t;const a=s.replace(r,"");let i=gS.has(e)?1:0;return r!==s&&(i*=100),e+"("+i+a+")"}const bS=/\b([a-z-]*)\(.*?\)/gu,Tl={...vs,getAnimatableNone:t=>{const e=t.match(bS);return e?e.map(xS).join(" "):t}},Eu={...en,transform:Math.round},yS={rotate:fs,rotateX:fs,rotateY:fs,rotateZ:fs,scale:qa,scaleX:qa,scaleY:qa,scaleZ:qa,skew:fs,skewX:fs,skewY:fs,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:Kn,originX:xu,originY:xu,originZ:Y},Vc={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,backgroundPositionX:Y,backgroundPositionY:Y,...yS,zIndex:Eu,fillOpacity:Kn,strokeOpacity:Kn,numOctaves:Eu},vS={...Vc,color:Fe,backgroundColor:Fe,outlineColor:Fe,fill:Fe,stroke:Fe,borderColor:Fe,borderTopColor:Fe,borderRightColor:Fe,borderBottomColor:Fe,borderLeftColor:Fe,filter:Tl,WebkitFilter:Tl},ig=t=>vS[t];function og(t,e){let s=ig(t);return s!==Tl&&(s=vs),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const wS=new Set(["auto","none","0"]);function jS(t,e,s){let r=0,a;for(;r<t.length&&!a;){const i=t[r];typeof i=="string"&&!wS.has(i)&&Gn(i).values.length&&(a=t[r]),r++}if(a&&s)for(const i of e)t[i]=og(s,a)}class NS extends $c{constructor(e,s,r,a,i){super(e,s,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),Ec(d))){const u=sg(d,s.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!rg.has(r)||e.length!==2)return;const[a,i]=e,o=Tu(a),l=Tu(i);if(o!==l)if(Su(o)&&Su(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else zs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||pS(e[a]))&&r.push(a);r.length&&jS(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var l;const{element:e,name:s,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(s);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=zs[s](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function lg(t,e,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const a=document.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const cg=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function dg(t){return _p(t)&&"offsetHeight"in t}const Au=30,_S=t=>!isNaN(parseFloat(t)),Mn={current:void 0};class SS{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const a=ot.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=ot.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_S(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Sc);const r=this.events[e].add(s);return e==="change"?()=>{r(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Mn.current&&Mn.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ot.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Au)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Au);return kc(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lt(t,e){return new SS(t,e)}const{schedule:Bc}=Mp(queueMicrotask,!1),Rt={x:!1,y:!1};function ug(){return Rt.x||Rt.y}function kS(t){return t==="x"||t==="y"?Rt[t]?null:(Rt[t]=!0,()=>{Rt[t]=!1}):Rt.x||Rt.y?null:(Rt.x=Rt.y=!0,()=>{Rt.x=Rt.y=!1})}function hg(t,e){const s=lg(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[s,a,()=>r.abort()]}function Ru(t){return!(t.pointerType==="touch"||ug())}function CS(t,e,s={}){const[r,a,i]=hg(t,s),o=l=>{if(!Ru(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{Ru(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return r.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const fg=(t,e)=>e?t===e?!0:fg(t,e.parentElement):!1,Uc=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,PS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TS(t){return PS.has(t.tagName)||t.tabIndex!==-1}const ai=new WeakSet;function Ou(t){return e=>{e.key==="Enter"&&t(e)}}function Lo(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ES=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=Ou(()=>{if(ai.has(s))return;Lo(s,"down");const a=Ou(()=>{Lo(s,"up")}),i=()=>Lo(s,"cancel");s.addEventListener("keyup",a,e),s.addEventListener("blur",i,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function Lu(t){return Uc(t)&&!ug()}function AS(t,e,s={}){const[r,a,i]=hg(t,s),o=l=>{const c=l.currentTarget;if(!Lu(l))return;ai.add(c);const d=e(c,l),u=(m,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),ai.has(c)&&ai.delete(c),Lu(m)&&typeof d=="function"&&d(m,{success:p})},h=m=>{u(m,c===window||c===document||s.useGlobalTarget||fg(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",f,a)};return r.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),dg(l)&&(l.addEventListener("focus",d=>ES(d,a)),!TS(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function zc(t){return _p(t)&&"ownerSVGElement"in t}const ii=new WeakMap;let ms;const mg=(t,e,s)=>(r,a)=>a&&a[0]?a[0][t+"Size"]:zc(r)&&"getBBox"in r?r.getBBox()[e]:r[s],RS=mg("inline","width","offsetWidth"),OS=mg("block","height","offsetHeight");function LS({target:t,borderBoxSize:e}){var s;(s=ii.get(t))==null||s.forEach(r=>{r(t,{get width(){return RS(t,e)},get height(){return OS(t,e)}})})}function IS(t){t.forEach(LS)}function MS(){typeof ResizeObserver>"u"||(ms=new ResizeObserver(IS))}function DS(t,e){ms||MS();const s=lg(t);return s.forEach(r=>{let a=ii.get(r);a||(a=new Set,ii.set(r,a)),a.add(e),ms==null||ms.observe(r)}),()=>{s.forEach(r=>{const a=ii.get(r);a==null||a.delete(e),a!=null&&a.size||ms==null||ms.unobserve(r)})}}const oi=new Set;let Sr;function $S(){Sr=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};oi.forEach(e=>e(t))},window.addEventListener("resize",Sr)}function FS(t){return oi.add(t),Sr||$S(),()=>{oi.delete(t),!oi.size&&typeof Sr=="function"&&(window.removeEventListener("resize",Sr),Sr=void 0)}}function VS(t,e){return typeof t=="function"?FS(t):DS(t,e)}function pg(t,e){let s;const r=()=>{const{currentTime:a}=e,o=(a===null?0:a.value)/100;s!==o&&t(o),s=o};return _e.preUpdate(r,!0),()=>Ft(r)}function BS(t){return zc(t)&&t.tagName==="svg"}function US(...t){const e=!Array.isArray(t[0]),s=e?0:-1,r=t[0+s],a=t[1+s],i=t[2+s],o=t[3+s],l=Ic(a,i,o);return e?l(r):l}const Ke=t=>!!(t&&t.getVelocity);function zS(t,e,s){const r=t.get();let a=null,i=r,o;const l=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,c=()=>{a&&(a.stop(),a=null)},d=()=>{c(),a=new eo({keyframes:[Mu(t.get()),Mu(i)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:o})};if(t.attach((u,h)=>(i=u,o=f=>h(Iu(f,l)),_e.postRender(d),t.get()),c),Ke(e)){const u=e.on("change",f=>t.set(Iu(f,l))),h=t.on("destroy",u);return()=>{u(),h()}}return c}function Iu(t,e){return e?t+e:t}function Mu(t){return typeof t=="number"?t:parseFloat(t)}const qS=[...ag,Fe,vs],WS=t=>qS.find(ng(t)),to=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function HS(t=!0){const e=b.useContext(wc);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:a}=e,i=b.useId();b.useEffect(()=>{if(t)return a(i)},[t]);const o=b.useCallback(()=>t&&r&&r(i),[i,r,t]);return!s&&r?[!1,o]:[!0]}const gg=b.createContext({strict:!1}),Du={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dr={};for(const t in Du)Dr[t]={isEnabled:e=>Du[t].some(s=>!!e[s])};function KS(t){for(const e in t)Dr[e]={...Dr[e],...t[e]}}const GS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ci(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||GS.has(t)}let xg=t=>!Ci(t);function JS(t){typeof t=="function"&&(xg=e=>e.startsWith("on")?!Ci(e):t(e))}try{JS(require("@emotion/is-prop-valid").default)}catch{}function ZS(t,e,s){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(xg(a)||s===!0&&Ci(a)||!e&&!Ci(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const so=b.createContext({});function ro(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Jn(t){return typeof t=="string"||Array.isArray(t)}const qc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wc=["initial",...qc];function no(t){return ro(t.animate)||Wc.some(e=>Jn(t[e]))}function bg(t){return!!(no(t)||t.variants)}function XS(t,e){if(no(t)){const{initial:s,animate:r}=t;return{initial:s===!1||Jn(s)?s:void 0,animate:Jn(r)?r:void 0}}return t.inherit!==!1?e:{}}function YS(t){const{initial:e,animate:s}=XS(t,b.useContext(so));return b.useMemo(()=>({initial:e,animate:s}),[$u(e),$u(s)])}function $u(t){return Array.isArray(t)?t.join(" "):t}const Zn={};function QS(t){for(const e in t)Zn[e]=t[e],Tc(e)&&(Zn[e].isCSSVariable=!0)}function yg(t,{layout:e,layoutId:s}){return sn.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Zn[t]||t==="opacity")}const e1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t1=tn.length;function s1(t,e,s){let r="",a=!0;for(let i=0;i<t1;i++){const o=tn[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=cg(l,Vc[o]);if(!c){a=!1;const u=e1[o]||o;r+=`${u}(${d}) `}s&&(e[o]=d)}}return r=r.trim(),s?r=s(e,a?"":r):a&&(r="none"),r}function Hc(t,e,s){const{style:r,vars:a,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(sn.has(c)){o=!0;continue}else if(Tc(c)){a[c]=d;continue}else{const u=cg(d,Vc[c]);c.startsWith("origin")?(l=!0,i[c]=u):r[c]=u}}if(e.transform||(o||s?r.transform=s1(e,t.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;r.transformOrigin=`${c} ${d} ${u}`}}const Kc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vg(t,e,s){for(const r in e)!Ke(e[r])&&!yg(r,s)&&(t[r]=e[r])}function r1({transformTemplate:t},e){return b.useMemo(()=>{const s=Kc();return Hc(s,e,t),Object.assign({},s.vars,s.style)},[e])}function n1(t,e){const s=t.style||{},r={};return vg(r,s,t),Object.assign(r,r1(t,e)),r}function a1(t,e){const s={},r=n1(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const i1={offset:"stroke-dashoffset",array:"stroke-dasharray"},o1={offset:"strokeDashoffset",array:"strokeDasharray"};function l1(t,e,s=1,r=0,a=!0){t.pathLength=1;const i=a?i1:o1;t[i.offset]=Y.transform(-r);const o=Y.transform(e),l=Y.transform(s);t[i.array]=`${o} ${l}`}function wg(t,{attrX:e,attrY:s,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(Hc(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),s!==void 0&&(h.y=s),r!==void 0&&(h.scale=r),a!==void 0&&l1(h,a,i,o,!1)}const jg=()=>({...Kc(),attrs:{}}),Ng=t=>typeof t=="string"&&t.toLowerCase()==="svg";function c1(t,e,s,r){const a=b.useMemo(()=>{const i=jg();return wg(i,e,Ng(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};vg(i,t.style,t),a.style={...i,...a.style}}return a}const d1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gc(t){return typeof t!="string"||t.includes("-")?!1:!!(d1.indexOf(t)>-1||/[A-Z]/u.test(t))}function u1(t,e,s,{latestValues:r},a,i=!1){const l=(Gc(t)?c1:a1)(e,r,a,t),c=ZS(e,typeof t=="string",i),d=t!==b.Fragment?{...c,...l,ref:s}:{},{children:u}=e,h=b.useMemo(()=>Ke(u)?u.get():u,[u]);return b.createElement(t,{...d,children:h})}function Fu(t){const e=[{},{}];return t==null||t.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function Jc(t,e,s,r){if(typeof e=="function"){const[a,i]=Fu(r);e=e(s!==void 0?s:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=Fu(r);e=e(s!==void 0?s:t.custom,a,i)}return e}function li(t){return Ke(t)?t.get():t}function h1({scrapeMotionValuesFromProps:t,createRenderState:e},s,r,a){return{latestValues:f1(s,r,a,t),renderState:e()}}function f1(t,e,s,r){const a={},i=r(t,{});for(const f in i)a[f]=li(i[f]);let{initial:o,animate:l}=t;const c=no(t),d=bg(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!ro(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const p=Jc(t,f[m]);if(p){const{transitionEnd:x,transition:g,...y}=p;for(const N in y){let w=y[N];if(Array.isArray(w)){const _=u?w.length-1:0;w=w[_]}w!==null&&(a[N]=w)}for(const N in x)a[N]=x[N]}}}return a}const _g=t=>(e,s)=>{const r=b.useContext(so),a=b.useContext(wc),i=()=>h1(t,e,r,a);return s?i():Qi(i)};function Zc(t,e,s){var i;const{style:r}=t,a={};for(const o in r)(Ke(r[o])||e.style&&Ke(e.style[o])||yg(o,t)||((i=s==null?void 0:s.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=r[o]);return a}const m1=_g({scrapeMotionValuesFromProps:Zc,createRenderState:Kc});function Sg(t,e,s){const r=Zc(t,e,s);for(const a in t)if(Ke(t[a])||Ke(e[a])){const i=tn.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=t[a]}return r}const p1=_g({scrapeMotionValuesFromProps:Sg,createRenderState:jg}),g1=Symbol.for("motionComponentSymbol");function kr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function x1(t,e,s){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):kr(s)&&(s.current=r))},[e])}const Xc=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),b1="framerAppearId",kg="data-"+Xc(b1),Cg=b.createContext({});function y1(t,e,s,r,a){var x,g;const{visualElement:i}=b.useContext(so),o=b.useContext(gg),l=b.useContext(wc),c=b.useContext(to).reducedMotion,d=b.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:i,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=b.useContext(Cg);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&v1(d.current,s,a,h);const f=b.useRef(!1);b.useInsertionEffect(()=>{u&&f.current&&u.update(s,l)});const m=s[kg],p=b.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,m)));return vc(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),p.current=!1),u.enteringChildren=void 0)}),u}function v1(t,e,s,r){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:Pg(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&kr(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function Pg(t){if(t)return t.options.allowProjection!==!1?t.projection:Pg(t.parent)}function Io(t,{forwardMotionProps:e=!1}={},s,r){s&&KS(s);const a=Gc(t)?p1:m1;function i(l,c){let d;const u={...b.useContext(to),...l,layoutId:w1(l)},{isStatic:h}=u,f=YS(l),m=a(l,h);if(!h&&yc){j1();const p=N1(u);d=p.MeasureLayout,f.visualElement=y1(t,m,u,r,p.ProjectionNode)}return n.jsxs(so.Provider,{value:f,children:[d&&f.visualElement?n.jsx(d,{visualElement:f.visualElement,...u}):null,u1(t,l,x1(m,f.visualElement,c),m,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=b.forwardRef(i);return o[g1]=t,o}function w1({layoutId:t}){const e=b.useContext(jp).id;return e&&t!==void 0?e+"-"+t:t}function j1(t,e){b.useContext(gg).strict}function N1(t){const{drag:e,layout:s}=Dr;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function _1(t,e){if(typeof Proxy>"u")return Io;const s=new Map,r=(i,o)=>Io(i,o,t,e),a=(i,o)=>r(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?r:(s.has(o)||s.set(o,Io(o,void 0,t,e)),s.get(o))})}function Tg({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function S1({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function k1(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Mo(t){return t===void 0||t===1}function El({scale:t,scaleX:e,scaleY:s}){return!Mo(t)||!Mo(e)||!Mo(s)}function Ms(t){return El(t)||Eg(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Eg(t){return Vu(t.x)||Vu(t.y)}function Vu(t){return t&&t!=="0%"}function Pi(t,e,s){const r=t-s,a=e*r;return s+a}function Bu(t,e,s,r,a){return a!==void 0&&(t=Pi(t,a,r)),Pi(t,s,r)+e}function Al(t,e=0,s=1,r,a){t.min=Bu(t.min,e,s,r,a),t.max=Bu(t.max,e,s,r,a)}function Ag(t,{x:e,y:s}){Al(t.x,e.translate,e.scale,e.originPoint),Al(t.y,s.translate,s.scale,s.originPoint)}const Uu=.999999999999,zu=1.0000000000001;function C1(t,e,s,r=!1){const a=s.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=s[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Pr(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Ag(t,o)),r&&Ms(i.latestValues)&&Pr(t,i.latestValues))}e.x<zu&&e.x>Uu&&(e.x=1),e.y<zu&&e.y>Uu&&(e.y=1)}function Cr(t,e){t.min=t.min+e,t.max=t.max+e}function qu(t,e,s,r,a=.5){const i=Ie(t.min,t.max,a);Al(t,e,s,i,r)}function Pr(t,e){qu(t.x,e.x,e.scaleX,e.scale,e.originX),qu(t.y,e.y,e.scaleY,e.scale,e.originY)}function Rg(t,e){return Tg(k1(t.getBoundingClientRect(),e))}function P1(t,e,s){const r=Rg(t,s),{scroll:a}=e;return a&&(Cr(r.x,a.offset.x),Cr(r.y,a.offset.y)),r}const Wu=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tr=()=>({x:Wu(),y:Wu()}),Hu=()=>({min:0,max:0}),$e=()=>({x:Hu(),y:Hu()}),Rl={current:null},Og={current:!1};function T1(){if(Og.current=!0,!!yc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rl.current=t.matches;t.addEventListener("change",e),e()}else Rl.current=!1}const E1=new WeakMap;function A1(t,e,s){for(const r in e){const a=e[r],i=s[r];if(Ke(a))t.addValue(r,a);else if(Ke(i))t.addValue(r,Lt(a,{owner:t}));else if(i!==a)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(r);t.addValue(r,Lt(o!==void 0?o:a,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const Ku=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class R1{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$c,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ot.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,_e.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=no(s),this.isVariantNode=bg(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Ke(m)&&m.set(c[f])}}mount(e){var s;this.current=e,E1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),Og.current||T1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rl.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ft(this.notifyUpdate),Ft(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=sn.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&_e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dr){const s=Dr[e];if(!s)continue;const{isEnabled:r,Feature:a}=s;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Ku.length;r++){const a=Ku[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=A1(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=Lt(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Np(r)||Sp(r))?r=parseFloat(r):!WS(r)&&vs.test(s)&&(r=og(e,s)),this.setBaseTarget(e,Ke(r)?r.get():r)),Ke(r)?r.get():r}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var i;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=Jc(this.props,s,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ke(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Sc),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Bc.render(this.render)}}class Lg extends R1{constructor(){super(...arguments),this.KeyframeResolver=NS}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ke(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Ig(t,{style:e,vars:s},r,a){const i=t.style;let o;for(o in e)i[o]=e[o];a==null||a.applyProjectionStyles(i,r);for(o in s)i.setProperty(o,s[o])}function O1(t){return window.getComputedStyle(t)}class L1 extends Lg{constructor(){super(...arguments),this.type="html",this.renderInstance=Ig}readValueFromInstance(e,s){var r;if(sn.has(s))return(r=this.projection)!=null&&r.isProjecting?Nl(s):z_(e,s);{const a=O1(e),i=(Tc(s)?a.getPropertyValue(s):a[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Rg(e,s)}build(e,s,r){Hc(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return Zc(e,s,r)}}const Mg=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function I1(t,e,s,r){Ig(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(Mg.has(a)?a:Xc(a),e.attrs[a])}class M1 extends Lg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$e}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(sn.has(s)){const r=ig(s);return r&&r.default||0}return s=Mg.has(s)?s:Xc(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return Sg(e,s,r)}build(e,s,r){wg(e,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,s,r,a){I1(e,s,r,a)}mount(e){this.isSVGTag=Ng(e.tagName),super.mount(e)}}const D1=(t,e)=>Gc(t)?new M1(e):new L1(e,{allowProjection:t!==b.Fragment});function Or(t,e,s){const r=t.getProps();return Jc(r,e,s!==void 0?s:r.custom,t)}const Ol=t=>Array.isArray(t);function $1(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,Lt(s))}function F1(t){return Ol(t)?t[t.length-1]||0:t}function V1(t,e){const s=Or(t,e);let{transitionEnd:r={},transition:a={},...i}=s||{};i={...i,...r};for(const o in i){const l=F1(i[o]);$1(t,o,l)}}function B1(t){return!!(Ke(t)&&t.add)}function Ll(t,e){const s=t.getValue("willChange");if(B1(s))return s.add(e);if(!s&&rs.WillChange){const r=new rs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Dg(t){return t.props[kg]}const U1=t=>t!==null;function z1(t,{repeat:e,repeatType:s="loop"},r){const a=t.filter(U1),i=e&&s!=="loop"&&e%2===1?0:a.length-1;return a[i]}const q1={type:"spring",stiffness:500,damping:25,restSpeed:10},W1=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),H1={type:"keyframes",duration:.8},K1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},G1=(t,{keyframes:e})=>e.length>2?H1:sn.has(t)?t.startsWith("scale")?W1(e[1]):q1:K1;function J1({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Yc=(t,e,s,r={},a,i)=>o=>{const l=Fc(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Wt(c);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:a};J1(l)||Object.assign(u,G1(t,u)),u.duration&&(u.duration=Wt(u.duration)),u.repeatDelay&&(u.repeatDelay=Wt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Pl(u),u.delay===0&&(h=!0)),(rs.instantAnimations||rs.skipAnimations)&&(h=!0,Pl(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const f=z1(u.keyframes,l);if(f!==void 0){_e.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new eo(u):new uS(u)};function Z1({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function $g(t,e,{delay:s=0,transitionOverride:r,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(i=r);const c=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const u in l){const h=t.getValue(u,t.latestValues[u]??null),f=l[u];if(f===void 0||d&&Z1(d,u))continue;const m={delay:s,...Fc(i||{},u)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===p&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const y=Dg(t);if(y){const N=window.MotionHandoffAnimation(y,u,_e);N!==null&&(m.startTime=N,x=!0)}}Ll(t,u),h.start(Yc(u,h,f,t.shouldReduceMotion&&rg.has(u)?{type:!1}:m,t,x));const g=h.animation;g&&c.push(g)}return o&&Promise.all(c).then(()=>{_e.update(()=>{o&&V1(t,o)})}),c}function Fg(t,e,s,r=0,a=1){const i=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(e),o=t.size,l=(o-1)*r;return typeof s=="function"?s(i,o):a===1?i*r:l-i*r}function Il(t,e,s={}){var c;const r=Or(t,e,s.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(a=s.transitionOverride);const i=r?()=>Promise.all($g(t,r,s)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=a;return X1(t,e,d,u,h,f,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(s.delay)])}function X1(t,e,s=0,r=0,a=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(Il(c,e,{...o,delay:s+(typeof r=="function"?0:r)+Fg(t.variantChildren,c,r,a,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Y1(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(i=>Il(t,i,s));r=Promise.all(a)}else if(typeof e=="string")r=Il(t,e,s);else{const a=typeof e=="function"?Or(t,e,s.custom):e;r=Promise.all($g(t,a,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Vg(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}const Q1=Wc.length;function Bg(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?Bg(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<Q1;s++){const r=Wc[s],a=t.props[r];(Jn(a)||a===!1)&&(e[r]=a)}return e}const ek=[...qc].reverse(),tk=qc.length;function sk(t){return e=>Promise.all(e.map(({animation:s,options:r})=>Y1(t,s,r)))}function rk(t){let e=sk(t),s=Gu(),r=!0;const a=c=>(d,u)=>{var f;const h=Or(t,u,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:p,...x}=h;d={...d,...x,...p}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=Bg(t.parent)||{},h=[],f=new Set;let m={},p=1/0;for(let g=0;g<tk;g++){const y=ek[g],N=s[y],w=d[y]!==void 0?d[y]:u[y],_=Jn(w),v=y===c?N.isActive:null;v===!1&&(p=g);let j=w===u[y]&&w!==d[y]&&_;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),N.protectedKeys={...m},!N.isActive&&v===null||!w&&!N.prevProp||ro(w)||typeof w=="boolean")continue;const S=nk(N.prevProp,w);let A=S||y===c&&N.isActive&&!j&&_||g>p&&_,R=!1;const C=Array.isArray(w)?w:[w];let O=C.reduce(a(y),{});v===!1&&(O={});const{prevResolvedValues:$={}}=N,I={...$,...O},T=B=>{A=!0,f.has(B)&&(R=!0,f.delete(B)),N.needsAnimating[B]=!0;const q=t.getValue(B);q&&(q.liveStyle=!1)};for(const B in I){const q=O[B],V=$[B];if(m.hasOwnProperty(B))continue;let ue=!1;Ol(q)&&Ol(V)?ue=!Vg(q,V):ue=q!==V,ue?q!=null?T(B):f.add(B):q!==void 0&&f.has(B)?T(B):N.protectedKeys[B]=!0}N.prevProp=w,N.prevResolvedValues=O,N.isActive&&(m={...m,...O}),r&&t.blockInitialAnimation&&(A=!1);const k=j&&S;A&&(!k||R)&&h.push(...C.map(B=>{const q={type:y};if(typeof B=="string"&&r&&!k&&t.manuallyAnimateOnMount&&t.parent){const{parent:V}=t,ue=Or(V,B);if(V.enteringChildren&&ue){const{delayChildren:P}=ue.transition||{};q.delay=Fg(V.enteringChildren,t,P)}}return{animation:B,options:q}}))}if(f.size){const g={};if(typeof d.initial!="boolean"){const y=Or(t,Array.isArray(d.initial)?d.initial[0]:d.initial);y&&y.transition&&(g.transition=y.transition)}f.forEach(y=>{const N=t.getBaseTarget(y),w=t.getValue(y);w&&(w.liveStyle=!0),g[y]=N??null}),h.push({animation:g})}let x=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function l(c,d){var h;if(s[c].isActive===d)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,d)}),s[c].isActive=d;const u=o(c);for(const f in s)s[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>s,reset:()=>{s=Gu(),r=!0}}}function nk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Vg(e,t):!1}function Ls(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Gu(){return{animate:Ls(!0),whileInView:Ls(),whileHover:Ls(),whileTap:Ls(),whileDrag:Ls(),whileFocus:Ls(),exit:Ls()}}class Ss{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ak extends Ss{constructor(e){super(e),e.animationState||(e.animationState=rk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ro(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let ik=0;class ok extends Ss{constructor(){super(...arguments),this.id=ik++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);s&&!e&&a.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lk={animation:{Feature:ak},exit:{Feature:ok}};function Xn(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}function Ta(t){return{point:{x:t.pageX,y:t.pageY}}}const ck=t=>e=>Uc(e)&&t(e,Ta(e));function Dn(t,e,s,r){return Xn(t,e,ck(s),r)}const Ug=1e-4,dk=1-Ug,uk=1+Ug,zg=.01,hk=0-zg,fk=0+zg;function et(t){return t.max-t.min}function mk(t,e,s){return Math.abs(t-e)<=s}function Ju(t,e,s,r=.5){t.origin=r,t.originPoint=Ie(e.min,e.max,t.origin),t.scale=et(s)/et(e),t.translate=Ie(s.min,s.max,t.origin)-t.originPoint,(t.scale>=dk&&t.scale<=uk||isNaN(t.scale))&&(t.scale=1),(t.translate>=hk&&t.translate<=fk||isNaN(t.translate))&&(t.translate=0)}function $n(t,e,s,r){Ju(t.x,e.x,s.x,r?r.originX:void 0),Ju(t.y,e.y,s.y,r?r.originY:void 0)}function Zu(t,e,s){t.min=s.min+e.min,t.max=t.min+et(e)}function pk(t,e,s){Zu(t.x,e.x,s.x),Zu(t.y,e.y,s.y)}function Xu(t,e,s){t.min=e.min-s.min,t.max=t.min+et(e)}function Fn(t,e,s){Xu(t.x,e.x,s.x),Xu(t.y,e.y,s.y)}function jt(t){return[t("x"),t("y")]}const qg=({current:t})=>t?t.ownerDocument.defaultView:null,Yu=(t,e)=>Math.abs(t-e);function gk(t,e){const s=Yu(t.x,e.x),r=Yu(t.y,e.y);return Math.sqrt(s**2+r**2)}class Wg{constructor(e,s,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=$o(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=gk(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:x}=f,{timestamp:g}=He;this.history.push({...x,timestamp:g});const{onStart:y,onMove:N}=this.handlers;m||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Do(m,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=$o(f.type==="pointercancel"?this.lastMoveEventInfo:Do(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),x&&x(f,y)},!Uc(e))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=a||window;const l=Ta(e),c=Do(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=He;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=s;h&&h(e,$o(c,this.history)),this.removeListeners=ka(Dn(this.contextWindow,"pointermove",this.handlePointerMove),Dn(this.contextWindow,"pointerup",this.handlePointerUp),Dn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ft(this.updatePoint)}}function Do(t,e){return e?{point:e(t.point)}:t}function Qu(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $o({point:t},e){return{point:t,delta:Qu(t,Hg(e)),offset:Qu(t,xk(e)),velocity:bk(e,.1)}}function xk(t){return t[0]}function Hg(t){return t[t.length-1]}function bk(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const a=Hg(t);for(;s>=0&&(r=t[s],!(a.timestamp-r.timestamp>Wt(e)));)s--;if(!r)return{x:0,y:0};const i=Ht(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function yk(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?Ie(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?Ie(s,t,r.max):Math.min(t,s)),t}function eh(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function vk(t,{top:e,left:s,bottom:r,right:a}){return{x:eh(t.x,s,a),y:eh(t.y,e,r)}}function th(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function wk(t,e){return{x:th(t.x,e.x),y:th(t.y,e.y)}}function jk(t,e){let s=.5;const r=et(t),a=et(e);return a>r?s=Mr(e.min,e.max-r,t.min):r>a&&(s=Mr(t.min,t.max-a,e.min)),Zt(0,1,s)}function Nk(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const Ml=.35;function _k(t=Ml){return t===!1?t=0:t===!0&&(t=Ml),{x:sh(t,"left","right"),y:sh(t,"top","bottom")}}function sh(t,e,s){return{min:rh(t,e),max:rh(t,s)}}function rh(t,e){return typeof t=="number"?t:t[e]||0}const Sk=new WeakMap;class kk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ta(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:p,onDragStart:x}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kS(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jt(y=>{let N=this.getAxisMotionValue(y).get()||0;if(Kt.test(N)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[y];_&&(N=et(_)*(parseFloat(N)/100))}}this.originPoint[y]=N}),x&&_e.postRender(()=>x(h,f)),Ll(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:x,onDrag:g}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=Ck(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>jt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Wg(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:qg(this.visualElement)})}stop(e,s){const r=e||this.latestPointerEvent,a=s||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!r)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&_e.postRender(()=>l(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:a}=this.getProps();if(!r||!Wa(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=yk(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;e&&kr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=vk(r.layoutBox,e):this.constraints=!1,this.elastic=_k(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&jt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Nk(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!kr(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=P1(r,a.root,this.visualElement.getTransformPagePoint());let o=wk(a.layout.layoutBox,i);if(s){const l=s(S1(o));this.hasMutatedConstraints=!!l,l&&(o=Tg(l))}return o}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=jt(u=>{if(!Wa(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=a?200:1e6,m=a?40:1e7,p={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(d).then(l)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return Ll(this.visualElement,e),r.start(Yc(e,r,0,s,this.visualElement,!1))}stopAnimation(){jt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jt(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[s];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jt(s=>{const{drag:r}=this.getProps();if(!Wa(s,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(s);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[s];i.set(e[s]-Ie(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!kr(s)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};jt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=jk({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jt(o=>{if(!Wa(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Ie(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;Sk.set(this.visualElement,this);const e=this.visualElement.current,s=Dn(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();kr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),_e.read(r);const o=Xn(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(jt(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Ml,dragMomentum:l=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Wa(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function Ck(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class Pk extends Ss{constructor(e){super(e),this.removeGroupControls=lt,this.removeListeners=lt,this.controls=new kk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lt}unmount(){this.removeGroupControls(),this.removeListeners()}}const nh=t=>(e,s)=>{t&&_e.postRender(()=>t(e,s))};class Tk extends Ss{constructor(){super(...arguments),this.removePointerDownListener=lt}onPointerDown(e){this.session=new Wg(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qg(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:nh(e),onStart:nh(s),onMove:r,onEnd:(i,o)=>{delete this.session,a&&_e.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Dn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ci={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ah(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xn={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Y.test(t))t=parseFloat(t);else return t;const s=ah(t,e.target.x),r=ah(t,e.target.y);return`${s}% ${r}%`}},Ek={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,a=vs.parse(t);if(a.length>5)return r;const i=vs.createTransformer(t),o=typeof a[0]!="number"?1:0,l=s.x.scale*e.x,c=s.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const d=Ie(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let Fo=!1;class Ak extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=e;QS(Rk),i&&(s.group&&s.group.add(i),r&&r.register&&a&&r.register(i),Fo&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ci.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:a,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Fo=!0,a||e.layoutDependency!==s||s===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||_e.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bc.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:a}=e;Fo=!0,a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Kg(t){const[e,s]=HS(),r=b.useContext(jp);return n.jsx(Ak,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(Cg),isPresent:e,safeToRemove:s})}const Rk={borderRadius:{...xn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xn,borderTopRightRadius:xn,borderBottomLeftRadius:xn,borderBottomRightRadius:xn,boxShadow:Ek};function Ok(t,e,s){const r=Ke(t)?t:Lt(t);return r.start(Yc("",r,e,s)),r.animation}const Lk=(t,e)=>t.depth-e.depth;class Ik{constructor(){this.children=[],this.isDirty=!1}add(e){jc(this.children,e),this.isDirty=!0}remove(e){Nc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lk),this.isDirty=!1,this.children.forEach(e)}}function Mk(t,e){const s=ot.now(),r=({timestamp:a})=>{const i=a-s;i>=e&&(Ft(r),t(i-e))};return _e.setup(r,!0),()=>Ft(r)}const Gg=["TopLeft","TopRight","BottomLeft","BottomRight"],Dk=Gg.length,ih=t=>typeof t=="string"?parseFloat(t):t,oh=t=>typeof t=="number"||Y.test(t);function $k(t,e,s,r,a,i){a?(t.opacity=Ie(0,s.opacity??1,Fk(r)),t.opacityExit=Ie(e.opacity??1,0,Vk(r))):i&&(t.opacity=Ie(e.opacity??1,s.opacity??1,r));for(let o=0;o<Dk;o++){const l=`border${Gg[o]}Radius`;let c=lh(e,l),d=lh(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||oh(c)===oh(d)?(t[l]=Math.max(Ie(ih(c),ih(d),r),0),(Kt.test(d)||Kt.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||s.rotate)&&(t.rotate=Ie(e.rotate||0,s.rotate||0,r))}function lh(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Fk=Jg(0,.5,Rp),Vk=Jg(.5,.95,lt);function Jg(t,e,s){return r=>r<t?0:r>e?1:s(Mr(t,e,r))}function ch(t,e){t.min=e.min,t.max=e.max}function yt(t,e){ch(t.x,e.x),ch(t.y,e.y)}function dh(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function uh(t,e,s,r,a){return t-=e,t=Pi(t,1/s,r),a!==void 0&&(t=Pi(t,1/a,r)),t}function Bk(t,e=0,s=1,r=.5,a,i=t,o=t){if(Kt.test(e)&&(e=parseFloat(e),e=Ie(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ie(i.min,i.max,r);t===i&&(l-=e),t.min=uh(t.min,e,s,l,a),t.max=uh(t.max,e,s,l,a)}function hh(t,e,[s,r,a],i,o){Bk(t,e[s],e[r],e[a],e.scale,i,o)}const Uk=["x","scaleX","originX"],zk=["y","scaleY","originY"];function fh(t,e,s,r){hh(t.x,e,Uk,s?s.x:void 0,r?r.x:void 0),hh(t.y,e,zk,s?s.y:void 0,r?r.y:void 0)}function mh(t){return t.translate===0&&t.scale===1}function Zg(t){return mh(t.x)&&mh(t.y)}function ph(t,e){return t.min===e.min&&t.max===e.max}function qk(t,e){return ph(t.x,e.x)&&ph(t.y,e.y)}function gh(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Xg(t,e){return gh(t.x,e.x)&&gh(t.y,e.y)}function xh(t){return et(t.x)/et(t.y)}function bh(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Wk{constructor(){this.members=[]}add(e){jc(this.members,e),e.scheduleRender()}remove(e){if(Nc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(a=>e===a);if(s===0)return!1;let r;for(let a=s;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hk(t,e,s){let r="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=(s==null?void 0:s.z)||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:p}=s;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),p&&(r+=`skewY(${p}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Vo=["","X","Y","Z"],Kk=1e3;let Gk=0;function Bo(t,e,s,r){const{latestValues:a}=e;a[t]&&(s[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Yg(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=Dg(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",_e,!(a||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Yg(r)}function Qg({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Gk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Xk),this.nodes.forEach(tC),this.nodes.forEach(sC),this.nodes.forEach(Yk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ik)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Sc),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=zc(o)&&!BS(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;_e.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,u&&u(),u=Mk(f,250),ci.hasAnimatedSinceResize&&(ci.hasAnimatedSinceResize=!1,this.nodes.forEach(wh)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||oC,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=d.getProps(),y=!this.targetLayout||!Xg(this.targetLayout,m),N=!h&&f;if(this.options.layoutRoot||this.resumeFrom||N||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...Fc(p,"layout"),onPlay:x,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,N)}else h||wh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ft(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rC),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Yg(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yh);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vh);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(eC),this.nodes.forEach(Jk),this.nodes.forEach(Zk)):this.nodes.forEach(vh),this.clearAllSnapshots();const l=ot.now();He.delta=Zt(0,1e3/60,l-He.timestamp),He.timestamp=l,He.isProcessing=!0,To.update.process(He),To.preRender.process(He),To.render.process(He),He.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Qk),this.sharedNodes.forEach(nC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!et(this.snapshot.measuredBox.x)&&!et(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Zg(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ms(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),lC(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return $e();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(cC))){const{scroll:u}=this.root;u&&(Cr(l.x,u.offset.x),Cr(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=$e();if(yt(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&yt(l,o),Cr(l.x,h.offset.x),Cr(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=$e();yt(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Pr(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ms(u.latestValues)&&Pr(c,u.latestValues)}return Ms(this.latestValues)&&Pr(c,this.latestValues),c}removeTransform(o){const l=$e();yt(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ms(d.latestValues))continue;El(d.latestValues)&&d.updateSnapshot();const u=$e(),h=d.measurePageBox();yt(u,h),fh(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ms(this.latestValues)&&fh(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==He.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=He.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),Fn(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yt(this.target,this.layout.layoutBox),Ag(this.target,this.targetDelta)):yt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),Fn(this.relativeTargetOrigin,this.target,m.target),yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||El(this.parent.latestValues)||Eg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===He.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;yt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;C1(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=$e());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dh(this.prevProjectionDelta.x,this.projectionDelta.x),dh(this.prevProjectionDelta.y,this.projectionDelta.y)),$n(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!bh(this.projectionDelta.x,this.prevProjectionDelta.x)||!bh(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tr(),this.projectionDelta=Tr(),this.projectionDeltaWithTransform=Tr()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Tr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=$e(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,x=m!==p,g=this.getStack(),y=!g||g.members.length<=1,N=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(iC));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const v=_/1e3;jh(h.x,o.x,v),jh(h.y,o.y,v),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fn(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aC(this.relativeTarget,this.relativeTargetOrigin,f,v),w&&qk(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=$e()),yt(w,this.relativeTarget)),x&&(this.animationValues=u,$k(u,d,this.latestValues,v,N,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=v},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ft(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{ci.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lt(0)),this.currentAnimation=Ok(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Kk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&ex(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||$e();const h=et(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=et(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}yt(l,c),Pr(l,u),$n(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Wk),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Bo("z",o,d,this.animationValues);for(let u=0;u<Vo.length;u++)Bo(`rotate${Vo[u]}`,o,d,this.animationValues),Bo(`skew${Vo[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=li(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=li(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ms(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=Hk(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Zn){if(u[p]===void 0)continue;const{correct:x,applyTo:g,isCSSVariable:y}=Zn[p],N=h==="none"?u[p]:x(u[p],d);if(g){const w=g.length;for(let _=0;_<w;_++)o[g[_]]=N}else y?this.options.visualElement.renderState.vars[p]=N:o[p]=N}this.options.layoutId&&(o.pointerEvents=d===this?li(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(yh),this.root.sharedNodes.clear()}}}function Jk(t){t.updateLayout()}function Zk(t){var s;const e=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?jt(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=et(f);f.min=r[h].min,f.max=f.min+m}):ex(i,e.layoutBox,r)&&jt(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=et(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=Tr();$n(l,r,e.layoutBox);const c=Tr();o?$n(c,t.applyTransform(a,!0),e.measuredBox):$n(c,r,e.layoutBox);const d=!Zg(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=$e();Fn(p,e.layoutBox,f.layoutBox);const x=$e();Fn(x,r,m.layoutBox),Xg(p,x)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Xk(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Yk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Qk(t){t.clearSnapshot()}function yh(t){t.clearMeasurements()}function vh(t){t.isLayoutDirty=!1}function eC(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function wh(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tC(t){t.resolveTargetDelta()}function sC(t){t.calcProjection()}function rC(t){t.resetSkewAndRotation()}function nC(t){t.removeLeadSnapshot()}function jh(t,e,s){t.translate=Ie(e.translate,0,s),t.scale=Ie(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function Nh(t,e,s,r){t.min=Ie(e.min,s.min,r),t.max=Ie(e.max,s.max,r)}function aC(t,e,s,r){Nh(t.x,e.x,s.x,r),Nh(t.y,e.y,s.y,r)}function iC(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const oC={duration:.45,ease:[.4,0,.1,1]},_h=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Sh=_h("applewebkit/")&&!_h("chrome/")?Math.round:lt;function kh(t){t.min=Sh(t.min),t.max=Sh(t.max)}function lC(t){kh(t.x),kh(t.y)}function ex(t,e,s){return t==="position"||t==="preserve-aspect"&&!mk(xh(e),xh(s),.2)}function cC(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const dC=Qg({attachResizeListener:(t,e)=>Xn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uo={current:void 0},tx=Qg({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uo.current){const t=new dC({});t.mount(window),t.setOptions({layoutScroll:!0}),Uo.current=t}return Uo.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),uC={pan:{Feature:Tk},drag:{Feature:Pk,ProjectionNode:tx,MeasureLayout:Kg}};function Ch(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,i=r[a];i&&_e.postRender(()=>i(e,Ta(e)))}class hC extends Ss{mount(){const{current:e}=this.node;e&&(this.unmount=CS(e,(s,r)=>(Ch(this.node,r,"Start"),a=>Ch(this.node,a,"End"))))}unmount(){}}class fC extends Ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ka(Xn(this.node.current,"focus",()=>this.onFocus()),Xn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ph(t,e,s){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),i=r[a];i&&_e.postRender(()=>i(e,Ta(e)))}class mC extends Ss{mount(){const{current:e}=this.node;e&&(this.unmount=AS(e,(s,r)=>(Ph(this.node,r,"Start"),(a,{success:i})=>Ph(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dl=new WeakMap,zo=new WeakMap,pC=t=>{const e=Dl.get(t.target);e&&e(t)},gC=t=>{t.forEach(pC)};function xC({root:t,...e}){const s=t||document;zo.has(s)||zo.set(s,{});const r=zo.get(s),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(gC,{root:t,...e})),r[a]}function bC(t,e,s){const r=xC(e);return Dl.set(t,s),r.observe(t),()=>{Dl.delete(t),r.unobserve(t)}}const yC={some:0,all:1};class vC extends Ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:a="some",once:i}=e,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:yC[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return bC(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(wC(e,s))&&this.startObserver()}unmount(){}}function wC({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const jC={inView:{Feature:vC},tap:{Feature:mC},focus:{Feature:fC},hover:{Feature:hC}},NC={layout:{ProjectionNode:tx,MeasureLayout:Kg}},_C={...lk,...jC,...uC,...NC},ge=_1(_C,D1),SC=50,Th=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),kC=()=>({time:0,x:Th(),y:Th()}),CC={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Eh(t,e,s,r){const a=s[e],{length:i,position:o}=CC[e],l=a.current,c=s.time;a.current=t[`scroll${o}`],a.scrollLength=t[`scroll${i}`]-t[`client${i}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=Mr(0,a.scrollLength,a.current);const d=r-c;a.velocity=d>SC?0:kc(a.current-l,d)}function PC(t,e,s){Eh(t,"x",e,s),Eh(t,"y",e,s),e.time=s}function TC(t,e){const s={x:0,y:0};let r=t;for(;r&&r!==e;)if(dg(r))s.x+=r.offsetLeft,s.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const a=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();s.x+=a.left-i.left,s.y+=a.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:a,y:i}=r.getBBox();s.x+=a,s.y+=i;let o=null,l=r.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=r.parentNode;r=o}else break;return s}const $l={start:0,center:.5,end:1};function Ah(t,e,s=0){let r=0;if(t in $l&&(t=$l[t]),typeof t=="string"){const a=parseFloat(t);t.endsWith("px")?r=a:t.endsWith("%")?t=a/100:t.endsWith("vw")?r=a/100*document.documentElement.clientWidth:t.endsWith("vh")?r=a/100*document.documentElement.clientHeight:t=a}return typeof t=="number"&&(r=e*t),s+r}const EC=[0,0];function AC(t,e,s,r){let a=Array.isArray(t)?t:EC,i=0,o=0;return typeof t=="number"?a=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?a=t.split(" "):a=[t,$l[t]?t:"0"]),i=Ah(a[0],s,r),o=Ah(a[1],e),i-o}const RC={All:[[0,0],[1,1]]},OC={x:0,y:0};function LC(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function IC(t,e,s){const{offset:r=RC.All}=s,{target:a=t,axis:i="y"}=s,o=i==="y"?"height":"width",l=a!==t?TC(a,t):OC,c=a===t?{width:t.scrollWidth,height:t.scrollHeight}:LC(a),d={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let u=!e[i].interpolate;const h=r.length;for(let f=0;f<h;f++){const m=AC(r[f],d[o],c[o],l[i]);!u&&m!==e[i].interpolatorOffsets[f]&&(u=!0),e[i].offset[f]=m}u&&(e[i].interpolate=Ic(e[i].offset,Kp(r),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=Zt(0,1,e[i].interpolate(e[i].current))}function MC(t,e=t,s){if(s.x.targetOffset=0,s.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)s.x.targetOffset+=r.offsetLeft,s.y.targetOffset+=r.offsetTop,r=r.offsetParent}s.x.targetLength=e===t?e.scrollWidth:e.clientWidth,s.y.targetLength=e===t?e.scrollHeight:e.clientHeight,s.x.containerLength=t.clientWidth,s.y.containerLength=t.clientHeight}function DC(t,e,s,r={}){return{measure:a=>{MC(t,r.target,s),PC(t,s,a),(r.offset||r.target)&&IC(t,s,r)},notify:()=>e(s)}}const bn=new WeakMap,Rh=new WeakMap,qo=new WeakMap,Oh=t=>t===document.scrollingElement?window:t;function sx(t,{container:e=document.scrollingElement,...s}={}){if(!e)return lt;let r=qo.get(e);r||(r=new Set,qo.set(e,r));const a=kC(),i=DC(e,t,a,s);if(r.add(i),!bn.has(e)){const l=()=>{for(const h of r)h.measure(He.timestamp);_e.preUpdate(c)},c=()=>{for(const h of r)h.notify()},d=()=>_e.read(l);bn.set(e,d);const u=Oh(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&Rh.set(e,VS(e,d)),u.addEventListener("scroll",d,{passive:!0}),d()}const o=bn.get(e);return _e.read(o,!1,!0),()=>{var d;Ft(o);const l=qo.get(e);if(!l||(l.delete(i),l.size))return;const c=bn.get(e);bn.delete(e),c&&(Oh(e).removeEventListener("scroll",c),(d=Rh.get(e))==null||d(),window.removeEventListener("resize",c))}}const Lh=new Map;function $C(t){const e={value:0},s=sx(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:s}}function rx({source:t,container:e,...s}){const{axis:r}=s;t&&(e=t);const a=Lh.get(e)??new Map;Lh.set(e,a);const i=s.target??"self",o=a.get(i)??{},l=r+(s.offset??[]).join(",");return o[l]||(o[l]=!s.target&&Xp()?new ScrollTimeline({source:e,axis:r}):$C({container:e,...s})),o[l]}function FC(t,e){const s=rx(e);return t.attachTimeline({timeline:e.target?void 0:s,observe:r=>(r.pause(),pg(a=>{r.time=r.duration*a},s))})}function VC(t){return t.length===2}function BC(t,e){return VC(t)?sx(s=>{t(s[e.axis].progress,s)},e):pg(t,rx(e))}function UC(t,{axis:e="y",container:s=document.scrollingElement,...r}={}){if(!s)return lt;const a={axis:e,container:s,...r};return typeof t=="function"?BC(t,a):FC(t,a)}const zC=()=>({scrollX:Lt(0),scrollY:Lt(0),scrollXProgress:Lt(0),scrollYProgress:Lt(0)}),Ha=t=>t?!t.current:!1;function qC({container:t,target:e,...s}={}){const r=Qi(zC),a=b.useRef(null),i=b.useRef(!1),o=b.useCallback(()=>(a.current=UC((l,{x:c,y:d})=>{r.scrollX.set(c.current),r.scrollXProgress.set(c.progress),r.scrollY.set(d.current),r.scrollYProgress.set(d.progress)},{...s,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var l;(l=a.current)==null||l.call(a)}),[t,e,JSON.stringify(s.offset)]);return vc(()=>{if(i.current=!1,Ha(t)||Ha(e)){i.current=!0;return}else return o()},[o]),b.useEffect(()=>{if(i.current)return Hn(!Ha(t)),Hn(!Ha(e)),o()},[o]),r}function Ti(t){const e=Qi(()=>Lt(t)),{isStatic:s}=b.useContext(to);if(s){const[,r]=b.useState(t);b.useEffect(()=>e.on("change",r),[])}return e}function nx(t,e){const s=Ti(e()),r=()=>s.set(e());return r(),vc(()=>{const a=()=>_e.preRender(r,!1,!0),i=t.map(o=>o.on("change",a));return()=>{i.forEach(o=>o()),Ft(r)}}),s}function WC(t){Mn.current=[],t();const e=nx(Mn.current,t);return Mn.current=void 0,e}function Fl(t,e,s,r){if(typeof t=="function")return WC(t);const a=typeof e=="function"?e:US(e,s,r);return Array.isArray(t)?Ih(t,a):Ih([t],([i])=>a(i))}function Ih(t,e){const s=Qi(()=>[]);return nx(t,()=>{s.length=0;const r=t.length;for(let a=0;a<r;a++)s[a]=t[a].get();return e(s)})}function Mh(t,e={}){const{isStatic:s}=b.useContext(to),r=()=>Ke(t)?t.get():t;if(s)return Fl(r);const a=Ti(r());return b.useInsertionEffect(()=>zS(a,t,e),[a,JSON.stringify(e)]),a}const Qc=({isOpen:t,onClose:e,title:s,formType:r})=>{const{t:a}=we(),[i,o]=b.useState({name:"",email:"",company:"",message:"",experience:"",portfolio:"",investmentAmount:"",timeline:""});if(!t)return null;const l=u=>{u.preventDefault(),console.log("Form submitted:",i),alert(a("applicationForm.messages.success")),e()},c=u=>{o(h=>({...h,[u.target.name]:u.target.value}))},d=n.jsx("span",{className:"text-red-500",children:" *"});return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsx("div",{className:"max-h-[90vh] w-full max-w-md overflow-y-auto rounded-xl bg-white",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s}),n.jsxs("button",{onClick:e,className:"text-gray-400 transition-colors hover:text-gray-600",children:[n.jsx(Xs,{size:24,"aria-hidden":!0}),n.jsx("span",{className:"sr-only",children:a("applicationForm.accessibility.close")})]})]}),n.jsxs("form",{onSubmit:l,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:[a("applicationForm.fields.name"),d]}),n.jsx("input",{type:"text",name:"name",required:!0,value:i.name,onChange:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:[a("applicationForm.fields.email"),d]}),n.jsx("input",{type:"email",name:"email",required:!0,value:i.email,onChange:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500"})]}),r!=="professional"&&n.jsxs("div",{children:[n.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:[a("applicationForm.fields.company"),d]}),n.jsx("input",{type:"text",name:"company",required:!0,value:i.company,onChange:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500"})]}),r==="professional"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:a("applicationForm.fields.experienceLabel")}),n.jsxs("select",{name:"experience",value:i.experience,onChange:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:a("applicationForm.fields.experiencePlaceholder")}),n.jsx("option",{value:"beginner",children:a("applicationForm.fields.experienceOptions.beginner")}),n.jsx("option",{value:"intermediate",children:a("applicationForm.fields.experienceOptions.intermediate")}),n.jsx("option",{value:"advanced",children:a("applicationForm.fields.experienceOptions.advanced")})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:a("applicationForm.fields.portfolio")}),n.jsx("input",{type:"url",name:"portfolio",value:i.portfolio,onChange:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500"})]})]}),r==="investor"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:a("applicationForm.fields.investmentAmountLabel")}),n.jsxs("select",{name:"investmentAmount",value:i.investmentAmount,onChange:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:a("applicationForm.fields.investmentAmountPlaceholder")}),n.jsx("option",{value:"10k-50k",children:a("applicationForm.fields.investmentAmountOptions.10k_50k")}),n.jsx("option",{value:"50k-100k",children:a("applicationForm.fields.investmentAmountOptions.50k_100k")}),n.jsx("option",{value:"100k-500k",children:a("applicationForm.fields.investmentAmountOptions.100k_500k")}),n.jsx("option",{value:"500k+",children:a("applicationForm.fields.investmentAmountOptions.500k_plus")})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:a("applicationForm.fields.timelineLabel")}),n.jsxs("select",{name:"timeline",value:i.timeline,onChange:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:a("application.selectTimeline")}),n.jsx("option",{value:"immediate",children:a("application.timelineImmediate")}),n.jsx("option",{value:"quarter",children:a("application.timelineQuarter")}),n.jsx("option",{value:"year",children:a("applicationForm.fields.timelineOptions.year")}),n.jsx("option",{value:"exploring",children:a("applicationForm.fields.timelineOptions.exploring")})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:a("applicationForm.fields.message")}),n.jsx("textarea",{name:"message",rows:4,value:i.message,onChange:c,placeholder:a("applicationForm.fields.messagePlaceholder"),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500"})]}),n.jsx("button",{type:"submit",className:"w-full rounded-lg bg-blue-600 py-3 font-semibold text-white transition-colors hover:bg-blue-700",children:a("application.submit")})]})]})})})},J=({children:t,delay:e=0,direction:s="up",className:r=""})=>{const a={up:{y:24,x:0},down:{y:-24,x:0},left:{y:0,x:24},right:{y:0,x:-24}};return n.jsx(ge.div,{initial:{opacity:0,...a[s],filter:"blur(6px)"},whileInView:{opacity:1,y:0,x:0,filter:"blur(0px)"},viewport:{once:!0,margin:"-80px"},transition:{duration:.6,delay:e,ease:"easeOut"},className:r,children:t})},It=({children:t,className:e="",onClick:s,strength:r=6})=>{const a=b.useRef(null),i=Ti(0),o=Ti(0),l=Mh(i,{stiffness:300,damping:20}),c=Mh(o,{stiffness:300,damping:20}),d=h=>{if(!a.current)return;const f=a.current.getBoundingClientRect(),m=f.left+f.width/2,p=f.top+f.height/2;i.set((h.clientX-m)/r),o.set((h.clientY-p)/r)},u=()=>{i.set(0),o.set(0)};return n.jsx(ge.button,{ref:a,onMouseMove:d,onMouseLeave:u,onClick:s,style:{x:l,y:c},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},className:e,children:t})},$r=({children:t,speed:e=22,direction:s="left",className:r=""})=>{const a=s==="left"?"animate-marquee-left":"animate-marquee-right";return n.jsx("div",{className:`overflow-hidden whitespace-nowrap [mask-image:linear-gradient(to_right,transparent,black_10%,black_90%,transparent)] ${r}`,children:n.jsxs("div",{className:`inline-flex gap-10 ${a}`,style:{animationDuration:`${e}s`},children:[t,t]})})},ed=({title:t,codeBlock:e,steps:s})=>{const r=b.useRef(null),{scrollYProgress:a}=qC({target:r,offset:["start start","end end"]}),i=Fl(a,[0,1],[0,3]),o=Fl(a,[0,.5,1],[1,1.02,1]);return n.jsxs("section",{ref:r,className:"relative grid lg:grid-cols-2 gap-16 min-h-[200vh] px-6 max-w-7xl mx-auto py-20",children:[n.jsx("div",{className:"sticky top-24 self-start",children:n.jsxs(ge.div,{style:{rotate:i,scale:o},className:"rounded-3xl shadow-2xl p-6 bg-forge-dark text-forge-cream overflow-hidden relative border border-forge-orange/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-forge-orange/5 to-transparent pointer-events-none"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-forge-orange animate-pulse"}),n.jsx("span",{className:"text-forge-orange font-medium text-sm",children:"Live Code"})]}),n.jsx("pre",{className:"text-sm overflow-auto text-forge-cream/90 leading-relaxed",children:n.jsx("code",{children:e})})]})]})}),n.jsxs("div",{className:"space-y-32 py-24",children:[n.jsx(J,{children:n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-8",children:t})}),s.map((l,c)=>n.jsx(J,{delay:c*.1,children:n.jsxs("div",{className:"max-w-prose",children:[n.jsxs("h3",{className:"text-2xl lg:text-3xl font-bold text-forge-dark mb-4",children:[l.title,l.highlight&&n.jsx("span",{className:"text-forge-orange ml-2",children:l.highlight})]}),n.jsx("p",{className:"text-lg text-forge-gray leading-relaxed",children:l.description})]})},l.title))]})]})},nt=({variant:t="hero",className:e=""})=>{const s={hero:n.jsxs(n.Fragment,{children:[n.jsx(ge.div,{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_30%,rgba(232,122,71,0.15),transparent_50%),radial-gradient(circle_at_80%_20%,rgba(45,58,46,0.1),transparent_50%),radial-gradient(circle_at_40%_70%,rgba(245,242,232,0.2),transparent_50%)]",animate:{background:["radial-gradient(circle_at_20%_30%,rgba(232,122,71,0.15),transparent_50%),radial-gradient(circle_at_80%_20%,rgba(45,58,46,0.1),transparent_50%),radial-gradient(circle_at_40%_70%,rgba(245,242,232,0.2),transparent_50%)","radial-gradient(circle_at_40%_20%,rgba(232,122,71,0.2),transparent_50%),radial-gradient(circle_at_60%_40%,rgba(45,58,46,0.15),transparent_50%),radial-gradient(circle_at_20%_80%,rgba(245,242,232,0.25),transparent_50%)","radial-gradient(circle_at_60%_60%,rgba(232,122,71,0.18),transparent_50%),radial-gradient(circle_at_20%_70%,rgba(45,58,46,0.12),transparent_50%),radial-gradient(circle_at_80%_30%,rgba(245,242,232,0.22),transparent_50%)"]},transition:{duration:8,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}}),n.jsx("div",{className:"absolute inset-0 opacity-[0.015] mix-blend-overlay [background-image:url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48ZmlsdGVyIGlkPSJub2lzZSI+PGZlVHVyYnVsZW5jZSBiYXNlRnJlcXVlbmN5PSIwLjkiIG51bU9jdGF2ZXM9IjQiIHN0aXRjaFRpbGVzPSJzdGl0Y2giLz48L2ZpbHRlcj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsdGVyPSJ1cmwoI25vaXNlKSIgb3BhY2l0eT0iMC4xIi8+PC9zdmc+')]"}),[...Array(12)].map((r,a)=>n.jsx(ge.div,{className:"absolute w-1 h-1 bg-forge-orange/20 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-30,0],opacity:[.2,.8,.2],scale:[.5,1,.5]},transition:{duration:4+Math.random()*4,repeat:1/0,delay:Math.random()*2}},a))]}),subtle:n.jsx(ge.div,{className:"absolute inset-0 bg-gradient-to-br from-forge-cream/50 to-transparent",animate:{opacity:[.3,.6,.3]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),dark:n.jsx(ge.div,{className:"absolute inset-0 bg-gradient-to-br from-forge-dark via-forge-dark to-forge-dark/90",animate:{background:["linear-gradient(135deg, #2D3A2E 0%, #2D3A2E 50%, rgba(45,58,46,0.9) 100%)","linear-gradient(135deg, rgba(45,58,46,0.95) 0%, #2D3A2E 50%, #2D3A2E 100%)"]},transition:{duration:10,repeat:1/0,repeatType:"reverse"}})};return n.jsx("div",{className:`absolute inset-0 overflow-hidden ${e}`,children:s[t]})},HC=()=>{const[t,e]=b.useState(!1),s=[{value:"6",label:"Month Program",suffix:"",icon:n.jsx($t,{className:"w-8 h-8"})},{value:"$6K",label:"Monthly Salary",suffix:"/mo",icon:n.jsx(_d,{className:"w-8 h-8"})},{value:"95%",label:"Job Placement",suffix:"",icon:n.jsx(Cn,{className:"w-8 h-8"})}],r=[{icon:n.jsx(_d,{className:"w-6 h-6"}),title:"Get Paid to Learn",description:"Receive $6,000 USDC monthly while mastering Web3 development",highlight:"$36,000"},{icon:n.jsx(tl,{className:"w-6 h-6"}),title:"Real Projects",description:"Build actual DeFi protocols, NFT platforms, and blockchain infrastructure",highlight:"Live Code"},{icon:n.jsx(Bi,{className:"w-6 h-6"}),title:"Guaranteed Placement",description:"Access our exclusive network of Web3 companies hiring developers",highlight:"95% Success"}],a=["Uniswap","Chainlink","Polygon","Solana","Ethereum Foundation","ConsenSys","Compound","Aave","OpenSea","Metamask"],i=[{quote:'"Changed my life completely. From zero to Web3 developer in 6 months."',author:"Sarah Chen"},{quote:'"The ISA model meant I could focus 100% on learning."',author:"Marcus Rodriguez"},{quote:'"Landed a $120k job right after graduation."',author:"Alex Thompson"}],o=`// Forge College Smart Contract
contract ForgeCollege {
  // Student program details
  struct Student {
    address wallet;
    uint256 stipendAmount;
    uint256 completedProjects;
    bool jobPlaced;
  }
  
  // Company sponsor mapping
  mapping(address => uint256) sponsors;
  
  // ISA terms and repayment logic
  function startLearning() public {
    // Begin 6-month program
    // Receive monthly stipend
    // Work on real projects
  }
  
  function completeProgram() public {
    // Portfolio validation
    // Job matching algorithm
    // ISA activation only on job placement
  }
}`,l=[{title:"Smart Contracts",description:"Learn to build and deploy smart contracts that power DeFi protocols, NFT marketplaces, and DAOs. Master Solidity, security best practices, and gas optimization.",highlight:"Real Impact"},{title:"DeFi Development",description:"Build actual trading protocols, yield farming platforms, and lending systems. Work with real liquidity and understand how billions flow through Web3.",highlight:"$2B+ TVL"},{title:"Job Guarantee",description:"Our ISA model means we only succeed when you do. Get placed in top Web3 companies or pay nothing. It's that simple.",highlight:"Zero Risk"}];return n.jsxs("div",{className:"min-h-screen bg-forge-cream overflow-x-hidden",children:[n.jsxs("section",{className:"relative min-h-screen flex items-center justify-center pt-28 pb-10 px-6",children:[n.jsx(nt,{variant:"hero"}),n.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[n.jsxs(ge.h1,{initial:{opacity:0,y:30,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{duration:.8,ease:"easeOut"},className:"text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-bold text-forge-dark mb-8 leading-[0.9] tracking-tight",children:["Get Paid",n.jsx("br",{}),n.jsxs("span",{className:"inline-flex items-center",children:["to Learn.",n.jsx(ge.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:n.jsx(rc,{className:"w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 xl:w-28 xl:h-28 text-forge-orange mx-4"})})]})]}),n.jsxs(ge.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-xl lg:text-2xl text-forge-gray max-w-4xl mx-auto mb-12 leading-relaxed",children:["Master Web3 development, earn $6,000 USDC monthly for 6 months,",n.jsx("br",{className:"hidden md:block"}),"and only pay us when we land you a job."]}),n.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:n.jsxs(It,{onClick:()=>e(!0),className:"inline-flex items-center gap-3 bg-forge-orange text-white px-8 py-4 rounded-full text-lg font-semibold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:["Apply to Next Cohort",n.jsx(Lr,{className:"w-5 h-5"})]})})]})]}),n.jsx("section",{className:"py-12 bg-white/50 backdrop-blur-sm border-y border-forge-orange/10",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx(J,{children:n.jsx("p",{className:"text-center text-forge-gray font-medium mb-8",children:"Learn the skills to work at companies like:"})}),n.jsx($r,{className:"text-2xl font-bold text-forge-dark/60",children:a.map((c,d)=>n.jsx("span",{className:"mx-8 hover:text-forge-orange transition-colors",children:c},d))})]})}),n.jsx("section",{className:"py-20 px-6 bg-white",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs(J,{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Program by the Numbers"}),n.jsx("p",{className:"text-xl text-forge-gray",children:"Real outcomes, real careers, real impact"})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:s.map((c,d)=>n.jsx(J,{delay:d*.1,children:n.jsxs(ge.div,{className:"text-center bg-forge-cream p-8 rounded-3xl border border-forge-orange/20 group hover:border-forge-orange/40 transition-all duration-300",whileHover:{y:-5},children:[n.jsx("div",{className:"text-forge-orange mb-4 flex justify-center group-hover:scale-110 transition-transform",children:c.icon}),n.jsxs("div",{className:"text-5xl lg:text-6xl font-bold text-forge-dark mb-2",children:[c.value,n.jsx("span",{className:"text-forge-orange text-2xl lg:text-3xl",children:c.suffix})]}),n.jsx("div",{className:"text-lg text-forge-gray font-medium",children:c.label})]})},d))})]})}),n.jsx(ed,{title:"Learn by Building Real Web3 Products",codeBlock:o,steps:l}),n.jsx("section",{className:"py-20 px-6 bg-forge-cream",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs(J,{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Why Forge College?"}),n.jsx("p",{className:"text-xl text-forge-gray",children:"The only Web3 education program where you earn while you learn"})]}),n.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:r.map((c,d)=>n.jsx(J,{delay:d*.1,children:n.jsxs(ge.div,{className:"bg-white p-8 rounded-3xl border border-forge-orange/20 hover:border-forge-orange/40 transition-all duration-300 group",whileHover:{y:-8},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-forge-orange rounded-2xl flex items-center justify-center text-white group-hover:scale-110 group-hover:bg-forge-orange-light transition-all duration-200 shadow-lg",children:c.icon}),n.jsx("span",{className:"text-sm font-bold text-forge-orange bg-forge-orange/10 px-3 py-1 rounded-full",children:c.highlight})]}),n.jsx("h3",{className:"text-2xl font-bold text-forge-dark mb-4",children:c.title}),n.jsx("p",{className:"text-lg text-forge-gray leading-relaxed",children:c.description})]})},d))})]})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx(J,{className:"text-center mb-12",children:n.jsx("h3",{className:"text-2xl font-bold text-forge-dark",children:"What Our Students Say"})}),n.jsx($r,{speed:30,className:"text-lg",children:i.map((c,d)=>n.jsxs("div",{className:"mx-8 max-w-md",children:[n.jsx("p",{className:"text-forge-gray italic mb-2",children:c.quote}),n.jsxs("p",{className:"text-forge-dark font-semibold",children:[" ",c.author]})]},d))})]})}),n.jsxs("section",{className:"py-32 px-6 bg-forge-cream relative overflow-hidden",children:[n.jsx(nt,{variant:"subtle"}),n.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[n.jsx(J,{children:n.jsxs("h2",{className:"text-5xl lg:text-6xl font-bold text-forge-dark mb-6 leading-tight",children:["No upfront cost.",n.jsx("br",{}),"Pay only when you land a job."]})}),n.jsx(J,{delay:.2,children:n.jsx("p",{className:"text-xl text-forge-gray max-w-3xl mx-auto mb-16 leading-relaxed",children:"Our Income Share Agreement means you focus on learning, not debt. We only succeed when you do."})}),n.jsx(J,{delay:.4,children:n.jsxs(ge.div,{className:"bg-forge-dark rounded-3xl p-12 text-white relative overflow-hidden border-4 border-forge-orange",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[n.jsx(nt,{variant:"dark"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs(ge.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"inline-flex items-center gap-2 text-forge-orange mb-6",children:[n.jsx(Rf,{className:"w-6 h-6"}),n.jsx("span",{className:"font-medium",children:"Next Cohort Starting Soon"})]}),n.jsx("h3",{className:"text-4xl font-bold mb-6 text-forge-cream",children:"April 2026"}),n.jsx("p",{className:"text-xl text-forge-cream/80 mb-8",children:"Limited to 10 students"}),n.jsx(It,{onClick:()=>e(!0),className:"bg-forge-orange text-white px-12 py-4 rounded-full font-semibold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:"Secure Your Spot"})]})]})})]})]}),n.jsxs("section",{className:"py-32 px-6 bg-forge-dark text-white relative overflow-hidden",children:[n.jsx(nt,{variant:"dark"}),n.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[n.jsx(J,{children:n.jsxs("h2",{className:"text-5xl lg:text-6xl font-bold mb-8 leading-tight text-forge-cream",children:["Ready to forge",n.jsx("br",{}),"your future?"]})}),n.jsx(J,{delay:.2,children:n.jsxs("p",{className:"text-xl text-forge-cream/80 mb-12 leading-relaxed",children:["Join the next generation of Web3 developers.",n.jsx("br",{}),"Apply now for the April 2026 cohort."]})}),n.jsx(J,{delay:.4,children:n.jsxs(It,{onClick:()=>e(!0),className:"inline-flex items-center gap-3 bg-forge-orange text-white px-12 py-6 rounded-full text-xl font-bold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:["Apply Now",n.jsx(Lr,{className:"w-6 h-6"})]})}),n.jsx(J,{delay:.6,children:n.jsx("div",{className:"mt-8 text-sm text-forge-cream/60",children:"No upfront cost  Pay only when you get hired"})})]})]}),n.jsx(Qc,{isOpen:t,onClose:()=>e(!1),title:"Apply to Join the Next Cohort",formType:"professional"})]})},KC=()=>{const[t,e]=b.useState(!1),s=[{value:"95%",label:"Job Placement Rate",suffix:"",icon:n.jsx($t,{className:"w-8 h-8"})},{value:"6",label:"Month Training",suffix:"mo",icon:n.jsx(Bi,{className:"w-8 h-8"})},{value:"Real",label:"Project Experience",suffix:"",icon:n.jsx(tl,{className:"w-8 h-8"})}],r=[{icon:n.jsx($t,{className:"w-6 h-6"}),title:"Qualified Talent Pool",description:"Access developers who have completed real Web3 projects and proven their skills through hands-on experience",highlight:"Pre-vetted"},{icon:n.jsx(Rf,{className:"w-6 h-6"}),title:"Fast Hiring Process",description:"Streamlined recruitment with candidates who are ready to contribute from day one",highlight:"Day 1 Ready"},{icon:n.jsx(tl,{className:"w-6 h-6"}),title:"Project-Based Vetting",description:"Our graduates have worked on actual Web3 projects, giving you confidence in their practical abilities",highlight:"Proven Skills"}],a=[{tier:"Project Partner",highlight:"Start Here",features:["2-3 project submissions per cohort","Access to student portfolios","Hiring pipeline access"],cta:"Join as Partner"},{tier:"Curriculum Sponsor",highlight:"Most Popular",features:["Curriculum influence","Sponsor 3-5 students","Dedicated hiring events","Brand partnership benefits"],cta:"Become Sponsor",featured:!0},{tier:"Ecosystem Partner",highlight:"Full Access",features:["Full curriculum partnership","Sponsor entire cohort track","Exclusive hiring window","Advisory board seat"],cta:"Join Ecosystem"}],i=["Uniswap","Chainlink","Polygon","Solana","Ethereum Foundation","ConsenSys","Compound","Aave","OpenSea","Metamask"],o=[{quote:'"Hired 3 developers from Forge College. Best hiring decision we made this year."',author:"Sarah Kim, CTO at DeFi Protocol"},{quote:'"The candidates came with real project experience. No training period needed."',author:"Marcus Chen, Engineering Lead at Web3 Startup"},{quote:'"Forge College graduates understand the Web3 ecosystem better than traditional bootcamp grads."',author:"Elena Rodriguez, VP Engineering at NFT Platform"}],l=`// Partnership Integration Example
contract ForgePartnership {
  // Company partnership details
  struct Partner {
    address company;
    uint256 sponsoredStudents;
    bytes32[] projectIds;
    bool exclusiveHiring;
  }
  
  // Student project assignments
  mapping(address => bytes32[]) studentProjects;
  
  // Partnership benefits and ROI
  function sponsorStudent(address student) public {
    // Fund student salary during learning
    // Assign real company projects
    // Track performance metrics
  }
  
  function hireGraduate(address student) public {
    // Validate project completion
    // Execute hiring agreement
    // Activate partnership benefits
  }
  
  // Partnership ROI calculation
  function calculateROI() public view returns (uint256) {
    // Hiring success rate
    // Time to productivity
    // Cost savings vs traditional recruiting
  }
}`,c=[{title:"Real Project Experience",description:"Our students work on actual company projects during their 6-month program. This means they understand your business challenges and have proven their ability to deliver.",highlight:"Business Ready"},{title:"Reduced Hiring Risk",description:"Skip the uncertainty of traditional hiring. Our graduates have portfolios of completed projects and verified skills from working with real companies.",highlight:"Zero Risk"},{title:"Faster Time to Value",description:"Candidates hit the ground running from day one. No lengthy onboarding or training periods. They understand Web3 development and your business needs.",highlight:"Immediate Impact"}];return n.jsxs("div",{className:"min-h-screen bg-forge-cream overflow-x-hidden",children:[n.jsxs("section",{className:"relative min-h-screen flex items-center justify-center pt-28 pb-10 px-6",children:[n.jsx(nt,{variant:"hero"}),n.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[n.jsxs(ge.h1,{initial:{opacity:0,y:30,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{duration:.8,ease:"easeOut"},className:"text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-bold text-forge-dark mb-8 leading-[0.9] tracking-tight",children:["Hire Web3-Ready",n.jsx("br",{}),n.jsxs("span",{className:"inline-flex items-center",children:["Talents.",n.jsx(ge.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:n.jsx(va,{className:"w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 xl:w-28 xl:h-28 text-forge-orange mx-4"})})]})]}),n.jsxs(ge.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-xl lg:text-2xl text-forge-gray max-w-4xl mx-auto mb-12 leading-relaxed",children:["Access skilled developers from our intensive 6-month program.",n.jsx("br",{className:"hidden md:block"}),"Pre-vetted, project-tested, and ready to build from day one."]}),n.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:n.jsxs(It,{onClick:()=>e(!0),className:"inline-flex items-center gap-3 bg-forge-orange text-white px-8 py-4 rounded-full text-lg font-semibold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:["Partner With Us",n.jsx(Lr,{className:"w-5 h-5"})]})})]})]}),n.jsx("section",{className:"py-12 bg-white/50 backdrop-blur-sm border-y border-forge-orange/10",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx(J,{children:n.jsx("p",{className:"text-center text-forge-gray font-medium mb-8",children:"Join companies already building the future workforce"})}),n.jsx($r,{className:"text-2xl font-bold text-forge-dark/60",children:i.map((d,u)=>n.jsx("span",{className:"mx-8 hover:text-forge-orange transition-colors",children:d},u))})]})}),n.jsx("section",{className:"py-20 px-6 bg-white",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs(J,{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Hiring Success Metrics"}),n.jsx("p",{className:"text-xl text-forge-gray",children:"Real results from companies who partner with us"})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:s.map((d,u)=>n.jsx(J,{delay:u*.1,children:n.jsxs(ge.div,{className:"text-center bg-forge-cream p-8 rounded-3xl border border-forge-orange/20 group hover:border-forge-orange/40 transition-all duration-300",whileHover:{y:-5},children:[n.jsx("div",{className:"text-forge-orange mb-4 flex justify-center group-hover:scale-110 transition-transform",children:d.icon}),n.jsxs("div",{className:"text-5xl lg:text-6xl font-bold text-forge-dark mb-2",children:[d.value,n.jsx("span",{className:"text-forge-orange text-2xl lg:text-3xl",children:d.suffix})]}),n.jsx("div",{className:"text-lg text-forge-gray font-medium",children:d.label})]})},u))})]})}),n.jsx(ed,{title:"Why Companies Choose Forge College",codeBlock:l,steps:c}),n.jsx("section",{className:"py-20 px-6 bg-forge-cream",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs(J,{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Partnership Benefits"}),n.jsx("p",{className:"text-xl text-forge-gray",children:"Transform your hiring strategy by investing in talent development"})]}),n.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:r.map((d,u)=>n.jsx(J,{delay:u*.1,children:n.jsxs(ge.div,{className:"bg-white p-8 rounded-3xl border border-forge-orange/20 hover:border-forge-orange/40 transition-all duration-300 group",whileHover:{y:-8},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-forge-orange rounded-2xl flex items-center justify-center text-white group-hover:scale-110 group-hover:bg-forge-orange-light transition-all duration-200 shadow-lg",children:d.icon}),n.jsx("span",{className:"text-sm font-bold text-forge-orange bg-forge-orange/10 px-3 py-1 rounded-full",children:d.highlight})]}),n.jsx("h3",{className:"text-2xl font-bold text-forge-dark mb-4",children:d.title}),n.jsx("p",{className:"text-lg text-forge-gray leading-relaxed",children:d.description})]})},u))})]})}),n.jsx("section",{className:"py-20 px-6 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs(J,{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Partnership Tiers"}),n.jsx("p",{className:"text-xl text-forge-gray",children:"Choose the partnership level that fits your hiring needs"})]}),n.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:a.map((d,u)=>n.jsx(J,{delay:u*.1,children:n.jsxs(ge.div,{className:`p-8 rounded-3xl transition-all duration-300 group relative overflow-hidden ${d.featured?"bg-forge-dark text-white border-4 border-forge-orange shadow-xl":"bg-forge-cream border border-forge-orange/20 hover:border-forge-orange/40"}`,whileHover:{y:-8,scale:d.featured?1.02:1},children:[d.featured&&n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx("span",{className:"bg-forge-orange text-white px-3 py-1 rounded-full text-sm font-bold",children:d.highlight})}),n.jsx("h3",{className:`text-2xl font-bold mb-2 ${d.featured?"text-forge-cream":"text-forge-dark"}`,children:d.tier}),n.jsx("div",{className:"mb-6",children:n.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${d.featured?"bg-forge-orange/20 text-forge-orange":"bg-forge-orange/10 text-forge-orange"}`,children:d.highlight})}),n.jsx("ul",{className:"space-y-3 mb-8",children:d.features.map((h,f)=>n.jsxs("li",{className:`flex items-start gap-3 ${d.featured?"text-forge-cream/90":"text-forge-gray"}`,children:[n.jsx(Of,{className:"w-5 h-5 text-forge-orange flex-shrink-0 mt-0.5"}),n.jsx("span",{children:h})]},f))}),n.jsx(It,{onClick:()=>e(!0),className:`w-full py-3 rounded-full font-semibold transition-all duration-200 ${d.featured,"bg-forge-orange text-white border-2 border-forge-orange hover:border-forge-orange-light"}`,children:d.cta})]})},u))})]})}),n.jsx("section",{className:"py-16 bg-forge-cream",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx(J,{className:"text-center mb-12",children:n.jsx("h3",{className:"text-2xl font-bold text-forge-dark",children:"What Partner Companies Say"})}),n.jsx($r,{speed:35,className:"text-lg",children:o.map((d,u)=>n.jsxs("div",{className:"mx-8 max-w-lg",children:[n.jsx("p",{className:"text-forge-gray italic mb-2",children:d.quote}),n.jsxs("p",{className:"text-forge-dark font-semibold",children:[" ",d.author]})]},u))})]})}),n.jsxs("section",{className:"py-32 px-6 bg-forge-cream relative overflow-hidden",children:[n.jsx(nt,{variant:"subtle"}),n.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[n.jsx(J,{children:n.jsxs("h2",{className:"text-5xl lg:text-6xl font-bold text-forge-dark mb-6 leading-tight",children:["Ready to hire",n.jsx("br",{}),"the best Web3 talent?"]})}),n.jsx(J,{delay:.2,children:n.jsx("p",{className:"text-xl text-forge-gray max-w-3xl mx-auto mb-16 leading-relaxed",children:"Join leading Web3 companies who are building their teams through Forge College partnerships."})}),n.jsx(J,{delay:.4,children:n.jsxs(ge.div,{className:"bg-forge-dark rounded-3xl p-12 text-white relative overflow-hidden border-4 border-forge-orange",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[n.jsx(nt,{variant:"dark"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs(ge.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"inline-flex items-center gap-2 text-forge-orange mb-6",children:[n.jsx(Kr,{className:"w-6 h-6"}),n.jsx("span",{className:"font-medium",children:"Next Hiring Cycle"})]}),n.jsx("h3",{className:"text-4xl font-bold mb-6 text-forge-cream",children:"April 2026"}),n.jsx("p",{className:"text-xl text-forge-cream/80 mb-8",children:"10 graduating developers ready for placement"}),n.jsx(It,{onClick:()=>e(!0),className:"bg-forge-orange text-white px-12 py-4 rounded-full font-semibold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:"Become a Partner"})]})]})})]})]}),n.jsxs("section",{className:"py-32 px-6 bg-forge-dark text-white relative overflow-hidden",children:[n.jsx(nt,{variant:"dark"}),n.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[n.jsx(J,{children:n.jsxs("h2",{className:"text-5xl lg:text-6xl font-bold mb-8 leading-tight text-forge-cream",children:["Let's build the future",n.jsx("br",{}),"of Web3 together."]})}),n.jsx(J,{delay:.2,children:n.jsxs("p",{className:"text-xl text-forge-cream/80 mb-12 leading-relaxed",children:["Partner with Forge College and get first access",n.jsx("br",{}),"to the most skilled Web3 developers."]})}),n.jsx(J,{delay:.4,children:n.jsxs(It,{onClick:()=>e(!0),className:"inline-flex items-center gap-3 bg-forge-orange text-white px-12 py-6 rounded-full text-xl font-bold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:["Start Partnership",n.jsx(Lr,{className:"w-6 h-6"})]})}),n.jsx(J,{delay:.6,children:n.jsx("div",{className:"mt-8 text-sm text-forge-cream/60",children:"Pre-vetted talent  Real project experience  Immediate impact"})})]})]}),n.jsx(Qc,{isOpen:t,onClose:()=>e(!1),title:"Partner With Forge College",formType:"company"})]})},GC=()=>{const[t,e]=b.useState(!1),s=[{value:"8-12%",label:"Target IRR",suffix:"",icon:n.jsx(Cn,{className:"w-8 h-8"})},{value:"3-5",label:"Year Payback",suffix:"yr",icon:n.jsx(Sd,{className:"w-8 h-8"})},{value:"92%",label:"Job Placement",suffix:"",icon:n.jsx($t,{className:"w-8 h-8"})}],r=[{icon:n.jsx(Bb,{className:"w-6 h-6"}),title:"Diversified RWA Exposure",description:"Invest in human capital through stablecoin-backed Income Share Agreements as a new asset class",highlight:"New Asset Class"},{icon:n.jsx(Sd,{className:"w-6 h-6"}),title:"Transparent Metrics",description:"Access real-time performance data, repayment rates, and ROI analytics through our investor dashboard",highlight:"Live Analytics"},{icon:n.jsx(nc,{className:"w-6 h-6"}),title:"Stable Returns",description:"Generate yield from high-demand Web3 talent with historical repayment rates exceeding traditional education loans",highlight:"Proven Model"}],a=[{metric:"$1.2T",label:"Web3 Market Cap",description:"Total value locked across DeFi and Web3 protocols"},{metric:"3.7M",label:"Developer Shortage",description:"Unfilled Web3 developer positions globally"},{metric:"$140K",label:"Average Salary",description:"Starting salary for Web3 developers"}],i=[{metric:"Target IRR",value:"8-12%",description:"Based on Web3 salary growth trends",trend:"up"},{metric:"Avg. Payback Period",value:"3-5 years",description:"Capped at 10% of income annually",trend:"neutral"},{metric:"Job Placement Rate",value:"92%",description:"Within 6 months of graduation",trend:"up"}],o=[{quarter:"Q2",title:"Fund Launch",description:"Initial investor round and first cohort funding"},{quarter:"Q3",title:"Performance Data",description:"First graduation metrics and repayment initiation"},{quarter:"Q4",title:"Secondary Market",description:"ISA trading platform and liquidity options"}],l=["Andreessen Horowitz","Coinbase Ventures","Paradigm","Sequoia","Tiger Global","Pantera Capital","Union Square Ventures","Binance Labs"],c=[{quote:'"Human capital ISAs represent the next evolution of RWA investments."',author:"Sarah Johnson, Partner at Web3 Fund"},{quote:'"The alignment of incentives in this model creates sustainable returns."',author:"Michael Chen, LP at DeFi Capital"},{quote:'"Finally, an investment that generates returns while solving real problems."',author:"Elena Rodriguez, Managing Director"}],d=`// ISA Investment Smart Contract
contract ForgeISAFund {
  // Investment and return structures
  struct Investment {
    address investor;
    uint256 amountUSDC;
    uint256 expectedReturn;
    uint256 timeframe;
    bool isActive;
  }
  
  // Student income share agreements
  mapping(address => ISATerms) studentISAs;
  
  // Performance tracking
  struct PerformanceMetrics {
    uint256 totalDeployed;
    uint256 totalReturned;
    uint256 currentIRR;
    uint256 activeISAs;
  }
  
  // Investment deployment
  function deployCapital(uint256 amount) public {
    // Fund student salaries (6 months)
    // Track investment allocation
    // Begin performance monitoring
  }
  
  // Return distribution
  function distributeReturns() public {
    // Calculate quarterly distributions
    // Process ISA collections
    // Pay investors based on stake
  }
  
  // Real-time analytics
  function getPortfolioMetrics() public view returns (PerformanceMetrics) {
    // Live IRR calculation
    // Risk-adjusted returns
    // Liquidity positions
  }
}`,u=[{title:"Human Capital as RWA",description:"Web3 has created a new asset class: human capital. Our ISA model tokenizes education investment, creating yield-generating assets backed by high-earning Web3 careers.",highlight:"Next-Gen RWA"},{title:"Aligned Incentives",description:"Unlike traditional education loans, ISAs align investor and student success. Returns are tied to job placement and salary growth, creating sustainable economics for all parties.",highlight:"Win-Win Model"},{title:"Liquidity & Scale",description:"Our roadmap includes secondary market infrastructure for ISA trading, fractional ownership, and automated portfolio management. Scale meets liquidity.",highlight:"DeFi Integration"}];return n.jsxs("div",{className:"min-h-screen bg-forge-cream overflow-x-hidden",children:[n.jsxs("section",{className:"relative min-h-screen flex items-center justify-center pt-28 pb-10 px-6",children:[n.jsx(nt,{variant:"hero"}),n.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[n.jsxs(ge.h1,{initial:{opacity:0,y:30,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{duration:.8,ease:"easeOut"},className:"text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-bold text-forge-dark mb-8 leading-[0.9] tracking-tight",children:["Invest in",n.jsx("br",{}),n.jsxs("span",{className:"inline-flex items-center",children:["People's Future.",n.jsx(ge.div,{animate:{rotate:[0,15,-15,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:n.jsx(Cn,{className:"w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 xl:w-28 xl:h-28 text-forge-orange mx-4"})})]})]}),n.jsxs(ge.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-xl lg:text-2xl text-forge-gray max-w-4xl mx-auto mb-12 leading-relaxed",children:["Generate stable returns by investing in Web3 talent",n.jsx("br",{className:"hidden md:block"}),"through innovative stablecoin-backed Income Share Agreements."]}),n.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:n.jsxs(It,{onClick:()=>e(!0),className:"inline-flex items-center gap-3 bg-forge-orange text-white px-8 py-4 rounded-full text-lg font-semibold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:["Join Investment Round",n.jsx(Lr,{className:"w-5 h-5"})]})})]})]}),n.jsx("section",{className:"py-12 bg-white/50 backdrop-blur-sm border-y border-forge-orange/10",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx(J,{children:n.jsx("p",{className:"text-center text-forge-gray font-medium mb-8",children:"Join institutional investors backing the future of work"})}),n.jsx($r,{className:"text-2xl font-bold text-forge-dark/60",children:l.map((h,f)=>n.jsx("span",{className:"mx-8 hover:text-forge-orange transition-colors",children:h},f))})]})}),n.jsx("section",{className:"py-20 px-6 bg-white",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs(J,{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Investment Performance"}),n.jsx("p",{className:"text-xl text-forge-gray",children:"Stable returns from a growing market"})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:s.map((h,f)=>n.jsx(J,{delay:f*.1,children:n.jsxs(ge.div,{className:"text-center bg-forge-cream p-8 rounded-3xl border border-forge-orange/20 group hover:border-forge-orange/40 transition-all duration-300",whileHover:{y:-5},children:[n.jsx("div",{className:"text-forge-orange mb-4 flex justify-center group-hover:scale-110 transition-transform",children:h.icon}),n.jsxs("div",{className:"text-5xl lg:text-6xl font-bold text-forge-dark mb-2",children:[h.value,n.jsx("span",{className:"text-forge-orange text-2xl lg:text-3xl",children:h.suffix})]}),n.jsx("div",{className:"text-lg text-forge-gray font-medium",children:h.label})]})},f))})]})}),n.jsxs("section",{className:"py-20 px-6 bg-forge-dark text-white relative overflow-hidden",children:[n.jsx(nt,{variant:"dark"}),n.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[n.jsxs(J,{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-cream mb-6",children:"Market Opportunity"}),n.jsx("p",{className:"text-xl text-forge-cream/80",children:"The Web3 talent shortage creates unprecedented opportunity"})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:a.map((h,f)=>n.jsx(J,{delay:f*.1,children:n.jsxs(ge.div,{className:"text-center p-8 rounded-3xl border border-forge-orange/20 bg-white/5 backdrop-blur-sm hover:border-forge-orange/40 transition-all duration-300 group",whileHover:{y:-5,scale:1.02},children:[n.jsx("div",{className:"text-4xl lg:text-5xl font-bold text-forge-orange mb-3 group-hover:scale-110 transition-transform",children:h.metric}),n.jsx("h3",{className:"text-xl font-bold text-forge-cream mb-2",children:h.label}),n.jsx("p",{className:"text-forge-cream/70",children:h.description})]})},f))})]})]}),n.jsx(ed,{title:"A New Asset Class is Born",codeBlock:d,steps:u}),n.jsx("section",{className:"py-20 px-6 bg-forge-cream",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs(J,{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Why Invest in Human Capital?"}),n.jsx("p",{className:"text-xl text-forge-gray",children:"Web3 has created new opportunities for yield generation"})]}),n.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:r.map((h,f)=>n.jsx(J,{delay:f*.1,children:n.jsxs(ge.div,{className:"bg-white p-8 rounded-3xl border border-forge-orange/20 hover:border-forge-orange/40 transition-all duration-300 group",whileHover:{y:-8},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-forge-orange rounded-2xl flex items-center justify-center text-white group-hover:scale-110 group-hover:bg-forge-orange-light transition-all duration-200 shadow-lg",children:h.icon}),n.jsx("span",{className:"text-sm font-bold text-forge-orange bg-forge-orange/10 px-3 py-1 rounded-full",children:h.highlight})]}),n.jsx("h3",{className:"text-2xl font-bold text-forge-dark mb-4",children:h.title}),n.jsx("p",{className:"text-lg text-forge-gray leading-relaxed",children:h.description})]})},f))})]})}),n.jsx("section",{className:"py-20 px-6 bg-white",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs(J,{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Investment Metrics"}),n.jsx("p",{className:"text-xl text-forge-gray",children:"Transparent performance data you can trust"})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[n.jsx("div",{className:"space-y-6",children:i.map((h,f)=>n.jsx(J,{delay:f*.1,children:n.jsxs(ge.div,{className:"bg-forge-cream p-6 rounded-3xl border border-forge-orange/20 hover:border-forge-orange/40 transition-all duration-300 group",whileHover:{x:5},children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-forge-gray font-medium",children:h.metric}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-2xl font-bold text-forge-dark",children:h.value}),h.trend==="up"&&n.jsx(Cn,{className:"w-5 h-5 text-green-500"})]})]}),n.jsx("p",{className:"text-sm text-forge-gray/80",children:h.description})]})},f))}),n.jsx(J,{delay:.4,children:n.jsxs(ge.div,{className:"bg-forge-dark text-white p-8 rounded-3xl border-4 border-forge-orange relative overflow-hidden",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[n.jsx(nt,{variant:"dark"}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("h3",{className:"text-3xl font-bold mb-6 text-forge-cream",children:"Investment Structure"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border-l-4 border-forge-orange pl-4",children:[n.jsx("h4",{className:"font-semibold text-forge-cream",children:"Minimum Investment"}),n.jsx("p",{className:"text-forge-cream/80",children:"$10,000 USDC/USDT"})]}),n.jsxs("div",{className:"border-l-4 border-blue-400 pl-4",children:[n.jsx("h4",{className:"font-semibold text-forge-cream",children:"Fund Duration"}),n.jsx("p",{className:"text-forge-cream/80",children:"7-year fund life with extension options"})]}),n.jsxs("div",{className:"border-l-4 border-green-400 pl-4",children:[n.jsx("h4",{className:"font-semibold text-forge-cream",children:"Distribution Schedule"}),n.jsx("p",{className:"text-forge-cream/80",children:"Quarterly distributions based on collections"})]}),n.jsxs("div",{className:"border-l-4 border-purple-400 pl-4",children:[n.jsx("h4",{className:"font-semibold text-forge-cream",children:"Management Fee"}),n.jsx("p",{className:"text-forge-cream/80",children:"2% annually + 20% performance fee"})]})]}),n.jsx(It,{onClick:()=>e(!0),className:"w-full bg-forge-orange text-white py-4 rounded-full font-semibold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200 mt-8",children:"Join Investment Round"})]})]})})]})]})}),n.jsx("section",{className:"py-20 px-6 bg-forge-cream",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs(J,{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Roadmap to Liquidity"}),n.jsx("p",{className:"text-xl text-forge-gray",children:"Clear path to returns and secondary market access"})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:o.map((h,f)=>n.jsx(J,{delay:f*.1,children:n.jsxs(ge.div,{className:"bg-white p-8 rounded-3xl border border-forge-orange/20 hover:border-forge-orange/40 transition-all duration-300 group text-center",whileHover:{y:-5},children:[n.jsx("div",{className:"w-16 h-16 bg-forge-orange rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:n.jsx("span",{className:"text-white font-bold text-xl",children:h.quarter})}),n.jsx("h3",{className:"text-2xl font-bold text-forge-dark mb-4",children:h.title}),n.jsx("p",{className:"text-forge-gray",children:h.description})]})},f))})]})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx(J,{className:"text-center mb-12",children:n.jsx("h3",{className:"text-2xl font-bold text-forge-dark",children:"What Investors Say"})}),n.jsx($r,{speed:40,className:"text-lg",children:c.map((h,f)=>n.jsxs("div",{className:"mx-8 max-w-lg",children:[n.jsx("p",{className:"text-forge-gray italic mb-2",children:h.quote}),n.jsxs("p",{className:"text-forge-dark font-semibold",children:[" ",h.author]})]},f))})]})}),n.jsxs("section",{className:"py-32 px-6 bg-forge-cream relative overflow-hidden",children:[n.jsx(nt,{variant:"subtle"}),n.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[n.jsx(J,{children:n.jsxs("h2",{className:"text-5xl lg:text-6xl font-bold text-forge-dark mb-6 leading-tight",children:["Ready to generate",n.jsx("br",{}),"stable returns?"]})}),n.jsx(J,{delay:.2,children:n.jsx("p",{className:"text-xl text-forge-gray max-w-3xl mx-auto mb-16 leading-relaxed",children:"Join institutional investors backing the next generation of Web3 builders through innovative ISA investments."})}),n.jsx(J,{delay:.4,children:n.jsxs(ge.div,{className:"bg-forge-dark rounded-3xl p-12 text-white relative overflow-hidden border-4 border-forge-orange",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[n.jsx(nt,{variant:"dark"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs(ge.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"inline-flex items-center gap-2 text-forge-orange mb-6",children:[n.jsx(Vb,{className:"w-6 h-6"}),n.jsx("span",{className:"font-medium",children:"Next Investment Round"})]}),n.jsx("h3",{className:"text-4xl font-bold mb-6 text-forge-cream",children:"$2M Target"}),n.jsx("p",{className:"text-xl text-forge-cream/80 mb-8",children:"Funding the April 2026 cohort"}),n.jsx(It,{onClick:()=>e(!0),className:"bg-forge-orange text-white px-12 py-4 rounded-full font-semibold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:"Invest Now"})]})]})})]})]}),n.jsxs("section",{className:"py-32 px-6 bg-forge-dark text-white relative overflow-hidden",children:[n.jsx(nt,{variant:"dark"}),n.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[n.jsx(J,{children:n.jsxs("h2",{className:"text-5xl lg:text-6xl font-bold mb-8 leading-tight text-forge-cream",children:["Invest in impact.",n.jsx("br",{}),"Generate returns."]})}),n.jsx(J,{delay:.2,children:n.jsxs("p",{className:"text-xl text-forge-cream/80 mb-12 leading-relaxed",children:["Join the future of education funding through",n.jsx("br",{}),"innovative stablecoin-backed ISA investments."]})}),n.jsx(J,{delay:.4,children:n.jsxs(It,{onClick:()=>e(!0),className:"inline-flex items-center gap-3 bg-forge-orange text-white px-12 py-6 rounded-full text-xl font-bold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:["Join Investment Round",n.jsx(Lr,{className:"w-6 h-6"})]})}),n.jsx(J,{delay:.6,children:n.jsx("div",{className:"mt-8 text-sm text-forge-cream/60",children:"Minimum $10K USDC  Quarterly distributions  Secondary market access"})})]})]}),n.jsx(Qc,{isOpen:t,onClose:()=>e(!1),title:"Join the Investment Round",formType:"investor"})]})},JC=()=>{const t=Ys();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),n.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},ZC={signInWithPassword:async({email:t,password:e})=>(await new Promise(s=>setTimeout(s,1e3)),t==="demo@example.com"&&e==="demo123"?{data:{user:{id:"mock-user-id",email:"demo@example.com",user_metadata:{name:"Demo User"}},session:{access_token:"mock-access-token",refresh_token:"mock-refresh-token"}},error:null}:{data:{user:null,session:null},error:{message:"Invalid login credentials",status:400}}),signInWithOAuth:async({provider:t})=>(console.log(`Mock OAuth redirect for ${t}`),window.location.href=`/auth/callback?provider=${t}&mock=true`,{data:null,error:null}),signOut:async()=>({error:null}),getSession:async()=>({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})};function Dh(){return!1}const td=Je("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=b.forwardRef(({className:t,variant:e,size:s,asChild:r=!1,...a},i)=>{const o=r?Ns:"button";return n.jsx(o,{className:E(td({variant:e,size:s,className:t})),ref:i,...a})});z.displayName="Button";const ae=b.forwardRef(({className:t,type:e,...s},r)=>n.jsx("input",{type:e,className:E("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s}));ae.displayName="Input";const XC=Je("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pt=b.forwardRef(({className:t,...e},s)=>n.jsx(Lf,{ref:s,className:E(XC(),t),...e}));pt.displayName=Lf.displayName;const X=b.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:E("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));X.displayName="Card";const ve=b.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:E("flex flex-col space-y-1.5 p-6",t),...e}));ve.displayName="CardHeader";const Ne=b.forwardRef(({className:t,...e},s)=>n.jsx("h3",{ref:s,className:E("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ne.displayName="CardTitle";const dt=b.forwardRef(({className:t,...e},s)=>n.jsx("p",{ref:s,className:E("text-sm text-muted-foreground",t),...e}));dt.displayName="CardDescription";const Z=b.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:E("p-6 pt-0",t),...e}));Z.displayName="CardContent";const Ea=b.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:E("flex items-center p-6 pt-0",t),...e}));Ea.displayName="CardFooter";const YC="/",QC="/companies",e2="/investors",t2="/old/hidden/index",ax="/login",s2="/signup",r2="/forgot-password",n2="/update-password",Mt="/dashboard",ts="/dashboard/explore",Vl="/dashboard/formations",a2=t=>`/dashboard/formations/${t}`,i2="/dashboard/coming-soon",di="/dashboard/admin",ui="/dashboard/scoreboard",hi="/dashboard/achievements",Vn="/dashboard/community-projects",Bl=t=>`/dashboard/learn/course/${t}`,Ei=t=>`/dashboard/learn/path/${t}`,wt={[Mt]:"nav.dashboard",[ts]:"nav.paths",[di]:"nav.admin",[ui]:"nav.scoreboard",[hi]:"nav.achievements",[Vn]:"nav.communityProjects",LEARN:"nav.learn",COURSE:"nav.course",PATH:"nav.path",PROFILE:"nav.myProfile",PAGE:"nav.page"};function o2(){const{t}=we(),[e,s]=b.useState(""),[r,a]=b.useState(""),[i,o]=b.useState(!1),[l,c]=b.useState(null),[d,u]=b.useState(!1),h=wa(),f=Ys(),m=async g=>{var y,N,w,_,v,j,S,A,R,C,O,$,I;g.preventDefault(),c(null),o(!0);try{Dh(),console.log("Attempting Supabase authentication...");const T=je(),{data:k,error:L}=await T.auth.signInWithPassword({email:e.trim(),password:r});if(console.log("Login response:",{data:!!k,error:L==null?void 0:L.message}),L){if((y=L.message)!=null&&y.includes("Invalid login credentials"))throw new Error("Invalid email or password. Please check your credentials and try again.");if((N=L.message)!=null&&N.includes("Email not confirmed"))throw new Error("Please check your email and click the confirmation link before signing in.");if((w=L.message)!=null&&w.includes("Too many requests"))throw new Error("Too many login attempts. Please wait a moment before trying again.");if((_=L.message)!=null&&_.includes("body stream already read")){console.log("Supabase error detected, falling back to mock auth...");const{data:B,error:q}=await ZC.signInWithPassword({email:e.trim(),password:r});if(q)throw new Error(q.message);if(B!=null&&B.user){localStorage.setItem("mock-auth-user",JSON.stringify(B.user));const V=((j=(v=f.state)==null?void 0:v.from)==null?void 0:j.pathname)||Mt;h(V,{replace:!0})}return}else throw new Error(L.message||"Login failed")}if(k!=null&&k.user){console.log("Login successful, redirecting...");const B=((A=(S=f.state)==null?void 0:S.from)==null?void 0:A.pathname)||Mt;h(B,{replace:!0})}}catch(T){console.error("Login error:",T),(R=T.message)!=null&&R.includes("body stream already read")?c("Authentication service configuration error. Using demo mode - try email: demo@example.com, password: demo123"):(C=T.message)!=null&&C.includes("fetch")||(O=T.message)!=null&&O.includes("network")?c("Network connection error. Please check your internet connection and try again."):($=T.message)!=null&&$.includes("Failed to execute")?c("Authentication service error. The Supabase instance may be misconfigured."):(I=T.message)!=null&&I.includes("Supabase connection failed")?c("Cannot connect to authentication service. Please check if Supabase is properly configured."):c(T.message||"An unexpected error occurred. Please try again.")}finally{o(!1)}},p=async()=>{try{c(null),o(!0);const g=je(),{error:y}=await g.auth.signInWithOAuth({provider:"google",options:{redirectTo:Wn()}});if(y)throw console.error("Google OAuth error:",y),new Error("Google sign-in failed. Please try again.")}catch(g){console.error("Google login error:",g),c(g.message||"Google sign-in failed. Please try again."),o(!1)}},x=async()=>{try{c(null),o(!0);const g=je(),{error:y}=await g.auth.signInWithOAuth({provider:"github",options:{redirectTo:Wn()}});if(y)throw console.error("GitHub OAuth error:",y),new Error("GitHub sign-in failed. Please try again.")}catch(g){console.error("GitHub login error:",g),c(g.message||"GitHub sign-in failed. Please try again."),o(!1)}};return n.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-forge-cream relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-forge-orange/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-40 right-20 w-48 h-48 bg-forge-orange/10 rounded-full blur-2xl"})]}),n.jsxs(X,{className:"w-full max-w-md bg-white/95 backdrop-blur-sm border border-forge-orange/20 shadow-xl relative z-10",children:[n.jsx(ve,{children:n.jsx(Ne,{className:"text-forge-dark text-2xl font-bold",children:"Login"})}),n.jsxs(Z,{children:[Dh(),n.jsx("form",{onSubmit:m,children:n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(pt,{htmlFor:"email",className:"text-forge-dark font-medium",children:"Email"}),n.jsx(ae,{id:"email",type:"email",placeholder:"m@example.com",required:!0,value:e,onChange:g=>s(g.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(pt,{htmlFor:"password",className:"text-forge-dark font-medium",children:"Password"}),n.jsx(ae,{id:"password",type:"password",required:!0,value:r,onChange:g=>a(g.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),l&&n.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg border border-red-200",children:l}),n.jsx(z,{type:"submit",className:"w-full bg-forge-orange text-white hover:bg-forge-orange-light transition-all duration-200 shadow-lg hover:shadow-xl font-semibold py-3 rounded-xl",disabled:i,children:i?"Loading...":"Login"}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-forge-orange/20"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-white px-2 text-forge-gray",children:"Or continue with"})})]}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs(z,{type:"button",variant:"outline",onClick:p,className:"w-full border-forge-orange/20 hover:border-forge-orange hover:bg-forge-orange/5 transition-all duration-200 font-medium py-3 rounded-xl group",disabled:i,children:[n.jsxs("svg",{className:"w-6 h-6 mr-3 transition-transform group-hover:scale-110",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),n.jsxs(z,{type:"button",variant:"outline",onClick:x,className:"w-full border-forge-orange/20 hover:border-forge-orange hover:bg-forge-orange/5 transition-all duration-200 font-medium py-3 rounded-xl group",disabled:i,children:[n.jsx(Ui,{className:"w-6 h-6 mr-3 transition-transform group-hover:scale-110"}),"Continue with GitHub"]})]}),n.jsxs("div",{className:"mt-4 text-center text-sm",children:[n.jsx("span",{className:"text-forge-gray",children:"Don't have an account?"})," ",n.jsx(ce,{to:"/signup",className:"text-forge-orange hover:text-forge-orange-light font-medium underline transition-colors",children:"Sign up"})]}),n.jsx("div",{className:"text-center text-sm",children:n.jsx(ce,{to:"/forgot-password",className:"text-forge-orange hover:text-forge-orange-light font-medium underline transition-colors",children:"Forgot your password?"})}),!1]})})]})]})]})}function l2(){const[t,e]=b.useState(""),[s,r]=b.useState(""),[a,i]=b.useState(""),[o,l]=b.useState(!1),[c,d]=b.useState(""),[u,h]=b.useState(null),f=async x=>{if(x.preventDefault(),s!==a){h("Passwords do not match");return}h(null),l(!0),d("");try{const g=je(),{error:y}=await g.auth.signUp({email:t,password:s});if(y)throw new Error(y.message||"Sign up failed");d("Check your email for the confirmation link!")}catch(g){g.message.includes("fetch")||g.message.includes("network")?h("Authentication service not configured. Please contact the administrator."):h(g.message)}finally{l(!1)}},m=async()=>{try{h(null),l(!0);const x=je(),{error:g}=await x.auth.signInWithOAuth({provider:"google",options:{redirectTo:Wn()}});if(g)throw new Error(g.message||"OAuth sign-in failed")}catch(x){h(x.message),l(!1)}},p=async()=>{try{h(null),l(!0);const x=je(),{error:g}=await x.auth.signInWithOAuth({provider:"github",options:{redirectTo:Wn()}});if(g)throw new Error(g.message||"OAuth sign-in failed")}catch(x){h(x.message),l(!1)}};return n.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-forge-cream relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-forge-orange/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-40 right-20 w-48 h-48 bg-forge-orange/10 rounded-full blur-2xl"})]}),n.jsxs(X,{className:"w-full max-w-md bg-white/95 backdrop-blur-sm border border-forge-orange/20 shadow-xl relative z-10",children:[n.jsx(ve,{children:n.jsx(Ne,{className:"text-forge-dark text-2xl font-bold",children:"Create Account"})}),n.jsx(Z,{children:n.jsx("form",{onSubmit:f,children:n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(pt,{htmlFor:"email",className:"text-forge-dark font-medium",children:"Email"}),n.jsx(ae,{id:"email",type:"email",placeholder:"m@example.com",required:!0,value:t,onChange:x=>e(x.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(pt,{htmlFor:"password",className:"text-forge-dark font-medium",children:"Password"}),n.jsx(ae,{id:"password",type:"password",required:!0,value:s,onChange:x=>r(x.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(pt,{htmlFor:"confirm-password",className:"text-forge-dark font-medium",children:"Confirm Password"}),n.jsx(ae,{id:"confirm-password",type:"password",required:!0,value:a,onChange:x=>i(x.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),u&&n.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg border border-red-200",children:u}),c&&n.jsx("p",{className:"text-green-500 text-sm bg-green-50 p-3 rounded-lg border border-green-200",children:c}),n.jsx(z,{type:"submit",className:"w-full bg-forge-orange text-white hover:bg-forge-orange-light transition-all duration-200 shadow-lg hover:shadow-xl font-semibold py-3 rounded-xl",disabled:o,children:o?"Creating account...":"Sign Up"}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-forge-orange/20"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-white px-2 text-forge-gray",children:"Or continue with"})})]}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs(z,{type:"button",variant:"outline",onClick:m,className:"w-full border-forge-orange/20 hover:border-forge-orange hover:bg-forge-orange/5 transition-all duration-200 font-medium py-3 rounded-xl group",disabled:o,children:[n.jsxs("svg",{className:"w-6 h-6 mr-3 transition-transform group-hover:scale-110",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),n.jsxs(z,{type:"button",variant:"outline",onClick:p,className:"w-full border-forge-orange/20 hover:border-forge-orange hover:bg-forge-orange/5 transition-all duration-200 font-medium py-3 rounded-xl group",disabled:o,children:[n.jsx(Ui,{className:"w-6 h-6 mr-3 transition-transform group-hover:scale-110"}),"Continue with GitHub"]})]}),n.jsxs("div",{className:"mt-4 text-center text-sm",children:[n.jsx("span",{className:"text-forge-gray",children:"Already have an account?"})," ",n.jsx(ce,{to:"/login",className:"text-forge-orange hover:text-forge-orange-light font-medium underline transition-colors",children:"Login"})]})]})})})]})]})}function c2(){const[t,e]=b.useState(""),[s,r]=b.useState(!1),[a,i]=b.useState(""),[o,l]=b.useState(null),c=async d=>{d.preventDefault(),l(null),i(""),r(!0);try{const u=je(),{error:h}=await u.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/update-password`});if(h)throw new Error(h.message||"Failed to send reset email");i("Check your email for a password reset link.")}catch(u){l(u.message)}finally{r(!1)}};return n.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-forge-cream relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-forge-orange/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-40 right-20 w-48 h-48 bg-forge-orange/10 rounded-full blur-2xl"})]}),n.jsxs(X,{className:"w-full max-w-md bg-white/95 backdrop-blur-sm border border-forge-orange/20 shadow-xl relative z-10",children:[n.jsx(ve,{children:n.jsx(Ne,{className:"text-forge-dark text-2xl font-bold",children:"Forgot Password"})}),n.jsx(Z,{children:n.jsx("form",{onSubmit:c,children:n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(pt,{htmlFor:"email",className:"text-forge-dark font-medium",children:"Email"}),n.jsx(ae,{id:"email",type:"email",placeholder:"m@example.com",required:!0,value:t,onChange:d=>e(d.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),o&&n.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg border border-red-200",children:o}),a&&n.jsx("p",{className:"text-green-500 text-sm bg-green-50 p-3 rounded-lg border border-green-200",children:a}),n.jsx(z,{type:"submit",className:"w-full bg-forge-orange text-white hover:bg-forge-orange-light transition-all duration-200 shadow-lg hover:shadow-xl font-semibold py-3 rounded-xl",disabled:s,children:s?"Sending...":"Send Reset Link"}),n.jsxs("div",{className:"mt-4 text-center text-sm",children:[n.jsx("span",{className:"text-forge-gray",children:"Remembered your password?"})," ",n.jsx(ce,{to:"/login",className:"text-forge-orange hover:text-forge-orange-light font-medium underline transition-colors",children:"Login"})]})]})})})]})]})}const Wo=768;function d2(){const[t,e]=b.useState(void 0);return b.useEffect(()=>{const s=window.matchMedia(`(max-width: ${Wo-1}px)`),r=()=>{e(window.innerWidth<Wo)};return s.addEventListener("change",r),e(window.innerWidth<Wo),()=>s.removeEventListener("change",r)},[]),!!t}const tt=b.forwardRef(({className:t,orientation:e="horizontal",decorative:s=!0,...r},a)=>n.jsx(If,{ref:a,decorative:s,orientation:e,className:E("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));tt.displayName=If.displayName;const u2=$f,h2=Mf,ix=b.forwardRef(({className:t,...e},s)=>n.jsx(zi,{className:E("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:s}));ix.displayName=zi.displayName;const f2=Je("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ox=b.forwardRef(({side:t="right",className:e,children:s,...r},a)=>n.jsxs(h2,{children:[n.jsx(ix,{}),n.jsxs(qi,{ref:a,className:E(f2({side:t}),e),...r,children:[n.jsx(ja,{className:"sr-only",children:"Menu"}),s,n.jsxs(Df,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(Xs,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ox.displayName=qi.displayName;const m2=b.forwardRef(({className:t,...e},s)=>n.jsx(ja,{ref:s,className:E("text-lg font-semibold text-foreground",t),...e}));m2.displayName=ja.displayName;const p2=b.forwardRef(({className:t,...e},s)=>n.jsx(Wi,{ref:s,className:E("text-sm text-muted-foreground",t),...e}));p2.displayName=Wi.displayName;const g2=Je("bg-muted",{variants:{variant:{pulse:"animate-pulse",shimmer:"relative overflow-hidden before:absolute before:inset-0 before:-translate-x-full before:animate-shimmer before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent",wave:"relative overflow-hidden before:absolute before:inset-0 before:-translate-x-full before:animate-shimmer before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent"},shape:{default:"rounded-md",circle:"rounded-full",rectangle:"rounded-none",lg:"rounded-lg",xl:"rounded-xl"}},defaultVariants:{variant:"shimmer",shape:"default"}});function Dt({className:t,variant:e,shape:s,...r}){return n.jsx("div",{className:E(g2({variant:e,shape:s}),t),role:"status","aria-label":"Loading...",...r})}function x2({className:t,lines:e=1,...s}){return n.jsx("div",{className:E("space-y-2",t),...s,children:Array.from({length:e}).map((r,a)=>n.jsx(Dt,{className:E("h-4",a===e-1&&e>1?"w-4/5":"w-full")},a))})}function b2({className:t,size:e="md",...s}){const r={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12",xl:"h-16 w-16"};return n.jsx(Dt,{shape:"circle",className:E(r[e],t),...s})}const y2="sidebar:state",v2=60*60*24*7,w2="16rem",j2="18rem",N2="3rem",_2="b",lx=b.createContext(null);function Aa(){const t=b.useContext(lx);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const cx=b.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:s,className:r,style:a,children:i,...o},l)=>{const c=d2(),[d,u]=b.useState(!1),[h,f]=b.useState(t),m=e??h,p=b.useCallback(N=>{const w=typeof N=="function"?N(m):N;s?s(w):f(w),document.cookie=`${y2}=${w}; path=/; max-age=${v2}`},[s,m]),x=b.useCallback(()=>c?u(N=>!N):p(N=>!N),[c,p,u]);b.useEffect(()=>{const N=w=>{w.key===_2&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),x())};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[x]);const g=m?"expanded":"collapsed",y=b.useMemo(()=>({state:g,open:m,setOpen:p,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:x}),[g,m,p,c,d,u,x]);return n.jsx(lx.Provider,{value:y,children:n.jsx(vp,{delayDuration:0,children:n.jsx("div",{style:{"--sidebar-width":w2,"--sidebar-width-icon":N2,...a},className:E("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...o,children:i})})})});cx.displayName="SidebarProvider";const dx=b.forwardRef(({side:t="left",variant:e="sidebar",collapsible:s="offcanvas",className:r,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=Aa();return s==="none"?n.jsx("div",{className:E("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:a}):l?n.jsx(u2,{open:d,onOpenChange:u,...i,children:n.jsx(ox,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":j2},side:t,children:n.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):n.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?s:"","data-variant":e,"data-side":t,children:[n.jsx("div",{className:E("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),n.jsx("div",{className:E("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:n.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});dx.displayName="Sidebar";const ux=b.forwardRef(({className:t,onClick:e,...s},r)=>{const{toggleSidebar:a,state:i}=Aa();return n.jsxs(z,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:E("h-7 w-7",t),onClick:o=>{e==null||e(o),a()},...s,children:[n.jsx(Ub,{className:E("transition-transform duration-200",i==="collapsed"?"rotate-180":"")}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});ux.displayName="SidebarTrigger";const hx=b.forwardRef(({className:t,...e},s)=>{const{toggleSidebar:r}=Aa();return n.jsx("button",{ref:s,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:E("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});hx.displayName="SidebarRail";const fx=b.forwardRef(({className:t,...e},s)=>n.jsx("main",{ref:s,className:E("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));fx.displayName="SidebarInset";const S2=b.forwardRef(({className:t,...e},s)=>n.jsx(ae,{ref:s,"data-sidebar":"input",className:E("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));S2.displayName="SidebarInput";const mx=b.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,"data-sidebar":"header",className:E("flex flex-col gap-2 p-2",t),...e}));mx.displayName="SidebarHeader";const px=b.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,"data-sidebar":"footer",className:E("flex flex-col gap-2 p-2",t),...e}));px.displayName="SidebarFooter";const k2=b.forwardRef(({className:t,...e},s)=>n.jsx(tt,{ref:s,"data-sidebar":"separator",className:E("mx-2 w-auto bg-sidebar-border",t),...e}));k2.displayName="SidebarSeparator";const gx=b.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,"data-sidebar":"content",className:E("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));gx.displayName="SidebarContent";const xx=b.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,"data-sidebar":"group",className:E("relative flex w-full min-w-0 flex-col p-2",t),...e}));xx.displayName="SidebarGroup";const C2=b.forwardRef(({className:t,asChild:e=!1,...s},r)=>{const a=e?Ns:"div";return n.jsx(a,{ref:r,"data-sidebar":"group-label",className:E("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...s})});C2.displayName="SidebarGroupLabel";const P2=b.forwardRef(({className:t,asChild:e=!1,...s},r)=>{const a=e?Ns:"button";return n.jsx(a,{ref:r,"data-sidebar":"group-action",className:E("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...s})});P2.displayName="SidebarGroupAction";const bx=b.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,"data-sidebar":"group-content",className:E("w-full text-sm",t),...e}));bx.displayName="SidebarGroupContent";const yx=b.forwardRef(({className:t,...e},s)=>n.jsx("ul",{ref:s,"data-sidebar":"menu",className:E("flex w-full min-w-0 flex-col gap-1",t),...e}));yx.displayName="SidebarMenu";const Ds=b.forwardRef(({className:t,...e},s)=>n.jsx("li",{ref:s,"data-sidebar":"menu-item",className:E("group/menu-item relative",t),...e}));Ds.displayName="SidebarMenuItem";const T2=Je("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),$s=b.forwardRef(({asChild:t=!1,isActive:e=!1,variant:s="default",size:r="default",tooltip:a,className:i,...o},l)=>{const c=t?Ns:"button",{isMobile:d,state:u}=Aa(),h=n.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:E(T2({variant:s,size:r}),i),...o});return a?(typeof a=="string"&&(a={children:a}),n.jsxs(BN,{children:[n.jsx(UN,{asChild:!0,children:h}),n.jsx(wp,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):h});$s.displayName="SidebarMenuButton";const E2=b.forwardRef(({className:t,asChild:e=!1,showOnHover:s=!1,...r},a)=>{const i=e?Ns:"button";return n.jsx(i,{ref:a,"data-sidebar":"menu-action",className:E("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});E2.displayName="SidebarMenuAction";const A2=b.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,"data-sidebar":"menu-badge",className:E("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));A2.displayName="SidebarMenuBadge";const R2=b.forwardRef(({className:t,showIcon:e=!1,...s},r)=>{const a=b.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return n.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:E("rounded-md h-8 flex gap-2 px-2 items-center",t),...s,children:[e&&n.jsx(Dt,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),n.jsx(Dt,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});R2.displayName="SidebarMenuSkeleton";const O2=b.forwardRef(({className:t,...e},s)=>n.jsx("ul",{ref:s,"data-sidebar":"menu-sub",className:E("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));O2.displayName="SidebarMenuSub";const L2=b.forwardRef(({...t},e)=>n.jsx("li",{ref:e,...t}));L2.displayName="SidebarMenuSubItem";const I2=b.forwardRef(({asChild:t=!1,size:e="md",isActive:s,className:r,...a},i)=>{const o=t?Ns:"a";return n.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":s,className:E("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...a})});I2.displayName="SidebarMenuSubButton";const M2=qb,D2=Wb,$2=b.forwardRef(({className:t,inset:e,children:s,...r},a)=>n.jsxs(Ff,{ref:a,className:E("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[s,n.jsx(Vf,{className:"ml-auto h-4 w-4"})]}));$2.displayName=Ff.displayName;const F2=b.forwardRef(({className:t,...e},s)=>n.jsx(Bf,{ref:s,className:E("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));F2.displayName=Bf.displayName;const vx=b.forwardRef(({className:t,sideOffset:e=4,...s},r)=>n.jsx(zb,{children:n.jsx(Uf,{ref:r,sideOffset:e,className:E("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));vx.displayName=Uf.displayName;const Sn=b.forwardRef(({className:t,inset:e,...s},r)=>n.jsx(zf,{ref:r,className:E("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...s}));Sn.displayName=zf.displayName;const V2=b.forwardRef(({className:t,children:e,checked:s,...r},a)=>n.jsxs(qf,{ref:a,className:E("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Wf,{children:n.jsx(Hf,{className:"h-4 w-4"})})}),e]}));V2.displayName=qf.displayName;const B2=b.forwardRef(({className:t,children:e,...s},r)=>n.jsxs(Kf,{ref:r,className:E("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Wf,{children:n.jsx(ac,{className:"h-2 w-2 fill-current"})})}),e]}));B2.displayName=Kf.displayName;const wx=b.forwardRef(({className:t,inset:e,...s},r)=>n.jsx(Gf,{ref:r,className:E("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...s}));wx.displayName=Gf.displayName;const Ul=b.forwardRef(({className:t,...e},s)=>n.jsx(Jf,{ref:s,className:E("-mx-1 my-1 h-px bg-muted",t),...e}));Ul.displayName=Jf.displayName;const sd=b.forwardRef(({className:t,...e},s)=>n.jsx(Zf,{ref:s,className:E("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));sd.displayName=Zf.displayName;const rd=b.forwardRef(({className:t,...e},s)=>n.jsx(Xf,{ref:s,className:E("aspect-square h-full w-full",t),...e}));rd.displayName=Xf.displayName;const nd=b.forwardRef(({className:t,...e},s)=>n.jsx(Yf,{ref:s,className:E("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));nd.displayName=Yf.displayName;function zl(){var d,u;const{t}=we(),{user:e}=We(),{signOut:s,loading:r}=xc();let a=null;const i=!!((d=e==null?void 0:e.app_metadata)!=null&&d.is_admin||a!=null&&a.is_admin),o=async()=>{try{await s()}catch(h){console.error("Error during logout:",h),window.location.href="/"}},l=h=>h?h.substring(0,2).toUpperCase():"U",c=()=>{var h,f;return(h=e==null?void 0:e.user_metadata)!=null&&h.full_name?e.user_metadata.full_name:(f=e==null?void 0:e.user_metadata)!=null&&f.name?e.user_metadata.name:e!=null&&e.email?e.email.split("@")[0]:"User"};return e?n.jsxs(M2,{children:[n.jsx(D2,{asChild:!0,children:n.jsxs(z,{variant:"ghost",className:"w-full justify-start gap-2 px-2",children:[n.jsxs(sd,{className:"h-8 w-8",children:[n.jsx(rd,{src:(u=e==null?void 0:e.user_metadata)==null?void 0:u.avatar_url}),n.jsx(nd,{children:l(e==null?void 0:e.email)})]}),n.jsxs("div",{className:"flex flex-col items-start text-left group-data-[collapsible=icon]:hidden",children:[n.jsx("span",{className:"text-sm font-medium",children:c()}),n.jsx("span",{className:"text-xs text-muted-foreground",children:e==null?void 0:e.email})]})]})}),n.jsxs(vx,{align:"end",className:"w-56",children:[n.jsx(wx,{children:t("profileDropdown.myAccount")}),n.jsx(Ul,{}),n.jsx(Sn,{asChild:!0,children:n.jsxs(ce,{to:"/dashboard/profile",children:[n.jsx(ic,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:t("profileDropdown.profile")})]})}),i&&n.jsx(Sn,{asChild:!0,children:n.jsxs(ce,{to:"/dashboard/admin",children:[n.jsx(nc,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:t("profileDropdown.admin")})]})}),n.jsxs(Sn,{children:[n.jsx(Hb,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:t("profileDropdown.connectWallet")})]}),n.jsx(Ul,{}),n.jsxs(Sn,{onClick:o,disabled:r,children:[n.jsx(Kb,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:t(r?"auth.logout.signingOut":"auth.logout.button")})]})]})]}):null}const ad=b.forwardRef(({...t},e)=>n.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));ad.displayName="Breadcrumb";const id=b.forwardRef(({className:t,...e},s)=>n.jsx("ol",{ref:s,className:E("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));id.displayName="BreadcrumbList";const Er=b.forwardRef(({className:t,...e},s)=>n.jsx("li",{ref:s,className:E("inline-flex items-center gap-1.5",t),...e}));Er.displayName="BreadcrumbItem";const Ai=b.forwardRef(({asChild:t,className:e,...s},r)=>{const a=t?Ns:"a";return n.jsx(a,{ref:r,className:E("transition-colors hover:text-foreground",e),...s})});Ai.displayName="BreadcrumbLink";const Ri=b.forwardRef(({className:t,...e},s)=>n.jsx("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:E("font-normal text-foreground",t),...e}));Ri.displayName="BreadcrumbPage";const Bn=({children:t,className:e,...s})=>n.jsx("li",{role:"presentation","aria-hidden":"true",className:E("[&>svg]:size-3.5",e),...s,children:t??n.jsx(Vf,{})});Bn.displayName="BreadcrumbSeparator";function U2(){const{toggleSidebar:t}=Aa(),{t:e}=we();return n.jsx("button",{className:"md:hidden p-2 rounded-lg border border-forge-orange/20 bg-forge-cream/90 text-forge-dark hover:text-forge-orange shadow-sm","aria-label":e("dashboard.layout.openMenu"),onClick:t,children:n.jsx(Qf,{size:22})})}function z2(){var x;const{user:t,loading:e}=We(),s=Ys(),{t:r}=we(),a=s.pathname===Mt,i=s.pathname.startsWith(ts),o=s.pathname.startsWith(di),l=s.pathname.startsWith(ui),c=s.pathname.startsWith(hi),d=s.pathname.startsWith(Vn),[u,h]=b.useState(null);let f=null;const m=!!((x=t==null?void 0:t.app_metadata)!=null&&x.is_admin||f!=null&&f.is_admin),p=b.useMemo(()=>{const g=s.pathname.split("/").filter(Boolean),y=[];if(y.push({label:r(wt[Mt]),to:Mt}),g.length<=1)return y;const N=g[1];if(N==="explore")y.push({label:r(wt[ts])});else if(N==="profile")y.push({label:r(wt.PROFILE)});else if(N==="scoreboard")y.push({label:r(wt[ui])});else if(N==="achievements")y.push({label:r(wt[hi])});else if(N==="community-projects")y.push({label:r(wt[Vn])});else if(N==="admin"){y.push({label:r(wt[di])});const w=g[2];if(w){const v={paths:r("admin.layout.nav.paths"),courses:r("admin.layout.nav.courses"),modules:r("admin.layout.nav.modules"),lessons:r("admin.layout.nav.lessons"),projects:r("admin.layout.nav.projects")}[w];v&&y.push({label:v})}}else if(N==="learn"){const w=g[2];w==="course"?(y.push({label:r(wt.LEARN),to:ts}),y.push({label:r(wt.COURSE)})):w==="path"&&(y.push({label:r(wt.LEARN),to:ts}),y.push({label:r(wt.PATH)}))}return y},[s.pathname,r]);return e?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-forge-orange mx-auto mb-4"}),n.jsx("p",{className:"text-forge-gray",children:r("dashboard.layout.loading")})]})}):n.jsxs(cx,{defaultOpen:!1,children:[n.jsxs(dx,{collapsible:"icon",children:[n.jsx(hx,{}),n.jsx(mx,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx(ce,{to:"/dashboard",className:"flex items-center gap-3",children:n.jsx("img",{src:"https://cdn.builder.io/api/v1/assets/a59c9d8d677c4c99bcaffef64866607b/forgecollege-2c35f0?format=webp&width=800",alt:"Forge College",className:"h-10 w-auto"})}),n.jsx(ux,{className:"h-8 w-8 bg-gray-50 hover:bg-gray-100 rounded-lg transition-all duration-200 text-gray-600 hover:text-gray-800"})]})}),n.jsx(gx,{children:n.jsx(xx,{children:n.jsx(bx,{children:n.jsxs(yx,{children:[n.jsx(Ds,{children:n.jsx($s,{asChild:!0,isActive:a,tooltip:r("nav.dashboard"),children:n.jsxs(ce,{to:Mt,children:[n.jsx(Gb,{}),n.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:r("nav.dashboard")})]})})}),n.jsx(Ds,{children:n.jsx($s,{asChild:!0,isActive:i,tooltip:r("nav.paths"),children:n.jsxs(ce,{to:ts,children:[n.jsx(ct,{}),n.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:r("nav.paths")})]})})}),n.jsx(Ds,{children:n.jsx($s,{asChild:!0,isActive:d,tooltip:r("nav.communityProjects"),children:n.jsxs(ce,{to:Vn,children:[n.jsx(Hi,{}),n.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:r("nav.communityProjects")})]})})}),n.jsx(Ds,{children:n.jsx($s,{asChild:!0,isActive:l,tooltip:r("nav.scoreboard"),children:n.jsxs(ce,{to:ui,children:[n.jsx(va,{}),n.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:r("nav.scoreboard")})]})})}),n.jsx(Ds,{children:n.jsx($s,{asChild:!0,isActive:c,tooltip:r("nav.achievements"),children:n.jsxs(ce,{to:hi,children:[n.jsx(Ar,{}),n.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:r("nav.achievements")})]})})}),m&&n.jsx(Ds,{children:n.jsx($s,{asChild:!0,isActive:o,tooltip:r("nav.admin"),children:n.jsxs(ce,{to:di,children:[n.jsx(nc,{}),n.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:r("nav.admin")})]})})})]})})})}),n.jsx(px,{className:"p-2",children:n.jsx(zl,{})})]}),n.jsxs(fx,{children:[n.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6 border-b bg-white border-forge-cream",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(U2,{}),u?n.jsx("div",{className:"hidden md:block",children:u}):n.jsx("div",{className:"hidden md:block",children:n.jsx(ad,{children:n.jsx(id,{children:p.map((g,y)=>{const N=y===p.length-1;return n.jsxs(b.Fragment,{children:[n.jsx(Er,{children:N||!g.to?n.jsx(Ri,{children:g.label}):n.jsx(Ai,{asChild:!0,children:n.jsx(ce,{to:g.to,children:g.label})})}),!N&&n.jsx(Bn,{})]},`${g.label}-${y}`)})})})})]}),n.jsx("div",{className:"flex items-center space-x-4"})]}),n.jsxs("div",{className:"px-6 py-8 relative",children:[n.jsxs("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:[n.jsx("div",{className:"absolute -top-6 right-6 w-32 h-32 bg-forge-cream rounded-full blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-10 w-24 h-24 bg-forge-orange/10 rounded-full blur-2xl"})]}),n.jsx(oc,{context:{setHeaderBreadcrumb:h}})]})]})]})}function q2(){const[t,e]=b.useState(""),[s,r]=b.useState(""),[a,i]=b.useState(!1),[o,l]=b.useState(""),[c,d]=b.useState(null),u=wa(),h=async f=>{if(f.preventDefault(),t!==s){d("Passwords do not match");return}d(null),i(!0),l("");try{const m=je(),{error:p}=await m.auth.updateUser({password:t});if(p)throw new Error(p.message||"Failed to update password");l("Password updated successfully! Redirecting to login..."),setTimeout(()=>u("/login"),3e3)}catch(m){d(m.message)}finally{i(!1)}};return n.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-forge-cream relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-forge-orange/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-40 right-20 w-48 h-48 bg-forge-orange/10 rounded-full blur-2xl"})]}),n.jsxs(X,{className:"w-full max-w-md bg-white/95 backdrop-blur-sm border border-forge-orange/20 shadow-xl relative z-10",children:[n.jsx(ve,{children:n.jsx(Ne,{className:"text-forge-dark text-2xl font-bold",children:"Update Your Password"})}),n.jsx(Z,{children:n.jsx("form",{onSubmit:h,children:n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(pt,{htmlFor:"password",className:"text-forge-dark font-medium",children:"New Password"}),n.jsx(ae,{id:"password",type:"password",required:!0,value:t,onChange:f=>e(f.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(pt,{htmlFor:"confirm-password",className:"text-forge-dark font-medium",children:"Confirm New Password"}),n.jsx(ae,{id:"confirm-password",type:"password",required:!0,value:s,onChange:f=>r(f.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),c&&n.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg border border-red-200",children:c}),o&&n.jsx("p",{className:"text-green-500 text-sm bg-green-50 p-3 rounded-lg border border-green-200",children:o}),n.jsx(z,{type:"submit",className:"w-full bg-forge-orange text-white hover:bg-forge-orange-light transition-all duration-200 shadow-lg hover:shadow-xl font-semibold py-3 rounded-xl",disabled:a,children:a?"Updating...":"Update Password"})]})})})]})]})}const W2=Xb,jx=b.forwardRef(({className:t,...e},s)=>n.jsx(Jb,{ref:s,className:E("border-b",t),...e}));jx.displayName="AccordionItem";const Nx=b.forwardRef(({className:t,children:e,...s},r)=>n.jsx(Zb,{className:"flex",children:n.jsxs(em,{ref:r,className:E("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...s,children:[e,n.jsx(lc,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Nx.displayName=em.displayName;const _x=b.forwardRef(({className:t,children:e,...s},r)=>n.jsx(tm,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:n.jsx("div",{className:E("pb-4 pt-0",t),children:e})}));_x.displayName=tm.displayName;function H2({course:t,currentLessonId:e,onLessonClick:s}){const{user:r}=We(),[a,i]=b.useState({});b.useEffect(()=>{if(!r)return;(async()=>{const d=t.modules.flatMap(m=>m.lessons.map(p=>p.id)),{data:u,error:h}=await supabase.from("user_progress").select("lesson_id, status").eq("user_id",r.id).in("lesson_id",d);if(h){console.error("Error fetching progress:",h);return}const f={};u.forEach(m=>{f[m.lesson_id]=m.status}),d.forEach(m=>{f[m]||(f[m]="not_started")}),i(f)})()},[r,t]);const o=c=>{switch(a[c]||"not_started"){case"completed":return n.jsx(Of,{className:"h-4 w-4 text-green-600"});case"in_progress":return n.jsx(Yb,{className:"h-4 w-4 text-blue-600"});default:return n.jsx(ac,{className:"h-4 w-4 text-gray-400"})}},l=c=>{const d=c.lessons.length;return{completed:c.lessons.filter(h=>a[h.id]==="completed").length,total:d}};return n.jsxs("div",{className:"p-4",children:[n.jsx("h2",{className:"text-xl font-bold mb-2",children:t.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t.description}),n.jsx(W2,{type:"multiple",defaultValue:t.modules.map(c=>c.id),className:"w-full",children:t.modules.map(c=>{const d=l(c);return n.jsxs(jx,{value:c.id,children:[n.jsx(Nx,{children:n.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[n.jsx("span",{children:c.title}),n.jsxs("span",{className:"text-sm text-gray-500",children:[d.completed,"/",d.total]})]})}),n.jsx(_x,{children:n.jsx("ul",{children:c.lessons.map(u=>n.jsx("li",{children:n.jsxs("button",{onClick:()=>s(u),className:`w-full text-left p-2 rounded-md flex items-center gap-2 transition-colors ${u.id===e?"bg-blue-100 border-l-4 border-blue-500":"hover:bg-gray-100"}`,children:[o(u.id),n.jsx("span",{className:"flex-1",children:u.title}),n.jsxs("span",{className:"text-xs text-gray-500",children:[u.xp_value," XP"]})]})},u.id))})})]},c.id)})})]})}function K2({content:t}){return n.jsx("div",{className:"prose prose-slate max-w-none",children:n.jsx(sm,{components:{a:({node:e,...s})=>n.jsx("a",{...s,target:"_blank",rel:"noopener noreferrer"})},children:t})})}function G2({videoUrl:t}){const[e,s]=b.useState(!0),[r,a]=b.useState(!1),i=h=>{if(!h||typeof h!="string")return null;h=h.trim();const f=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|m\.youtube\.com\/watch\?v=)([a-zA-Z0-9_-]{11})/,/youtu\.be\/([a-zA-Z0-9_-]{11})/,/youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/,/m\.youtube\.com\/watch\?v=([a-zA-Z0-9_-]{11})/];for(const m of f){const p=h.match(m);if(p&&p[1])return p[1]}return null},o=h=>{const f=new URLSearchParams({rel:"0",modestbranding:"1",controls:"1",showinfo:"0",fs:"1",cc_load_policy:"1",hl:"pt-BR",autoplay:"0",disablekb:"0",enablejsapi:"1",widget_referrer:window.location.origin});return`https://www.youtube.com/embed/${h}?${f.toString()}`},l=i(t);if(!l)return n.jsxs("div",{className:"flex flex-col items-center justify-center p-8 border border-red-200 rounded-lg bg-red-50",children:[n.jsx("div",{className:"text-red-600 font-medium mb-2",children:"URL de vdeo invlida"}),n.jsxs("div",{className:"text-red-500 text-sm text-center",children:["Por favor, fornea uma URL vlida do YouTube. Formatos suportados:",n.jsxs("ul",{className:"mt-2 text-xs space-y-1",children:[n.jsx("li",{children:" youtube.com/watch?v=ID_DO_VIDEO"}),n.jsx("li",{children:" youtu.be/ID_DO_VIDEO"}),n.jsx("li",{children:" youtube.com/embed/ID_DO_VIDEO"})]})]})]});const c=o(l),d=()=>{s(!1),a(!1)},u=()=>{s(!1),a(!0)};return n.jsxs("div",{className:"relative w-full",children:[n.jsxs("div",{className:"relative",style:{paddingBottom:"56.25%",height:0},children:[e&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 rounded-lg",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Carregando vdeo..."})]})}),r&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-50 rounded-lg",children:n.jsxs("div",{className:"text-center p-4",children:[n.jsx("div",{className:"text-red-600 font-medium mb-2",children:"Erro ao carregar vdeo"}),n.jsx("div",{className:"text-red-500 text-sm",children:"No foi possvel carregar o vdeo. Verifique a URL e sua conexo."}),n.jsx("button",{onClick:()=>{s(!0),a(!1);const h=document.querySelector("iframe[data-youtube-iframe]");h&&(h.src=c)},className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"Tentar novamente"})]})}),!r&&n.jsx("iframe",{"data-youtube-iframe":!0,src:c,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"absolute top-0 left-0 w-full h-full rounded-lg shadow-lg",title:"YouTube video player",onLoad:d,onError:u,loading:"lazy"})]}),n.jsx("div",{className:"mt-3 text-xs text-gray-500 text-center",children:"Player otimizado para experincia de aprendizado"})]})}const Sx=b.forwardRef(({className:t,...e},s)=>n.jsx(rm,{className:E("grid gap-2",t),...e,ref:s}));Sx.displayName=rm.displayName;const kx=b.forwardRef(({className:t,...e},s)=>n.jsx(nm,{ref:s,className:E("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:n.jsx(Qb,{className:"flex items-center justify-center",children:n.jsx(ac,{className:"h-2.5 w-2.5 fill-current text-current"})})}));kx.displayName=nm.displayName;function J2({quizData:t}){const[e,s]=b.useState(0),[r,a]=b.useState(null),[i,o]=b.useState(!1),[l,c]=b.useState(0),d=t[e],u=()=>{r===d.correctAnswer&&c(l+1),o(!0)},h=()=>{o(!1),a(null),e<t.length-1?s(e+1):alert(`Quiz Finished! Your score: ${l}/${t.length}`)};return d?n.jsxs(X,{className:"w-full max-w-2xl mx-auto",children:[n.jsxs(ve,{children:[n.jsx(Ne,{children:"Quiz"}),n.jsxs(dt,{children:["Question ",e+1," of ",t.length]})]}),n.jsxs(Z,{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:d.question}),n.jsx(Sx,{onValueChange:a,value:r,children:d.options.map((f,m)=>n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(kx,{value:f,id:`option-${m}`,disabled:i}),n.jsx(pt,{htmlFor:`option-${m}`,children:f})]},m))}),!i&&n.jsx(z,{onClick:u,disabled:!r,className:"mt-6",children:"Submit Answer"}),i&&n.jsxs("div",{className:"mt-6",children:[r===d.correctAnswer?n.jsx("p",{className:"text-green-600 font-semibold",children:"Correct!"}):n.jsxs("p",{className:"text-red-600 font-semibold",children:["Incorrect. The correct answer was: ",d.correctAnswer]}),n.jsx(z,{onClick:h,className:"mt-4",children:e<t.length-1?"Next Question":"Finish Quiz"})]})]})]}):n.jsx("div",{className:"text-red-500",children:"No quiz data available."})}function Z2({lesson:t,course:e,onLessonChange:s}){const{user:r}=We(),[a,i]=b.useState(!1),o=je();if(!t)return n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsx("p",{children:"Select a lesson to begin."})});const c=e?e.modules.flatMap(p=>p.lessons):[],d=c.findIndex(p=>p.id===t.id),u=d>0?c[d-1]:null,h=d<c.length-1?c[d+1]:null,f=async()=>{if(!r){H.error("You need to be logged in to track progress");return}i(!0);try{const{error:p}=await o.from("user_progress").upsert({user_id:r.id,lesson_id:t.id,status:"completed",completed_at:new Date().toISOString()},{onConflict:"user_id,lesson_id"});if(p)throw new Error(p.message||"Failed to save progress");H.success("Lesson marked as completed!"),h&&s(h)}catch(p){console.error("Error marking lesson as complete:",p),H.error("Error marking lesson as completed")}finally{i(!1)}},m=()=>{switch(t.lesson_type){case"text":return n.jsx(K2,{content:t.content});case"video":return n.jsx(G2,{videoUrl:t.content});case"quiz":return n.jsx(J2,{quizData:typeof t.content=="string"?JSON.parse(t.content):t.content});default:return n.jsxs("div",{className:"text-red-500",children:["Unsupported lesson type: ",t.lesson_type]})}};return n.jsxs("div",{className:"flex-1 flex flex-col p-6 bg-white",children:[n.jsxs("header",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold",children:t.title}),n.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Lesson ",d+1," of ",c.length,"  ",t.xp_value," XP"]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:m()}),n.jsxs("footer",{className:"mt-6 border-t pt-4 flex justify-between",children:[n.jsx(z,{variant:"outline",onClick:()=>u&&s(u),disabled:!u,children:"Previous lesson"}),n.jsx(z,{onClick:f,disabled:a,children:a?"Saving...":h?"Complete and Continue":"Mark as Completed"})]})]})}const yr={};function X2({courseTitle:t,lessonTitle:e,lessonType:s,lessonContent:r}){let a="";return typeof r=="string"?a=r:r&&(a=JSON.stringify(r)),`${`Course: ${t||""}
Lesson: ${e||""}
Type: ${s||""}`.trim()}

${a}`.slice(0,8e3)}function Y2(t){const e=b.useMemo(()=>X2(t),[t.courseTitle,t.lessonTitle,t.lessonType,t.lessonContent]),[s,r]=b.useState([]),[a,i]=b.useState([]),[o,l]=b.useState(""),[c,d]=b.useState(!1),[u,h]=b.useState(!1),f=b.useRef(null),m=yr==null?void 0:yr.VITE_OPENAI_API_KEY,p=(yr==null?void 0:yr.VITE_OPENAI_MODEL)||"gpt-4o-mini",x=async()=>{var y,N,w,_;if(!m)return null;try{const v=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({model:p,messages:[{role:"system",content:"You are an expert course assistant. Generate three concise, distinct, helpful questions based on the provided lesson context. Return ONLY a JSON array of three strings."},{role:"user",content:`Lesson context (may be truncated):

${e}`}],temperature:.7,max_tokens:256})}),j=await v.text();if(!v.ok)return console.error("AI suggest client error:",j),null;let S="";try{S=((_=(w=(N=(y=JSON.parse(j))==null?void 0:y.choices)==null?void 0:N[0])==null?void 0:w.message)==null?void 0:_.content)||""}catch{S=""}const A=S.replace(/```[a-z]*\n?/gi,"").replace(/```/g,"").trim();let R=[];const C=A.match(/\[[\s\S]*\]/);if(C)try{const O=JSON.parse(C[0]);Array.isArray(O)&&(R=O)}catch{}return R.length||(R=A.split(`
`).map(O=>O.replace(/^[-*\d.\s]+/,"").replace(/^\"|\",?$/g,"").replace(/,$/,"").trim()).filter(Boolean)),R.map(O=>O.replace(/^\"|\"$/g,"").trim()).slice(0,3)}catch(v){return console.error("AI suggest client exception:",v),null}};b.useEffect(()=>{(async()=>{h(!0),r([]);try{const N=await fetch("/api/ai-chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:"suggest",lessonContext:e})});if(!N.ok){console.error("AI suggest error status:",N.status,N.statusText);const _=await x();_&&r(_);return}let w=null;try{w=await N.json()}catch{console.error("AI suggest parse error (json)");return}Array.isArray(w==null?void 0:w.suggestions)&&r(w.suggestions)}catch(N){console.error("AI suggest exception:",N);const w=await x();w&&r(w)}finally{h(!1)}})()},[e]),b.useEffect(()=>{var y;(y=f.current)==null||y.scrollTo({top:f.current.scrollHeight,behavior:"smooth"})},[a]);const g=async y=>{var w,_,v;if(!y.trim())return;const N={role:"user",content:y.trim()};i(j=>[...j,N]),l(""),d(!0);try{const j=await fetch("/api/ai-chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:"chat",lessonContext:e,messages:[{role:"user",content:y.trim()}]})});if(!j.ok){if(m)try{const C=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({model:p,messages:[{role:"system",content:'You are "AI Instructor", a concise, friendly tutor for software and blockchain courses.'},{role:"system",content:`Lesson context: ${e}`},{role:"user",content:y.trim()}],temperature:.5,max_tokens:700})});if(C.ok){const O=await C.json().catch(()=>null),$=((v=(_=(w=O==null?void 0:O.choices)==null?void 0:w[0])==null?void 0:_.message)==null?void 0:v.content)||"";i(I=>[...I,{role:"assistant",content:$||"No reply"}]);return}}catch(C){console.error("AI chat client exception:",C)}const R=`Error: ${j.status} ${j.statusText}`;i(C=>[...C,{role:"assistant",content:R}]);return}let S=null;try{S=await j.json()}catch{S=null}const A=(S==null?void 0:S.reply)||"Sorry, I could not generate an answer.";i(R=>[...R,{role:"assistant",content:A}])}catch(j){console.error("AI chat exception:",j),i(S=>[...S,{role:"assistant",content:"There was an error contacting the AI service."}])}finally{d(!1)}};return n.jsxs(X,{className:"h-full max-h-full flex flex-col text-xs",children:[n.jsx(ve,{className:"pb-3",children:n.jsxs(Ne,{className:"text-sm flex items-center gap-2",children:[n.jsx(ey,{className:"h-4 w-4 text-forge-dark"}),n.jsx("span",{children:"AI Instructor"})]})}),n.jsxs(Z,{className:"flex-1 min-h-0 flex flex-col gap-3 text-xs",children:[n.jsxs("div",{ref:f,className:"flex-1 min-h-0 overflow-y-auto rounded-md border p-3 bg-white flex flex-col gap-2",children:[u&&n.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Loading suggestions..."}),!!s.length&&!u&&n.jsx("div",{className:"grid gap-2",children:s.map((y,N)=>n.jsxs("button",{type:"button",onClick:()=>g(y),className:"w-full text-left border rounded-lg p-3 bg-white hover:bg-forge-cream transition-colors shadow-sm",children:[n.jsx("div",{className:"text-[10px] text-muted-foreground mb-1",children:"Suggestion"}),n.jsx("div",{className:"text-xs",children:y})]},N))}),n.jsx("div",{className:"flex-1"}),a.length===0&&n.jsx("div",{className:"text-xs text-muted-foreground",children:"Hint: Click on a suggested question or ask yours."}),a.map((y,N)=>n.jsxs("div",{className:y.role==="user"?"text-right":"text-left",children:[n.jsx("div",{className:"text-[10px] uppercase tracking-wide mb-1 text-muted-foreground",children:y.role==="user"?"Me:":"Instructor:"}),n.jsx("div",{className:"inline-block rounded-lg px-3 py-2 text-xs break-words whitespace-pre-wrap text-left "+(y.role==="user"?"bg-forge-orange text-white max-w-[70%]":"bg-forge-cream text-forge-dark"),children:y.content})]},N)),c&&n.jsx("div",{className:"text-xs text-muted-foreground",children:"Thinking..."})]}),n.jsxs("form",{onSubmit:y=>{y.preventDefault(),g(o)},className:"flex gap-2",children:[n.jsx(ae,{placeholder:"Ask me about this lesson...",value:o,onChange:y=>l(y.target.value)}),n.jsx(z,{type:"submit",disabled:c,children:"Send"})]})]})]})}const tr=$f,Q2=Mf,Cx=b.forwardRef(({className:t,...e},s)=>n.jsx(zi,{ref:s,className:E("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Cx.displayName=zi.displayName;const ks=b.forwardRef(({className:t,children:e,...s},r)=>n.jsxs(Q2,{children:[n.jsx(Cx,{}),n.jsxs(qi,{ref:r,className:E("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[e,n.jsxs(Df,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Xs,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ks.displayName=qi.displayName;const Cs=({className:t,...e})=>n.jsx("div",{className:E("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Cs.displayName="DialogHeader";const Ps=({className:t,...e})=>n.jsx("div",{className:E("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ps.displayName="DialogFooter";const Ts=b.forwardRef(({className:t,...e},s)=>n.jsx(ja,{ref:s,className:E("text-lg font-semibold leading-none tracking-tight",t),...e}));Ts.displayName=ja.displayName;const _t=b.forwardRef(({className:t,...e},s)=>n.jsx(Wi,{ref:s,className:E("text-sm text-muted-foreground",t),...e}));_t.displayName=Wi.displayName;const eP=Je("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Px=b.forwardRef(({className:t,variant:e,...s},r)=>n.jsx("div",{ref:r,role:"alert",className:E(eP({variant:e}),t),...s}));Px.displayName="Alert";const tP=b.forwardRef(({className:t,...e},s)=>n.jsx("h5",{ref:s,className:E("mb-1 font-medium leading-none tracking-tight",t),...e}));tP.displayName="AlertTitle";const Tx=b.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:E("text-sm [&_p]:leading-relaxed",t),...e}));Tx.displayName="AlertDescription";const sP=Je("inline-flex items-center gap-1 rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white hover:bg-success/80",warning:"border-transparent bg-warning text-white hover:bg-warning/80",info:"border-transparent bg-info text-white hover:bg-info/80",error:"border-transparent bg-error text-white hover:bg-error/80",brand:"border-transparent bg-forge-orange text-white hover:bg-forge-orange-500","brand-subtle":"border-forge-orange/20 bg-forge-orange-50 text-forge-orange-600 hover:bg-forge-orange-100","coming-soon":"border-transparent bg-info-100 text-info-700 hover:bg-info-200",enrolled:"border-transparent bg-forge-orange-100 text-forge-orange-700 hover:bg-forge-orange-200 ring-1 ring-forge-orange/20"},size:{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"},shape:{rounded:"rounded-full",square:"rounded-md"}},defaultVariants:{variant:"default",size:"md",shape:"rounded"}});function Te({className:t,variant:e,size:s,shape:r,icon:a,iconPosition:i="left",children:o,...l}){return n.jsxs("div",{className:E(sP({variant:e,size:s,shape:r}),t),...l,children:[a&&i==="left"&&n.jsx(a,{className:"h-3 w-3"}),o,a&&i==="right"&&n.jsx(a,{className:"h-3 w-3"})]})}const $h=t=>(t??"").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"");function rP({moduleTitle:t,projects:e,submissions:s,submittingProjectId:r,onSubmit:a,communityLink:i}){const{t:o}=we(),[l,c]=b.useState(null),[d,u]=b.useState(""),[h,f]=b.useState(null),m=b.useMemo(()=>e.find(x=>x.id===l)??null,[l,e]);b.useEffect(()=>{if(!m){u(""),f(null);return}const x=s[m.id];u((x==null?void 0:x.repository_url)??""),f(null)},[m,s]);const p=async x=>{if(x.preventDefault(),!!m){if(!d.trim()){f(o("projects.errors.required"));return}try{if(!new URL(d.trim()).hostname.includes("github.com")){f(o("projects.errors.githubOnly"));return}}catch(g){console.error("Invalid repository url",g),f(o("projects.errors.invalidUrl"));return}f(null);try{await a(m.id,d.trim()),c(null)}catch(g){console.error("Project submission failed",g),f(o("projects.errors.submitFailed"))}}};return e.length===0?n.jsx(X,{className:"border border-dashed border-forge-cream/70 bg-white/80",children:n.jsxs(Z,{className:"flex items-center justify-between gap-3 p-5 text-sm text-forge-gray",children:[n.jsx("span",{children:o("projects.module.noProjects")}),n.jsx(z,{asChild:!0,variant:"outline",size:"sm",children:n.jsxs(ce,{to:i,children:[o("projects.module.communityLink"),n.jsx(am,{className:"ml-2 h-4 w-4"})]})})]})}):n.jsxs(X,{className:"border border-forge-cream/70 bg-white/90",children:[n.jsxs(ve,{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ne,{className:"flex items-center gap-2 text-forge-dark",children:[n.jsx(Hi,{className:"h-5 w-5 text-forge-orange"}),o("projects.module.title",{module:t})]}),n.jsx("p",{className:"text-sm text-forge-gray",children:o("projects.module.subtitle")})]}),n.jsx(z,{asChild:!0,variant:"outline",size:"sm",children:n.jsxs(ce,{to:i,children:[o("projects.module.communityLink"),n.jsx(ty,{className:"ml-2 h-4 w-4"})]})})]}),n.jsx(Z,{className:"space-y-4",children:e.map(x=>{const g=s[x.id];return n.jsx("div",{className:"rounded-lg border border-forge-cream/60 bg-white/80 p-4 shadow-sm",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"rounded-full bg-forge-orange/10 px-2 py-0.5 text-xs font-medium text-forge-orange",children:o("projects.module.projectOrder",{order:x.order})}),n.jsx("h3",{className:"text-lg font-semibold text-forge-dark",children:x.title}),typeof x.xp_value=="number"&&n.jsx(Te,{variant:"secondary",className:"bg-forge-cream text-forge-dark",children:o("projects.module.xpValue",{xp:x.xp_value})})]}),x.description&&n.jsx("div",{className:"prose prose-sm max-w-none text-forge-gray",dangerouslySetInnerHTML:{__html:$h(x.description)}})]}),n.jsxs("div",{className:"flex flex-col items-start gap-2 md:items-end",children:[n.jsx(z,{onClick:()=>c(x.id),children:o(g?"projects.module.updateSubmission":"projects.module.startProject")}),g&&n.jsxs("div",{className:"text-xs text-forge-gray/80",children:[o("projects.module.yourSubmission")," ",n.jsx("a",{href:g.repository_url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-forge-orange hover:underline",children:g.repository_url})]})]})]})},x.id)})}),n.jsx(tr,{open:!!m,onOpenChange:x=>!x&&c(null),children:n.jsxs(ks,{className:"max-w-2xl",children:[n.jsxs(Cs,{children:[n.jsx(Ts,{children:m?o("projects.module.dialog.title",{project:m.title}):""}),n.jsx(_t,{children:o("projects.module.dialog.subtitle")})]}),m&&n.jsxs("form",{className:"space-y-5",onSubmit:p,children:[m.description&&n.jsx("div",{className:"max-h-64 overflow-y-auto rounded-md border border-forge-cream/60 bg-forge-cream/20 p-4 text-sm text-forge-dark",children:n.jsx("div",{dangerouslySetInnerHTML:{__html:$h(m.description)}})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-forge-dark",htmlFor:"repository-url",children:o("projects.module.dialog.repositoryLabel")}),n.jsx(ae,{id:"repository-url",value:d,onChange:x=>u(x.target.value),placeholder:o("projects.module.dialog.repositoryPlaceholder")}),n.jsx("p",{className:"text-xs text-forge-gray/80",children:o("projects.module.dialog.repositoryHelp")})]}),h&&n.jsx(Px,{variant:"destructive",children:n.jsx(Tx,{children:h})}),n.jsxs(Ps,{children:[n.jsx(z,{type:"button",variant:"outline",onClick:()=>c(null),children:o("common.buttons.cancel")}),n.jsx(z,{type:"submit",disabled:r===m.id,children:r===m.id?o("projects.module.dialog.submitting"):o("projects.module.dialog.submit")})]})]})]})})]})}function nP(){var w;const{courseId:t}=cc(),[e,s]=b.useState(null),r=je(),a=St(),{setHeaderBreadcrumb:i}=sy(),{user:o}=We(),{t:l}=we(),{data:c,isLoading:d}=Le({queryKey:["courseView",t],enabled:!!t,queryFn:async()=>{const{data:_,error:v}=await r.from("courses").select(`
          id, title, description,
          modules:modules(id, title, order,
            lessons:lessons(id, title, content, lesson_type, order, xp_value),
            projects:module_projects(id, title, description, xp_value, is_active, created_at)
          )
        `).eq("id",t).single();if(v)throw new Error(v.message||"Failed to load course");const j=_,S={id:j.id,title:j.title,description:j.description,modules:(j.modules??[]).slice().sort((A,R)=>(A.order??0)-(R.order??0)).map(A=>({id:A.id,title:A.title,lessons:(A.lessons??[]).slice().sort((R,C)=>(R.order??0)-(C.order??0)).map(R=>({id:R.id,title:R.title,content:R.content,lesson_type:R.lesson_type,xp_value:R.xp_value??0})),projects:(A.projects??[]).slice().filter(R=>R.is_active??!0).sort((R,C)=>{const O=R.created_at?new Date(R.created_at).getTime():0,$=C.created_at?new Date(C.created_at).getTime():0;return O!==$?O-$:R.title.localeCompare(C.title)}).map((R,C)=>({id:R.id,title:R.title,description:R.description??"",order:C+1,xp_value:R.xp_value??null}))}))};return S.modules.length&&S.modules[0].lessons.length&&s(S.modules[0].lessons[0]),S}}),u=b.useMemo(()=>c?c.modules.flatMap(_=>_.projects.map(v=>v.id)):[],[c]),h=b.useMemo(()=>u.length===0?[]:Array.from(new Set(u)).sort(),[u]),f=b.useMemo(()=>h.join(","),[h]),{data:m={}}=Le({queryKey:["module-project-submissions",o==null?void 0:o.id,f],enabled:!!(o&&h.length>0),queryFn:async()=>{if(!o)return{};const{data:_,error:v}=await r.from("module_project_submissions").select("project_id, repository_url, submitted_at").eq("user_id",o.id).in("project_id",h);if(v)throw v;const j={};for(const S of _??[])j[S.project_id]={repository_url:S.repository_url,submitted_at:S.submitted_at};return j},onError:_=>{console.error("Failed to load project submissions",_),H.error(l("projects.notifications.fetchError"))}}),p=Ae({mutationFn:async({projectId:_,repositoryUrl:v})=>{if(!o)throw new Error("AUTH_REQUIRED");const{error:j}=await r.from("module_project_submissions").upsert({project_id:_,user_id:o.id,repository_url:v,submitted_at:new Date().toISOString()},{onConflict:"project_id,user_id"});if(j)throw j},onSuccess:(_,v)=>{a.invalidateQueries({queryKey:["module-project-submissions",o==null?void 0:o.id,f]}),H.success(l(v.isUpdate?"projects.notifications.updated":"projects.notifications.submitted"))},onError:_=>{if(_ instanceof Error&&_.message==="AUTH_REQUIRED"){H.error(l("projects.errors.loginRequired"));return}console.error("Project submission failed",_),H.error(l("projects.notifications.submitError"))}}),x=b.useCallback(async(_,v)=>{const j=!!m[_];await p.mutateAsync({projectId:_,repositoryUrl:v,isUpdate:j})},[m,p]),g=((w=p.variables)==null?void 0:w.projectId)??null;b.useEffect(()=>{if(!c)return;const _=n.jsx(ad,{children:n.jsxs(id,{children:[n.jsx(Er,{children:n.jsx(Ai,{asChild:!0,children:n.jsx(ce,{to:Mt,children:l("nav.dashboard")})})}),n.jsx(Bn,{}),n.jsx(Er,{children:n.jsx(Ai,{asChild:!0,children:n.jsx(ce,{to:ts,children:l("nav.paths")})})}),n.jsx(Bn,{}),n.jsx(Er,{children:n.jsx(Ri,{children:c.title})}),e&&n.jsxs(n.Fragment,{children:[n.jsx(Bn,{}),n.jsx(Er,{children:n.jsx(Ri,{children:e.title})})]})]})});return i(_),()=>i(null)},[c==null?void 0:c.title,e==null?void 0:e.title,i,l]);const y=b.useMemo(()=>!c||!e?null:c.modules.find(_=>_.lessons.some(v=>v.id===e.id))??null,[c,e]),N=b.useMemo(()=>!y||!e||y.lessons.length===0?!1:y.lessons[y.lessons.length-1].id===e.id,[e,y]);return n.jsxs("div",{className:"flex flex-col gap-6 xl:flex-row",children:[n.jsx("div",{className:"w-full xl:w-80 xl:shrink-0 xl:border xl:rounded-md xl:bg-white",children:d||!c?n.jsx("div",{className:"p-4 text-gray-500",children:l("common.buttons.loading")}):n.jsx(H2,{course:c,currentLessonId:e==null?void 0:e.id,onLessonClick:s})}),n.jsxs("div",{className:"flex-1 space-y-6",children:[n.jsx("div",{className:"border rounded-md bg-white min-h-[60vh]",children:n.jsx(Z2,{lesson:e,course:c??null,onLessonChange:s})}),y&&N&&n.jsx(rP,{moduleTitle:y.title,projects:y.projects,submissions:m,submittingProjectId:g,onSubmit:x,communityLink:Vn})]}),n.jsx("div",{className:"hidden w-full xl:flex xl:flex-col xl:w-96 xl:shrink-0 xl:sticky xl:top-6 xl:self-start xl:h-[calc(100vh-7rem)] xl:max-h-[calc(100vh-7rem)]",children:n.jsx(Y2,{courseTitle:c==null?void 0:c.title,lessonTitle:e==null?void 0:e.title,lessonType:e==null?void 0:e.lesson_type,lessonContent:e==null?void 0:e.content})})]})}const Fh=(t,e)=>{const s="relative group inline-flex items-center justify-center overflow-hidden rounded-2xl font-semibold transition-all duration-200 transform hover:scale-[1.02]",r={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},a={primary:"bg-forge-orange text-white hover:bg-forge-orange-light shadow-lg hover:shadow-xl",secondary:"bg-forge-dark text-white hover:bg-forge-dark/90 shadow-lg hover:shadow-xl",outline:"border-2 border-forge-orange text-forge-orange hover:bg-forge-orange hover:text-white",ghost:"text-forge-dark hover:bg-forge-cream/50"};return`${s} ${r[e]} ${a[t]}`},ft=({children:t,variant:e="primary",size:s="md",icon:r,withGradient:a=!1,withIcon:i=!1,className:o,asChild:l=!1,...c})=>{var f,m;const d=a&&n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-forge-orange to-forge-orange-light opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),h=r||i&&!r&&n.jsx(rc,{size:16});if(l&&b.isValidElement(t)){const p=t,x=E(Fh(e,s),(f=p.props)==null?void 0:f.className,o);return b.cloneElement(p,{...c,className:x},n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"relative z-10 inline-flex items-center gap-2",children:[h,(m=p.props)==null?void 0:m.children]}),d]}))}return n.jsxs("button",{className:E(Fh(e,s),o),...c,children:[n.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[h,t]}),d]})};function aP(){const{pathId:t}=cc(),{user:e}=We(),s=St(),r=je(),{t:a}=we(),{data:i,isLoading:o,error:l}=Le({queryKey:["pathOverview",t,e==null?void 0:e.id],enabled:!!t,queryFn:async()=>{const{data:h,error:f}=await r.from("learning_paths").select("id, title, description, courses(id, title, description)").eq("id",t).single();if(f)throw f;const m={id:h.id,title:h.title,description:h.description,courses:(h.courses||[]).map(x=>({id:x.id,title:x.title,description:x.description}))};let p=!1;if(e){const{data:x,error:g}=await r.from("user_enrollments").select("learning_path_id").eq("user_id",e.id).eq("learning_path_id",t).eq("is_active",!0).maybeSingle();g||(p=!!x)}return{path:m,isEnrolled:p}}}),c=Ae({mutationFn:async()=>{if(!e||!t)throw new Error(a("dashboard.errors.notAuthenticated"));const{error:h}=await r.from("user_enrollments").insert({user_id:e.id,learning_path_id:t});if(h)throw new Error(h.message||a("dashboard.errors.failedToEnroll"))},onSuccess:()=>{H.success(a("dashboard.pathOverview.continue")),s.invalidateQueries({queryKey:["availablePaths"]}),s.invalidateQueries({queryKey:["myPaths"]}),s.invalidateQueries({queryKey:["pathOverview"]})},onError:()=>H.error(a("dashboard.enrollError"))});if(o)return n.jsx("div",{className:"space-y-4",children:[...Array(2)].map((h,f)=>n.jsx(X,{children:n.jsx(Z,{className:"p-6",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),n.jsx("div",{className:"h-20 bg-gray-100 rounded"})]})})},f))});if(l&&console.error("Supabase error loading path overview:",l),!i)return n.jsx("div",{className:"text-gray-500",children:a("dashboard.pathOverview.notFound")});const{path:d,isEnrolled:u}=i;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("header",{children:[n.jsx("div",{className:"inline-flex items-center px-2 py-1 rounded bg-forge-orange/10 text-forge-orange text-xs font-medium",children:a("dashboard.pathOverview.badge")}),n.jsx("h1",{className:"text-3xl font-bold mt-2 text-forge-dark",children:d.title}),d.description&&n.jsx("p",{className:"mt-2 text-forge-gray",children:d.description})]}),u?n.jsx("div",{children:n.jsx(ft,{asChild:!0,withGradient:!0,children:n.jsx(ce,{to:d.courses[0]?Bl(d.courses[0].id):"#",children:a("dashboard.pathOverview.continue")})})}):n.jsx("div",{children:n.jsx(ft,{onClick:()=>c.mutate(),disabled:!e||c.isPending,withGradient:!0,children:c.isPending?a("dashboard.enrolling"):a("dashboard.enroll")})}),n.jsxs("section",{className:"space-y-3",children:[n.jsx("h2",{className:"text-xl font-semibold",children:a("dashboard.pathOverview.courses")}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.courses.map(h=>n.jsxs(X,{className:"border-forge-cream",children:[n.jsxs(ve,{children:[n.jsx(Ne,{className:"text-forge-dark",children:h.title}),h.description&&n.jsx(dt,{className:"text-forge-gray",children:h.description})]}),n.jsx(Z,{children:n.jsx(ft,{asChild:!0,variant:"outline",className:"w-full",children:n.jsx(ce,{to:Bl(h.id),children:a("dashboard.viewDetails")})})})]},h.id))})]})]})}function iP({className:t,showHeader:e=!0,showFooter:s=!1,contentLines:r=3,showAvatar:a=!1,...i}){return n.jsxs(X,{className:E("",t),...i,children:[e&&n.jsx(ve,{className:"space-y-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(Dt,{className:"h-6 w-3/4"}),n.jsx(Dt,{className:"h-4 w-1/2"})]}),a&&n.jsx(b2,{size:"md"})]})}),n.jsx(Z,{className:e?"pt-0":"",children:n.jsx(x2,{lines:r})}),s&&n.jsx(Z,{className:"pt-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx(Dt,{className:"h-9 w-24"}),n.jsx(Dt,{className:"h-9 w-24"})]})})]})}function od({className:t,count:e=6,columns:s={sm:1,md:2,lg:3},aspectRatio:r="video",showContent:a=!0,...i}){const o={square:"aspect-square",video:"aspect-video",portrait:"aspect-[3/4]"},l=[s.sm&&`grid-cols-${s.sm}`,s.md&&`md:grid-cols-${s.md}`,s.lg&&`lg:grid-cols-${s.lg}`].filter(Boolean).join(" ");return n.jsx("div",{className:E("grid gap-card-gap",l,t),...i,children:Array.from({length:e}).map((c,d)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx(Dt,{className:E("w-full",o[r]),shape:"lg"}),a&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Dt,{className:"h-5 w-3/4"}),n.jsx(Dt,{className:"h-4 w-1/2"})]})]},d))})}function Ex({limit:t,className:e}){const{user:s}=We(),{t:r}=we(),[a,i]=b.useState(null),o=St(),l=je(),{data:c=[],isLoading:d}=Le({queryKey:["availablePaths",s==null?void 0:s.id],enabled:!0,staleTime:6e4,refetchOnWindowFocus:!1,keepPreviousData:!0,queryFn:async()=>{const{data:m,error:p}=await l.from("learning_paths").select(`
          id, title, description, status,
          courses!inner(id)
        `).eq("status","published");if(p)throw p;let x=[];if(s){const{data:g,error:y}=await l.from("user_enrollments").select("learning_path_id").eq("user_id",s.id).eq("is_active",!0);y?console.error("Error fetching enrollments:",y):x=(g||[]).map(N=>N.learning_path_id)}return(m||[]).map(g=>({id:g.id,title:g.title,description:g.description,status:g.status,isEnrolled:x.includes(g.id),courseCount:g.courses.length}))}}),u=Ae({mutationFn:async m=>{if(!s)throw new Error(r("dashboard.errors.notAuthenticated"));const{error:p}=await l.from("user_enrollments").insert({user_id:s.id,learning_path_id:m});if(p)throw new Error(p.message||r("dashboard.errors.failedToEnroll"));return m},onMutate:m=>{i(m)},onSuccess:()=>{H.success(r("dashboard.enrollSuccess")),o.invalidateQueries({queryKey:["availablePaths"]}),o.invalidateQueries({queryKey:["myPaths"]})},onError:m=>{console.error("Error enrolling:",m),H.error(r("dashboard.enrollError"))},onSettled:()=>i(null)}),h=async m=>{if(!s){H.error(r("dashboard.mustLoginToEnroll"));return}u.mutate(m)};if(d)return n.jsx(od,{count:t||6,columns:{sm:1,md:2,lg:3},aspectRatio:"portrait",showContent:!0});const f=typeof t=="number"&&t>0?c.slice(0,t):c;return n.jsx("div",{className:e,children:n.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 items-stretch",children:f.map(m=>n.jsxs(X,{className:`relative overflow-hidden border-forge-cream/80 hover:shadow-md transition-shadow h-full min-h-[300px] flex flex-col ${m.isEnrolled?"ring-1 ring-forge-orange/20":""}`,children:[m.isEnrolled&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(Te,{variant:"enrolled",size:"sm",icon:rc,iconPosition:"left",children:r("dashboard.availablePaths.enrolledBadge")})}),n.jsxs(ve,{className:"space-y-2",children:[n.jsxs(Ne,{className:"flex items-start gap-2 text-forge-dark tracking-normal text-lg md:text-xl leading-tight line-clamp-2 break-words",children:[n.jsx(ct,{className:"h-4 w-4 mt-0.5 text-forge-orange shrink-0"}),n.jsx("span",{children:m.title})]}),n.jsx(dt,{className:"text-[13px] text-forge-gray line-clamp-3 min-h-[3.75rem]",children:m.description}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-forge-gray",children:[n.jsx(Kr,{className:"h-3.5 w-3.5 text-forge-orange"}),r("dashboard.availablePaths.courses",{count:m.courseCount||0})]})]}),n.jsx(Z,{className:"space-y-2 mt-auto",children:m.isEnrolled?n.jsx(ft,{className:"w-full text-sm py-2",size:"sm",withGradient:!0,asChild:!0,children:n.jsx(ce,{to:Ei(m.id),children:r("common.buttons.continueLearning")})}):n.jsxs(n.Fragment,{children:[n.jsx(ft,{onClick:()=>h(m.id),disabled:a===m.id||!s,className:"w-full text-sm py-2",variant:"outline",size:"sm",children:a===m.id?r("dashboard.enrolling"):r("dashboard.enroll")}),s&&n.jsx(ft,{variant:"ghost",size:"sm",className:"w-full",asChild:!0,children:n.jsx(ce,{to:Ei(m.id),children:r("dashboard.viewDetails")})})]})})]},m.id))})})}function oP({className:t="",variant:e="default",children:s}){const{signOut:r,loading:a}=xc(),i=async()=>{try{await r()}catch(o){console.error("Error signing out:",o)}};return e==="minimal"?n.jsx("button",{onClick:i,disabled:a,className:`text-sm text-gray-600 hover:text-gray-900 disabled:opacity-50 ${t}`,children:s||"Sign out"}):e==="icon"?n.jsx("button",{onClick:i,disabled:a,className:`p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full disabled:opacity-50 ${t}`,title:"Sign out",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}):n.jsx("button",{onClick:i,disabled:a,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-forge-orange hover:bg-forge-orange-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-forge-orange disabled:opacity-50 disabled:cursor-not-allowed ${t}`,children:a?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing out..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),s||"Sign out"]})})}const lP=()=>{const{t}=we(),[e,s]=b.useState(!1),r=Ys(),{user:a,loading:i}=We();if(i)return null;const o=r.pathname.startsWith("/dashboard"),l=r.pathname==="/login"||r.pathname==="/signup"||r.pathname==="/forgot-password"||r.pathname==="/login-oauth";if(o)return null;if(l)return n.jsx("nav",{className:"fixed top-4 left-0 right-0 z-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:n.jsx("div",{className:"flex justify-start items-center h-20",children:n.jsx(ce,{to:"/",className:"flex items-center space-x-3",children:n.jsx("img",{src:"https://cdn.builder.io/api/v1/assets/a59c9d8d677c4c99bcaffef64866607b/forgecollege-2c35f0?format=webp&width=800",alt:"Forge College",className:"h-12 w-auto",style:{minWidth:"120px"}})})})})});const c=[{path:"/old/hidden/index",label:t("nav.forProfessionals")},{path:"/companies",label:t("nav.forCompanies")},{path:"/investors",label:t("nav.forInvestors")}];return n.jsx("nav",{className:"fixed top-4 left-0 right-0 z-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[n.jsxs("div",{className:"flex justify-between items-center h-20",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"md:hidden",children:n.jsx("button",{onClick:()=>s(!e),className:"text-forge-dark hover:text-forge-orange transition-colors p-2 bg-forge-cream/95 backdrop-blur-sm rounded-xl border border-forge-orange/20 shadow-lg","aria-label":e?"Close menu":"Open menu",children:e?n.jsx(Xs,{size:24}):n.jsx(Qf,{size:24})})}),n.jsx(ce,{to:"/",className:"flex items-center space-x-3",children:n.jsx("img",{src:"https://cdn.builder.io/api/v1/assets/a59c9d8d677c4c99bcaffef64866607b/forgecollege-2c35f0?format=webp&width=800",alt:"Forge College",className:"h-12 w-auto",style:{minWidth:"120px"}})})]}),n.jsx("div",{className:"hidden md:flex items-center bg-forge-cream/95 backdrop-blur-sm rounded-2xl border border-forge-orange/20 shadow-lg overflow-hidden",children:c.map((d,u)=>n.jsxs("div",{className:"flex items-center",children:[n.jsxs(ce,{to:d.path,className:`px-6 py-3 text-sm font-semibold transition-all duration-300 relative group ${r.pathname===d.path?"text-white":"text-forge-gray hover:text-forge-dark"}`,children:[r.pathname===d.path&&n.jsx("div",{className:"absolute inset-0 bg-forge-orange rounded-full m-1 -z-10"}),r.pathname!==d.path&&n.jsx("div",{className:"absolute inset-0 bg-forge-dark/20 rounded-full m-1 -z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),d.label]}),u<c.length-1&&n.jsx("div",{className:"h-6 w-px bg-forge-gray/30"})]},d.path))}),n.jsx("div",{className:"hidden md:flex items-center space-x-3",children:a?n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ce,{to:"/dashboard",className:"bg-forge-dark text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-forge-dark/80 transition-colors shadow-lg",children:t("nav.dashboard")}),n.jsx(zl,{})]}):n.jsxs(n.Fragment,{children:[n.jsx(ce,{to:"/login",className:"text-forge-orange transition-colors px-4 py-2 rounded-lg text-sm font-medium hover:bg-forge-cream/50",children:t("common.buttons.signIn")}),n.jsx(ce,{to:"/signup",className:"bg-forge-orange text-white px-6 py-3 rounded-full text-sm font-semibold hover:bg-forge-orange-dark transition-colors shadow-lg border border-forge-orange",children:t("common.buttons.signUp")})]})}),n.jsx("div",{className:"md:hidden w-6"})]}),e&&n.jsxs("div",{className:"md:hidden py-6 bg-forge-cream/95 backdrop-blur-sm rounded-2xl mx-4 mt-4 border border-forge-orange/20 shadow-lg overflow-hidden",children:[c.map((d,u)=>n.jsxs("div",{children:[n.jsxs(ce,{to:d.path,onClick:()=>s(!1),className:`block py-4 px-6 text-base font-semibold transition-colors relative group ${r.pathname===d.path?"text-white":"text-forge-gray hover:text-forge-dark"}`,children:[r.pathname===d.path&&n.jsx("div",{className:"absolute inset-0 bg-forge-orange rounded-full m-1 -z-10"}),r.pathname!==d.path&&n.jsx("div",{className:"absolute inset-0 bg-forge-dark/20 rounded-full m-1 -z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),d.label]}),u<c.length-1&&n.jsx("div",{className:"h-px bg-forge-gray/30 mx-6"})]},d.path)),a?n.jsxs("div",{className:"pt-4 mt-4 space-y-3 px-4",children:[n.jsx(ce,{to:"/dashboard",onClick:()=>s(!1),className:"block text-center py-3 px-6 rounded-lg text-base font-medium bg-forge-dark text-white hover:bg-forge-dark/80 transition-colors shadow-lg",children:t("nav.dashboard")}),n.jsx("div",{children:n.jsx(zl,{})}),n.jsx(oP,{className:"w-full py-3 rounded-lg"})]}):n.jsxs("div",{className:"pt-4 mt-4 space-y-3 px-4",children:[n.jsx(ce,{to:"/login",onClick:()=>s(!1),className:"block text-center py-3 px-6 rounded-lg text-base font-medium text-forge-orange hover:bg-forge-orange/10 transition-colors",children:t("common.buttons.signIn")}),n.jsx(ce,{to:"/signup",onClick:()=>s(!1),className:"block text-center py-3 px-6 rounded-full text-base font-semibold bg-forge-orange text-white hover:bg-forge-orange-dark transition-colors shadow-lg border border-forge-orange",children:t("common.buttons.signUp")})]})]})]})})};function cP(){return n.jsxs("div",{children:[n.jsx(lP,{}),n.jsx("main",{children:n.jsx(oc,{})})]})}function Ge(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function dP(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Ka=43200,Vh=1440;let uP={};function hP(){return uP}function Bh(t){const e=Ge(t),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),+t-+s}function fi(t,e){const s=Ge(t),r=Ge(e),a=s.getTime()-r.getTime();return a<0?-1:a>0?1:a}function fP(t){return dP(t,Date.now())}function mP(t,e){const s=Ge(t),r=Ge(e),a=s.getFullYear()-r.getFullYear(),i=s.getMonth()-r.getMonth();return a*12+i}function pP(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function gP(t,e){return+Ge(t)-+Ge(e)}function xP(t){const e=Ge(t);return e.setHours(23,59,59,999),e}function bP(t){const e=Ge(t),s=e.getMonth();return e.setFullYear(e.getFullYear(),s+1,0),e.setHours(23,59,59,999),e}function yP(t){const e=Ge(t);return+xP(e)==+bP(e)}function vP(t,e){const s=Ge(t),r=Ge(e),a=fi(s,r),i=Math.abs(mP(s,r));let o;if(i<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*i);let l=fi(s,r)===-a;yP(Ge(t))&&i===1&&fi(t,r)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function wP(t,e,s){const r=gP(t,e)/1e3;return pP(s==null?void 0:s.roundingMethod)(r)}const jP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NP=(t,e,s)=>{let r;const a=jP[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function Ho(t){return(e={})=>{const s=e.width?String(e.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const _P={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CP={date:Ho({formats:_P,defaultWidth:"full"}),time:Ho({formats:SP,defaultWidth:"full"}),dateTime:Ho({formats:kP,defaultWidth:"full"})},PP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TP=(t,e,s,r)=>PP[t];function yn(t){return(e,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=s!=null&&s.width?String(s.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=s!=null&&s.width?String(s.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const EP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},AP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},OP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},LP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MP=(t,e)=>{const s=Number(t),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},DP={ordinalNumber:MP,era:yn({values:EP,defaultWidth:"wide"}),quarter:yn({values:AP,defaultWidth:"wide",argumentCallback:t=>t-1}),month:yn({values:RP,defaultWidth:"wide"}),day:yn({values:OP,defaultWidth:"wide"}),dayPeriod:yn({values:LP,defaultWidth:"wide",formattingValues:IP,defaultFormattingWidth:"wide"})};function vn(t){return(e,s={})=>{const r=s.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?FP(l,h=>h.test(o)):$P(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function $P(t,e){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return s}function FP(t,e){for(let s=0;s<t.length;s++)if(e(t[s]))return s}function VP(t){return(e,s={})=>{const r=e.match(t.matchPattern);if(!r)return null;const a=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const BP=/^(\d+)(th|st|nd|rd)?/i,UP=/\d+/i,zP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qP={any:[/^b/i,/^(a|c)/i]},WP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HP={any:[/1/i,/2/i,/3/i,/4/i]},KP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},JP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QP={ordinalNumber:VP({matchPattern:BP,parsePattern:UP,valueCallback:t=>parseInt(t,10)}),era:vn({matchPatterns:zP,defaultMatchWidth:"wide",parsePatterns:qP,defaultParseWidth:"any"}),quarter:vn({matchPatterns:WP,defaultMatchWidth:"wide",parsePatterns:HP,defaultParseWidth:"any",valueCallback:t=>t+1}),month:vn({matchPatterns:KP,defaultMatchWidth:"wide",parsePatterns:GP,defaultParseWidth:"any"}),day:vn({matchPatterns:JP,defaultMatchWidth:"wide",parsePatterns:ZP,defaultParseWidth:"any"}),dayPeriod:vn({matchPatterns:XP,defaultMatchWidth:"any",parsePatterns:YP,defaultParseWidth:"any"})},eT={code:"en-US",formatDistance:NP,formatLong:CP,formatRelative:TP,localize:DP,match:QP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tT(t,e,s){const r=hP(),a=(s==null?void 0:s.locale)??r.locale??eT,i=2520,o=fi(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o});let c,d;o>0?(c=Ge(e),d=Ge(t)):(c=Ge(t),d=Ge(e));const u=wP(d,c),h=(Bh(d)-Bh(c))/1e3,f=Math.round((u-h)/60);let m;if(f<2)return s!=null&&s.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<Vh){const p=Math.round(f/60);return a.formatDistance("aboutXHours",p,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<Ka){const p=Math.round(f/Vh);return a.formatDistance("xDays",p,l)}else if(f<Ka*2)return m=Math.round(f/Ka),a.formatDistance("aboutXMonths",m,l)}if(m=vP(d,c),m<12){const p=Math.round(f/Ka);return a.formatDistance("xMonths",p,l)}else{const p=m%12,x=Math.trunc(m/12);return p<3?a.formatDistance("aboutXYears",x,l):p<9?a.formatDistance("overXYears",x,l):a.formatDistance("almostXYears",x+1,l)}}function ns(t,e){return tT(t,fP(t),e)}const sT=Je("flex flex-col items-center justify-center text-center",{variants:{size:{sm:"py-8 px-4",md:"py-12 px-6",lg:"py-16 px-8"}},defaultVariants:{size:"md"}}),rT=Je("rounded-full flex items-center justify-center mb-4",{variants:{variant:{default:"bg-muted text-muted-foreground",search:"bg-info-100 text-info-600",error:"bg-error-100 text-error-600","no-data":"bg-muted text-muted-foreground",success:"bg-success-100 text-success-600"},size:{sm:"h-12 w-12",md:"h-16 w-16",lg:"h-20 w-20"}},defaultVariants:{variant:"default",size:"md"}}),nT={default:kd,search:ay,error:ny,"no-data":ry,success:kd},ao=b.forwardRef(({className:t,size:e="md",variant:s="default",icon:r,title:a,description:i,action:o,secondaryAction:l,iconSize:c,...d},u)=>{const h=r||nT[s||"default"],f=c||e,m={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-10 w-10"};return n.jsxs("div",{ref:u,className:E(sT({size:e}),t),role:"status","aria-live":"polite",...d,children:[n.jsx("div",{className:E(rT({variant:s,size:f})),"aria-hidden":"true",children:n.jsx(h,{className:m[f||"md"]})}),n.jsx("h3",{className:E("font-semibold tracking-tight text-foreground",e==="sm"&&"text-lg",e==="md"&&"text-xl",e==="lg"&&"text-2xl"),children:a}),i&&n.jsx("p",{className:E("mt-2 text-muted-foreground max-w-md",e==="sm"&&"text-sm",e==="md"&&"text-base",e==="lg"&&"text-lg"),children:i}),(o||l)&&n.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-3 items-center justify-center",children:[o&&n.jsxs(z,{onClick:o.onClick,variant:o.variant||"default",className:"w-full sm:w-auto","aria-label":o.label,children:[o.icon&&n.jsx(o.icon,{className:"mr-2 h-4 w-4"}),o.label]}),l&&n.jsxs(z,{onClick:l.onClick,variant:l.variant||"outline",className:"w-full sm:w-auto","aria-label":l.label,children:[l.icon&&n.jsx(l.icon,{className:"mr-2 h-4 w-4"}),l.label]})]})]})});ao.displayName="EmptyState";function Ax({limit:t,className:e}){const s=je(),{data:r=[],isLoading:a}=Le({queryKey:["formations"],enabled:!0,staleTime:6e4,refetchOnWindowFocus:!1,keepPreviousData:!0,queryFn:async()=>{const{data:o,error:l}=await s.from("formations").select(`
          id, title, description, thumbnail_url, created_at, status,
          formation_paths(
            order,
            learning_paths(id, title)
          )
        `).in("status",["published","coming_soon"]).order("created_at",{ascending:!1});if(l)throw l;return(o??[]).map(d=>{const u=(d.formation_paths??[]).map(h=>h.learning_paths?{id:h.learning_paths.id,title:h.learning_paths.title,order:h.order??0}:null).filter(h=>!!h).sort((h,f)=>h.order-f.order);return{id:d.id,title:d.title,description:d.description,thumbnail_url:d.thumbnail_url,status:d.status,paths_count:u.length,paths:u,created_at:d.created_at}})}}),i=t?r.slice(0,t):r;return a?n.jsx(od,{count:t||3,columns:{sm:1,md:2,lg:3},aspectRatio:"portrait",showContent:!0}):i.length===0?n.jsx(ao,{variant:"no-data",icon:xi,title:"No formations available",description:"Comprehensive learning programs will be available soon. Check back later!",size:"md"}):n.jsx("div",{className:E("grid gap-6 md:grid-cols-2 lg:grid-cols-3",e),children:i.map(o=>{const l=o.created_at?ns(new Date(o.created_at)):null;return n.jsxs(X,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[n.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:o.thumbnail_url?n.jsx("img",{src:o.thumbnail_url,alt:o.title,className:"w-full h-full object-cover"}):n.jsx(xi,{className:"h-16 w-16 text-blue-400"})}),n.jsx(ve,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Ne,{className:"flex items-center gap-2 text-xl",children:[o.title,n.jsx(Te,{variant:o.status==="published"?"default":o.status==="coming_soon"?"secondary":"outline",children:o.status==="published"?"Published":o.status==="coming_soon"?"Coming Soon":"Draft"})]}),n.jsx(dt,{className:"text-sm line-clamp-3",children:o.description||"A comprehensive learning program to advance your skills."})]})}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ct,{className:"h-4 w-4"}),o.paths_count," paths"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(im,{className:"h-4 w-4"}),"Program"]})]}),o.paths&&o.paths.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-sm text-gray-900",children:"Learning Paths:"}),n.jsxs("div",{className:"space-y-1",children:[o.paths.slice(0,3).map((c,d)=>n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[n.jsxs("span",{className:"text-blue-500 font-medium",children:[d+1,"."]}),n.jsx("span",{className:"truncate",children:c.title})]},c.id)),o.paths.length>3&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",o.paths.length-3," more paths"]})]})]}),n.jsx(ce,{to:a2(o.id),children:n.jsx(ft,{className:"w-full",children:o.status==="coming_soon"?"Join Waitlist":"View Formation"})}),n.jsx("div",{className:"text-xs text-gray-500 text-center",children:l?`Created ${l} ago`:"Recently added"})]})]},o.id)})})}function aT(){return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(xi,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Learning Formations"}),n.jsx("p",{className:"text-gray-600",children:"Comprehensive learning programs designed to advance your career"})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What are Formations?"}),n.jsx("p",{className:"text-blue-800 text-sm",children:"Formations are structured learning programs that combine multiple learning paths into a comprehensive curriculum. Each formation is carefully designed to take you from beginner to advanced level in specific career tracks."})]})]}),n.jsx(Ax,{}),n.jsxs("div",{className:"text-center pt-8 border-t",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Are you an instructor? Create and manage formations."}),n.jsx(ce,{to:"/dashboard/admin/formations",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Admin Panel"})]})]})}function Rx({limit:t,className:e}){const{user:s}=We(),{t:r}=we(),[a,i]=b.useState(null),o=St(),l=je(),{data:c=[],isLoading:d}=Le({queryKey:["comingSoonPaths",s==null?void 0:s.id],enabled:!0,staleTime:6e4,refetchOnWindowFocus:!1,keepPreviousData:!0,queryFn:async()=>{const{data:m,error:p}=await l.from("learning_paths").select(`
          id, title, description,
          courses(id)
        `).eq("status","coming_soon");if(p)throw p;const x=m??[],g=x.map(N=>N.id);let y={};return g.length>0&&(y=(await Promise.all(g.map(async w=>{const{data:_,error:v}=await l.rpc("get_waiting_list_count",{p_learning_path_id:w});return v?(console.error("Error fetching waitlist count",v),{id:w,count:0}):{id:w,count:_??0}}))).reduce((w,{id:_,count:v})=>(w[_]=v,w),{})),x.map(N=>({id:N.id,title:N.title,description:N.description??"",courseCount:Array.isArray(N.courses)?N.courses.length:0,waitingListCount:y[N.id]||0}))}}),u=Ae({mutationFn:async m=>{if(!s)throw new Error("Must be logged in to join waiting list");const{error:p}=await l.from("waiting_list").insert({user_id:s.id,learning_path_id:m,email:s.email||""});if(p)throw p.code==="23505"?new Error("You are already on this waiting list"):new Error(p.message||"Failed to join waiting list");return m},onMutate:m=>{i(m)},onSuccess:()=>{H.success("You have been added to the waiting list!"),o.invalidateQueries({queryKey:["comingSoonPaths"]})},onError:m=>{console.error("Error joining waiting list:",m);const p=m instanceof Error?m.message:"Failed to join waiting list";H.error(p)},onSettled:()=>i(null)}),h=async m=>{if(!s){H.error("You must be logged in to join the waiting list");return}u.mutate(m)},f=t?c.slice(0,t):c;return d?n.jsx(od,{count:t||3,columns:{sm:1,md:2,lg:3},aspectRatio:"portrait",showContent:!0}):f.length===0?n.jsx(ao,{variant:"no-data",icon:ys,title:r("dashboard.comingSoonPaths.empty.title"),description:r("dashboard.comingSoonPaths.empty.description"),size:"md"}):n.jsx("div",{className:`grid gap-4 md:grid-cols-2 lg:grid-cols-3 ${e}`,children:f.map(m=>n.jsxs(X,{className:"border-blue-200 bg-blue-50/30",children:[n.jsx(ve,{children:n.jsx("div",{className:"flex items-start justify-between gap-2",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[m.title,n.jsx(Te,{variant:"coming-soon",size:"md",icon:ys,iconPosition:"left",children:"Coming Soon"})]}),n.jsx(dt,{className:"text-sm",children:m.description||"Get ready for an amazing learning journey!"})]})})}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ct,{className:"h-4 w-4"}),m.courseCount," courses"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Kr,{className:"h-4 w-4"}),m.waitingListCount," on waitlist"]})]}),n.jsx(ft,{onClick:()=>h(m.id),disabled:a===m.id,className:"w-full",variant:"outline",children:a===m.id?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Joining..."]}):n.jsxs(n.Fragment,{children:[n.jsx(om,{className:"h-4 w-4 mr-2"}),"Join Waiting List"]})})]})]},m.id))})}function iT(){return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:n.jsx(ys,{className:"h-8 w-8 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Coming Soon"}),n.jsx("p",{className:"text-gray-600",children:"Be the first to know when new learning paths launch"})]})]}),n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:"Join the Waiting List"}),n.jsx("p",{className:"text-orange-800 text-sm",children:"Get notified as soon as these learning paths become available. Join the waiting list to secure your spot and receive exclusive updates."})]})]}),n.jsx(Rx,{}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[n.jsx(om,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Stay Updated"}),n.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"We're constantly working on new learning paths. Check back regularly or join our waiting lists to be the first to know when new content is available."})]})]})}const oT=Je("rounded-xl transition-all duration-200",{variants:{variant:{default:"bg-card text-card-foreground border shadow-sm hover:shadow-md",elevated:"bg-card text-card-foreground shadow-md hover:shadow-lg",outlined:"bg-transparent border-2 hover:border-forge-orange",ghost:"bg-transparent hover:bg-accent/50",gradient:"bg-gradient-soft-blue text-card-foreground border-0 shadow-sm","gradient-brand":"bg-gradient-brand text-white border-0 shadow-md","gradient-success":"bg-gradient-soft-green text-card-foreground border-0 shadow-sm","gradient-warning":"bg-gradient-soft-yellow text-card-foreground border-0 shadow-sm","gradient-purple":"bg-gradient-soft-purple text-card-foreground border-0 shadow-sm","gradient-orange":"bg-gradient-soft-orange text-card-foreground border-0 shadow-sm"},size:{sm:"p-4",md:"p-card-padding",lg:"p-card-padding-lg"},hover:{true:"cursor-pointer hover:scale-[1.02]",false:""},interactive:{true:"hover:shadow-lg active:scale-[0.98]",false:""}},defaultVariants:{variant:"default",size:"md",hover:!1,interactive:!1}}),Yn=b.forwardRef(({className:t,variant:e,size:s,hover:r,interactive:a,as:i="div",...o},l)=>n.jsx(i,{ref:l,className:E(oT({variant:e,size:s,hover:r,interactive:a}),t),...o}));Yn.displayName="EnhancedCard";const lT=Je("flex flex-col",{variants:{spacing:{none:"space-y-0",sm:"space-y-1",md:"space-y-1.5",lg:"space-y-2"}},defaultVariants:{spacing:"md"}}),Ox=b.forwardRef(({className:t,spacing:e,...s},r)=>n.jsx("div",{ref:r,className:E(lT({spacing:e}),t),...s}));Ox.displayName="EnhancedCardHeader";const cT=Je("font-semibold leading-none tracking-tight",{variants:{size:{sm:"text-lg",md:"text-xl lg:text-2xl",lg:"text-2xl lg:text-3xl"}},defaultVariants:{size:"md"}}),Lx=b.forwardRef(({className:t,size:e,as:s="h3",...r},a)=>n.jsx(s,{ref:a,className:E(cT({size:e}),t),...r}));Lx.displayName="EnhancedCardTitle";const dT=Je("text-muted-foreground",{variants:{size:{sm:"text-xs",md:"text-sm",lg:"text-base"}},defaultVariants:{size:"md"}}),Ix=b.forwardRef(({className:t,size:e,...s},r)=>n.jsx("p",{ref:r,className:E(dT({size:e}),t),...s}));Ix.displayName="EnhancedCardDescription";const uT=Je("",{variants:{spacing:{none:"pt-0",sm:"pt-2",md:"pt-4",lg:"pt-6"}},defaultVariants:{spacing:"md"}}),Oi=b.forwardRef(({className:t,spacing:e,...s},r)=>n.jsx("div",{ref:r,className:E(uT({spacing:e}),t),...s}));Oi.displayName="EnhancedCardContent";const hT=Je("flex items-center",{variants:{spacing:{none:"pt-0",sm:"pt-2",md:"pt-4",lg:"pt-6"},justify:{start:"justify-start",center:"justify-center",end:"justify-end",between:"justify-between"}},defaultVariants:{spacing:"md",justify:"start"}}),fT=b.forwardRef(({className:t,spacing:e,justify:s,...r},a)=>n.jsx("div",{ref:a,className:E(hT({spacing:e,justify:s}),t),...r}));fT.displayName="EnhancedCardFooter";function mT({className:t}){const{user:e}=We(),s=b.useMemo(()=>je(),[]),{t:r}=we(),[a,i]=b.useState(null),{isLoading:o}=Le({queryKey:["continueLearning",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:l}=await s.from("user_progress").select("lesson_id").eq("user_id",e.id).order("completed_at",{ascending:!1}).limit(1).maybeSingle();if(!l)return null;const{data:c,error:d}=await s.from("lessons").select("modules(courses(id, title, description))").eq("id",l.lesson_id).single();if(d||!c)return null;const u=Array.isArray(c.modules)?c.modules[0]:c.modules,h=u?Array.isArray(u.courses)?u.courses[0]:u.courses:null;if(!h)return null;const f={id:h.id,title:h.title,description:h.description};return i(f),f}});return o?n.jsx(iP,{className:t,showHeader:!0,contentLines:2,showFooter:!0}):a?n.jsxs(Yn,{variant:"gradient",size:"lg",className:t,"aria-label":r("dashboard.continueLearning.ariaLabel",{course:a.title}),children:[n.jsxs(Ox,{children:[n.jsx(Lx,{size:"lg",children:r("dashboard.continueLearning.title")}),n.jsx(Ix,{size:"md",children:r("dashboard.continueLearning.subtitle")}),n.jsx("p",{className:"text-xl font-semibold pt-2 text-foreground",children:a.title})]}),n.jsx(Oi,{children:n.jsx(ce,{to:Bl(a.id),children:n.jsx(z,{size:"lg",className:"w-full md:w-auto","aria-label":r("common.buttons.continueLearning")+" - "+a.title,children:r("common.buttons.continueLearning")})})})]}):n.jsx(Yn,{variant:"gradient",size:"lg",className:t,children:n.jsx(ao,{variant:"no-data",icon:ct,title:r("dashboard.continueLearning.empty.title"),description:r("dashboard.continueLearning.empty.description"),size:"sm"})})}const Uh=Je("",{variants:{variant:{default:"",gradient:"",minimal:""},colorScheme:{blue:"bg-gradient-soft-blue",green:"bg-gradient-soft-green",yellow:"bg-gradient-soft-yellow",purple:"bg-gradient-soft-purple",orange:"bg-gradient-soft-orange",brand:"bg-gradient-brand text-white"},size:{sm:"",md:"",lg:""}},defaultVariants:{variant:"default",colorScheme:"blue",size:"md"}}),Mx=b.forwardRef(({className:t,variant:e="default",colorScheme:s,size:r="md",icon:a,label:i,value:o,description:l,trend:c,isLoading:d=!1,iconColor:u,cardVariant:h,...f},m)=>{const p=h||(e==="gradient"?"gradient":"default"),x={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"},g={sm:"text-2xl font-bold",md:"text-3xl font-bold",lg:"text-4xl font-bold"},y={sm:"text-xs",md:"text-sm",lg:"text-base"},N=()=>u||{blue:"text-info",green:"text-success",yellow:"text-warning",purple:"text-purple-600",orange:"text-forge-orange",brand:"text-white"}[s||"blue"];return d?n.jsx(Yn,{ref:m,variant:p,className:E(Uh({variant:e,colorScheme:s}),t),...f,children:n.jsx(Oi,{spacing:"md",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx("div",{className:"h-4 bg-muted animate-pulse rounded w-20"}),n.jsx("div",{className:"h-8 bg-muted animate-pulse rounded w-24"})]}),n.jsx("div",{className:E("rounded-full bg-muted animate-pulse",x[r||"md"])})]})})}):n.jsxs(Yn,{ref:m,variant:p,className:E(Uh({variant:e,colorScheme:s}),"relative overflow-hidden",t),...f,children:[n.jsx(Oi,{spacing:"md",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1 flex-1",children:[n.jsx("p",{className:E("font-medium text-muted-foreground",y[r||"md"]),children:i}),n.jsx("p",{className:E(g[r||"md"],"tracking-tight"),children:o}),l&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l}),c&&n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[c.direction==="up"&&n.jsx(Cn,{className:"h-4 w-4 text-success"}),c.direction==="down"&&n.jsx(iy,{className:"h-4 w-4 text-error"}),n.jsx("span",{className:E("text-xs font-medium",c.direction==="up"&&"text-success",c.direction==="down"&&"text-error",c.direction==="neutral"&&"text-muted-foreground"),children:c.value}),c.label&&n.jsx("span",{className:"text-xs text-muted-foreground",children:c.label})]})]}),a&&n.jsx("div",{className:E("rounded-full p-2 bg-background/50",x[r||"md"]),children:n.jsx(a,{className:E("h-full w-full",N())})})]})}),e==="gradient"&&n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent pointer-events-none"})]})});Mx.displayName="StatCard";const pT={totalXP:1320,completedLessons:9,inProgressPaths:2,totalTimeSpent:210};function gT(){const{user:t}=We(),e=b.useMemo(()=>je(),[]),{t:s}=we(),[r,a]=b.useState({totalXP:0,completedLessons:0,inProgressPaths:0,totalTimeSpent:0}),[i,o]=b.useState(!0),[l,c]=b.useState(!0);b.useEffect(()=>{if(!t)return;let h=!0;return(async()=>{const m=Date.now();h&&o(!0);try{const{data:p,error:x}=await e.from("user_progress").select("lesson_id, status").eq("user_id",t.id).in("status",["in_progress","completed"]);if(x)throw new Error(x.message||s("dashboard.userStats.errors.loadProgress"));const g=p||[],y=g.filter(A=>A.status==="completed").length,N=Array.from(new Set(g.map(A=>A.lesson_id).filter(Boolean))),w=50;let _=[];if(N.length>0)for(let A=0;A<N.length;A+=w){const R=N.slice(A,A+w),{data:C,error:O}=await e.from("lessons").select("id, xp_value, modules(courses(path_id))").in("id",R);if(O)throw new Error(O.message||s("dashboard.userStats.errors.loadLessons"));_=_.concat(C||[])}let v=0;const j=new Set;_.forEach(A=>{var C,O,$;v+=(A==null?void 0:A.xp_value)||0;const R=((O=(C=A==null?void 0:A.modules)==null?void 0:C.courses)==null?void 0:O.path_id)||(($=A==null?void 0:A.modules)==null?void 0:$.path_id);R&&j.add(R)});const S=j.size;if(h){const A={totalXP:v,completedLessons:y,inProgressPaths:S,totalTimeSpent:Math.max(0,Math.floor(y*15))};a(A),c(!(A.totalXP||A.completedLessons||A.inProgressPaths))}}catch(p){if(!h)return;console.error("Error fetching user statistics:",(p==null?void 0:p.message)||p),a({totalXP:0,completedLessons:0,inProgressPaths:0,totalTimeSpent:0}),c(!0)}finally{if(!h)return;const p=Date.now()-m,g=Math.max(0,600-p);setTimeout(()=>{h&&o(!1)},g)}})(),()=>{h=!1}},[t,e]);const d=l||i?pT:r,u=[{label:s("dashboard.userStats.totalXp"),value:d.totalXP,icon:va,colorScheme:"yellow"},{label:s("dashboard.userStats.completedLessons"),value:d.completedLessons,icon:ct,colorScheme:"green"},{label:s("dashboard.userStats.activePaths"),value:d.inProgressPaths,icon:$t,colorScheme:"blue"},{label:s("dashboard.userStats.studyTime"),value:s("dashboard.userStats.studyTimeValue",{minutes:d.totalTimeSpent}),icon:ys,colorScheme:"purple"}];return n.jsx("div",{className:"grid gap-card-gap md:grid-cols-4",children:u.map((h,f)=>n.jsx(Mx,{label:h.label,value:h.value,icon:h.icon,colorScheme:h.colorScheme,variant:"gradient",isLoading:i,"aria-label":`${h.label}: ${h.value}`},f))})}const Dx=b.forwardRef(({className:t,value:e,...s},r)=>n.jsx(lm,{ref:r,className:E("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:n.jsx(oy,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Dx.displayName=lm.displayName;const zh=5;function xT({className:t}){const{user:e}=We(),s=b.useMemo(()=>je(),[]),{t:r}=we(),{data:a=[],isLoading:i}=Le({queryKey:["learningHabits",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),staleTime:6e4,refetchOnWindowFocus:!1,refetchOnReconnect:!0,keepPreviousData:!0,queryFn:async()=>{const{data:h,error:f}=await s.from("user_progress").select("completed_at").eq("user_id",e.id).eq("status","completed").not("completed_at","is",null).order("completed_at",{ascending:!1}).limit(200);if(f)throw new Error(f.message||r("dashboard.learningHabits.loadError"));return h}}),{streakDays:o,weekCount:l,weekSeries:c}=b.useMemo(()=>{const h=new Map;for(const g of a){if(!g.completed_at)continue;const N=new Date(g.completed_at).toISOString().slice(0,10);h.set(N,(h.get(N)||0)+1)}const f=new Date;f.setHours(0,0,0,0);let m=0;for(let g=new Date(f);;g.setDate(g.getDate()-1)){const y=g.toISOString().slice(0,10),N=h.get(y)||0;if(m===0&&N===0)break;if(N>0)m+=1;else break}const p=[];let x=0;for(let g=6;g>=0;g--){const y=new Date(f);y.setDate(f.getDate()-g);const N=y.toISOString().slice(0,10),w=h.get(N)||0;p.push(w),x+=w}return{streakDays:m,weekCount:x,weekSeries:p}},[a]),d=i?"-":r("dashboard.learningHabits.dayCount",{count:o}),u=i?"-":r("dashboard.learningHabits.weekProgress",{completed:l,goal:zh});return n.jsxs(X,{className:`h-full min-h-[220px] flex flex-col ${t||""}`,children:[n.jsx(ve,{children:n.jsx(Ne,{className:"text-lg",children:r("dashboard.learningHabits.title")})}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600",children:r("dashboard.learningHabits.currentStreak")}),n.jsx("div",{className:"text-2xl font-semibold",children:d})]}),n.jsx("div",{className:"text-xs text-gray-500",children:r("dashboard.learningHabits.keepGoing")})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("div",{className:"text-sm text-gray-600",children:r("dashboard.learningHabits.weeklyGoal")}),n.jsx("div",{className:"text-sm font-medium",children:u})]}),n.jsx(Dx,{value:Math.min(100,l/zh*100)})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:c.map((h,f)=>n.jsx("div",{className:"flex flex-col items-center gap-1",children:n.jsx("div",{className:"w-6 rounded bg-forge-orange/20",style:{height:Math.max(6,Math.min(28,h*8))},title:r("dashboard.learningHabits.completions",{count:h})})},f))})]})]})}function bT(){const{user:t}=We(),{t:e}=we(),s=()=>{var r,a;return console.log("User data:",t),console.log("User metadata:",t==null?void 0:t.user_metadata),(r=t==null?void 0:t.user_metadata)!=null&&r.full_name?t.user_metadata.full_name:(a=t==null?void 0:t.user_metadata)!=null&&a.name?t.user_metadata.name:t!=null&&t.email?t.email.split("@")[0]:e("common.labels.user")};return n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"text-gray-500",children:[n.jsx("span",{className:"inline-flex items-center gap-2 text-sm rounded-full bg-forge-cream text-forge-dark px-2 py-0.5 mr-2",children:e("dashboard.home.badge")}),n.jsx("span",{className:"font-medium text-forge-dark",children:s()}),e("dashboard.home.headlineSuffix")]})}),n.jsx("div",{className:"grid grid-cols-12 gap-6",children:n.jsxs("div",{className:"col-span-12 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[n.jsx("div",{className:"col-span-12 xl:col-span-8",children:n.jsx(mT,{className:"mb-0"})}),n.jsx("div",{className:"col-span-12 xl:col-span-4",children:n.jsx(xT,{className:"mb-0"})})]}),n.jsx(gT,{})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Learning Formations"}),n.jsx(ce,{to:Vl,className:"text-forge-orange hover:underline",children:"View all formations"})]}),n.jsx(Ax,{limit:3,className:"mt-2"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:e(wt[ts])}),n.jsx(ce,{to:ts,className:"text-forge-orange hover:underline",children:e("dashboard.home.exploreCta")})]}),n.jsx(Ex,{limit:6,className:"mt-2"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Coming Soon"}),n.jsx(ce,{to:i2,className:"text-forge-orange hover:underline",children:"View all upcoming paths"})]}),n.jsx(Rx,{limit:3,className:"mt-2"})]})]})]})}const qh=t=>typeof t=="object"&&t!==null&&"code"in t&&"message"in t;function yT(){const{formationId:t}=cc(),e=b.useMemo(()=>je(),[]),s=St(),{user:r}=We(),{data:a,isLoading:i,isError:o,error:l}=Le({queryKey:["formation-detail",t,r==null?void 0:r.id],enabled:!!t,queryFn:async()=>{if(!t)throw new Error("Formation not found");const{data:p,error:x}=await e.from("formations").select(`
          id, title, description, thumbnail_url, created_at, published_at, status,
          formation_paths(
            order,
            learning_paths(id, title, status)
          )
        `).eq("id",t).single();if(x||!p)throw x??new Error("Formation not found");const g=p,y=(g.formation_paths??[]).map(v=>v.learning_paths?{id:v.learning_paths.id,title:v.learning_paths.title,order:v.order??0,status:v.learning_paths.status}:null).filter(v=>!!v).sort((v,j)=>v.order-j.order),{data:N,error:w}=await e.rpc("get_formation_waiting_list_count",{p_formation_id:t});if(w)throw w;let _=!1;if(r!=null&&r.id){const{data:v,error:j}=await e.from("waiting_list").select("id").eq("formation_id",t).eq("user_id",r.id).maybeSingle();if(j)throw j;_=!!v}return{id:g.id,title:g.title,description:g.description,thumbnail_url:g.thumbnail_url,created_at:g.created_at,published_at:g.published_at,status:g.status,paths:y,waitingListCount:N??0,isUserOnWaitlist:_}}}),c=Ae({mutationFn:async()=>{if(!t)throw new Error("Formation not found");if(!r)throw new Error("You need to be logged in to join the waiting list");const{error:p}=await e.from("waiting_list").insert({formation_id:t,user_id:r.id,email:r.email??""});if(p)throw p},onSuccess:()=>{H.success("You have been added to the waiting list for this formation"),s.invalidateQueries({queryKey:["formation-detail",t,r==null?void 0:r.id]})},onError:p=>{if(qh(p)&&p.code==="23505"){H.info("You are already on the waiting list for this formation"),s.invalidateQueries({queryKey:["formation-detail",t,r==null?void 0:r.id]});return}const x=qh(p)||p instanceof Error?p.message:"Failed to join waiting list";H.error(x)}});if(i)return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-8 w-40 rounded bg-gray-200"}),n.jsx("div",{className:"h-10 w-2/3 rounded bg-gray-200"}),n.jsx("div",{className:"h-4 w-1/2 rounded bg-gray-200"})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[...Array(2)].map((p,x)=>n.jsxs(X,{className:"animate-pulse",children:[n.jsxs(ve,{children:[n.jsx("div",{className:"h-5 w-1/2 rounded bg-gray-200"}),n.jsx("div",{className:"h-4 w-2/3 rounded bg-gray-100"})]}),n.jsx(Z,{children:n.jsx("div",{className:"h-10 w-full rounded bg-gray-100"})})]},x))})]});if(o||!a)return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ce,{to:Vl,className:"inline-flex items-center gap-2 text-sm text-forge-orange hover:underline",children:[n.jsx(Cd,{className:"h-4 w-4"})," Back to formations"]}),n.jsx(X,{className:"border-dashed border-forge-cream/70 bg-white/80",children:n.jsx(Z,{className:"p-8 text-center text-forge-gray",children:l instanceof Error?l.message:"We could not load this formation."})})]});const d=a.created_at?ns(new Date(a.created_at),{addSuffix:!0}):null,u=a.published_at?ns(new Date(a.published_at),{addSuffix:!0}):null,h=a.status==="coming_soon",f=c.isPending||a.isUserOnWaitlist,m=a.paths.find(p=>p.status==="published");return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs(ce,{to:Vl,className:"inline-flex items-center gap-2 text-sm text-forge-orange hover:underline",children:[n.jsx(Cd,{className:"h-4 w-4"})," Back to formations"]}),n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:justify-between md:items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("h1",{className:"text-3xl font-bold text-forge-dark",children:a.title}),n.jsx(Te,{variant:h?"secondary":a.status==="published"?"default":"outline",children:h?"Coming soon":a.status==="published"?"Published":"Draft"})]}),n.jsx("p",{className:"text-forge-gray max-w-2xl",children:a.description||"Explore the curated learning paths included in this formation."}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-forge-gray",children:[n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(ct,{className:"h-4 w-4"}),a.paths.length," learning paths"]}),h&&n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(Kr,{className:"h-4 w-4"}),a.waitingListCount," on waiting list"]}),d&&n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(ys,{className:"h-4 w-4"}),"Created ",d]}),u&&n.jsxs("span",{className:"inline-flex items-center gap-1 text-forge-orange",children:[n.jsx(ys,{className:"h-4 w-4"}),"Published ",u]})]})]}),n.jsx("div",{className:"flex flex-col gap-2",children:h?n.jsxs(n.Fragment,{children:[n.jsx(ft,{onClick:()=>c.mutate(),disabled:f||!r,className:"min-w-[220px]",variant:a.isUserOnWaitlist?"outline":"primary",children:a.isUserOnWaitlist?"You are on the waiting list":c.isPending?"Joining...":r?"Join the waiting list":"Sign in to join"}),!r&&n.jsx("p",{className:"text-xs text-muted-foreground text-right",children:"You must be signed in to join the waiting list."}),n.jsx("p",{className:"text-xs text-muted-foreground max-w-xs",children:"We will notify you as soon as this formation opens for enrollment."})]}):m?n.jsx(ce,{to:Ei(m.id),children:n.jsx(ft,{className:"min-w-[220px]",withGradient:!0,children:"Start learning"})}):n.jsx(ft,{className:"min-w-[220px]",variant:"outline",disabled:!0,children:"Paths coming soon"})})]})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-forge-dark",children:"Included learning paths"}),a.paths.length===0?n.jsx(X,{className:"border-dashed border-forge-cream/70 bg-white/70",children:n.jsx(Z,{className:"p-8 text-center text-forge-gray",children:"Learning paths will be added to this formation soon."})}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.paths.map((p,x)=>n.jsxs(X,{className:"flex flex-col border border-forge-cream/70 bg-white/80",children:[n.jsxs(ve,{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-forge-orange",children:x+1}),n.jsx(Te,{variant:p.status==="published"?"default":p.status==="coming_soon"?"secondary":"outline",children:p.status==="published"?"Published":p.status==="coming_soon"?"Coming soon":"Draft"})]}),n.jsx(Ne,{className:"text-lg leading-tight text-forge-dark",children:p.title})]}),n.jsx(Z,{className:"mt-auto",children:p.status==="published"?n.jsx(ce,{to:Ei(p.id),children:n.jsx(ft,{variant:"outline",className:"w-full",children:"View path"})}):n.jsx(ft,{variant:"ghost",className:"w-full",disabled:!0,children:p.status==="coming_soon"?"Coming soon":"Not yet published"})})]},p.id))})]})]})}const $x="pt-BR",vT=(t,e)=>({fullName:t.full_name,email:e,country:t.country,city:t.city,languages:t.languages,communicationLanguage:t.communication_language??$x,yearsExperience:t.years_experience,stacks:t.stacks,skillsToDevelop:t.skills_to_develop,positionCompany:t.position_company,linkedinUrl:t.linkedin_url??void 0,githubUrl:t.github_url??void 0,walletAddress:t.wallet_address??void 0}),Fx=(t,e)=>({user_id:e,wallet_address:t.walletAddress??null,full_name:t.fullName,country:t.country,city:t.city,languages:t.languages,years_experience:t.yearsExperience,stacks:t.stacks,skills_to_develop:t.skillsToDevelop,position_company:t.positionCompany,linkedin_url:t.linkedinUrl??null,github_url:t.githubUrl??null,communication_language:t.communicationLanguage}),wT=(t,e)=>({fullName:"",email:t,country:"",city:"",languages:[],communicationLanguage:e,yearsExperience:0,stacks:[],skillsToDevelop:[],positionCompany:"",linkedinUrl:void 0,githubUrl:void 0,walletAddress:void 0});async function jT(){var o;const t=je(),{data:{user:e},error:s}=await t.auth.getUser();if(s)throw s;if(!e)throw new Error("User not authenticated");const r=((o=e.user_metadata)==null?void 0:o.communication_language)??$x,{data:a,error:i}=await t.from("profiles").select("*").eq("user_id",e.id).maybeSingle();if(i)throw i;if(!a){const l=wT(e.email??"",r),c=Fx(l,e.id),{error:d}=await t.from("profiles").insert(c);if(d)throw d;return l}return vT(a,e.email??"")}async function NT(t){var l;const e=je(),{data:{user:s},error:r}=await e.auth.getUser();if(r)throw r;if(!s)throw new Error("User not authenticated");const a=Fx(t,s.id),{error:i}=await e.from("profiles").upsert(a,{onConflict:"user_id"});if(i)throw i;if(((l=s.user_metadata)==null?void 0:l.communication_language)!==t.communicationLanguage){const{error:c}=await e.auth.updateUser({data:{communication_language:t.communicationLanguage}});c&&console.warn("Failed to sync communication language with auth metadata",c)}}function _T({activeTab:t,onTabChange:e}){const{t:s}=we(),r=b.useMemo(()=>[{id:"personal",label:s("profile.sections.personal"),icon:ic,description:s("profile.sections.personalDesc")},{id:"professional",label:s("profile.sections.professional"),icon:Bi,description:s("profile.sections.professionalDesc")},{id:"learning",label:s("profile.sections.learning"),icon:ct,description:s("profile.sections.learningDesc")},{id:"career",label:s("profile.sections.career"),icon:$t,description:s("profile.sections.careerDesc")}],[s]);return n.jsx("div",{className:"space-y-2",children:r.map(a=>{const i=a.icon,o=t===a.id;return n.jsx("button",{onClick:()=>e(a.id),className:E("w-full text-left p-4 rounded-lg transition-all duration-200","hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2",o?"bg-orange-500 text-white shadow-md":"bg-white text-gray-700 hover:text-gray-900"),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(i,{className:E("h-5 w-5",o?"text-white":"text-gray-500")}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:a.label}),n.jsx("div",{className:E("text-sm mt-1",o?"text-orange-100":"text-gray-500"),children:a.description})]})]})},a.id)})})}function Ga({title:t,description:e,children:s,className:r}){return n.jsxs("div",{className:E("bg-white rounded-lg shadow-sm border border-gray-200 p-6",r),children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t}),e&&n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e})]}),s]})}function vt({label:t,required:e=!1,error:s,description:r,children:a,className:i}){return n.jsxs("div",{className:E("space-y-2",i),children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[t,e&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a,r&&n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r}),s&&n.jsx("p",{className:"text-sm text-red-500",children:s})]})}function Ko({value:t,onChange:e,placeholder:s="Type and press Enter",className:r,disabled:a}){const[i,o]=b.useState(""),l=u=>{const h=u.trim();h&&!t.includes(h)&&(e([...t,h]),o(""))},c=u=>{e(t.filter(h=>h!==u))},d=u=>{u.key==="Enter"?(u.preventDefault(),l(i)):u.key==="Backspace"&&i===""&&t.length>0&&c(t[t.length-1])};return n.jsx("div",{className:E("space-y-2",r),children:n.jsxs("div",{className:"flex flex-wrap gap-2 min-h-[40px] p-2 border border-gray-300 rounded-lg bg-white focus-within:ring-2 focus-within:ring-orange-500 focus-within:border-orange-500",children:[t.map((u,h)=>n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 text-orange-800 text-sm rounded-md",children:[u,n.jsx("button",{type:"button",onClick:()=>c(u),disabled:a,className:"text-orange-600 hover:text-orange-800 disabled:opacity-50",children:n.jsx(Xs,{className:"h-3 w-3"})})]},h)),n.jsx("input",{type:"text",value:i,onChange:u=>o(u.target.value),onKeyDown:d,placeholder:t.length===0?s:"",disabled:a,className:"flex-1 min-w-[120px] outline-none text-sm bg-transparent placeholder-gray-400"})]})})}const at=my,it=py,Ye=b.forwardRef(({className:t,children:e,...s},r)=>n.jsxs(cm,{ref:r,className:E("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[e,n.jsx(ly,{asChild:!0,children:n.jsx(lc,{className:"h-4 w-4 opacity-50"})})]}));Ye.displayName=cm.displayName;const Vx=b.forwardRef(({className:t,...e},s)=>n.jsx(dm,{ref:s,className:E("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(cy,{className:"h-4 w-4"})}));Vx.displayName=dm.displayName;const Bx=b.forwardRef(({className:t,...e},s)=>n.jsx(um,{ref:s,className:E("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(lc,{className:"h-4 w-4"})}));Bx.displayName=um.displayName;const Qe=b.forwardRef(({className:t,children:e,position:s="popper",...r},a)=>n.jsx(dy,{children:n.jsxs(hm,{ref:a,className:E("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...r,children:[n.jsx(Vx,{}),n.jsx(uy,{className:E("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),n.jsx(Bx,{})]})}));Qe.displayName=hm.displayName;const ST=b.forwardRef(({className:t,...e},s)=>n.jsx(fm,{ref:s,className:E("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));ST.displayName=fm.displayName;const Oe=b.forwardRef(({className:t,children:e,...s},r)=>n.jsxs(mm,{ref:r,className:E("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(hy,{children:n.jsx(Hf,{className:"h-4 w-4"})})}),n.jsx(fy,{children:e})]}));Oe.displayName=mm.displayName;const kT=b.forwardRef(({className:t,...e},s)=>n.jsx(pm,{ref:s,className:E("-mx-1 my-1 h-px bg-muted",t),...e}));kT.displayName=pm.displayName;const CT=[{value:"Brazil",key:"brazil"},{value:"United States",key:"unitedStates"},{value:"Canada",key:"canada"},{value:"United Kingdom",key:"unitedKingdom"},{value:"Germany",key:"germany"},{value:"France",key:"france"},{value:"Spain",key:"spain"},{value:"Italy",key:"italy"},{value:"Netherlands",key:"netherlands"},{value:"Sweden",key:"sweden"},{value:"Norway",key:"norway"},{value:"Denmark",key:"denmark"},{value:"Finland",key:"finland"},{value:"Switzerland",key:"switzerland"},{value:"Austria",key:"austria"},{value:"Belgium",key:"belgium"},{value:"Portugal",key:"portugal"},{value:"Ireland",key:"ireland"},{value:"Australia",key:"australia"},{value:"New Zealand",key:"newZealand"},{value:"Japan",key:"japan"},{value:"South Korea",key:"southKorea"},{value:"Singapore",key:"singapore"},{value:"India",key:"india"},{value:"China",key:"china"},{value:"Mexico",key:"mexico"},{value:"Argentina",key:"argentina"},{value:"Chile",key:"chile"},{value:"Colombia",key:"colombia"},{value:"Peru",key:"peru"},{value:"Uruguay",key:"uruguay"},{value:"Paraguay",key:"paraguay"},{value:"Venezuela",key:"venezuela"},{value:"Ecuador",key:"ecuador"},{value:"Bolivia",key:"bolivia"},{value:"Guyana",key:"guyana"},{value:"Suriname",key:"suriname"},{value:"French Guiana",key:"frenchGuiana"}];function PT(){const{t,i18n:e}=we(),{user:s}=We(),{toast:r}=op(),[a,i]=b.useState("personal"),[o,l]=b.useState(null),[c,d]=b.useState(!0),[u,h]=b.useState(!1),[f,m]=b.useState(!1),[p,x]=b.useState({}),g=b.useMemo(()=>CT.map(({value:j,key:S})=>({value:j,label:t(`common.countries.${S}`)})),[t]),y=b.useMemo(()=>[{value:"en-US",label:t("profile.languageOptions.enUS")},{value:"pt-BR",label:t("profile.languageOptions.ptBR")}],[t]);b.useEffect(()=>{N()},[]);const N=async()=>{try{d(!0);const j=await jT();s!=null&&s.email&&(j.email=s.email),j.communicationLanguage&&j.communicationLanguage!==e.language&&e.changeLanguage(j.communicationLanguage),l(j),m(!1)}catch{r({title:t("common.errors.unexpectedError"),description:t("profile.messages.updateError")})}finally{d(!1)}},w=async()=>{if(!o)return;const j={};if(o.fullName.trim()||(j.fullName=t("profile.errors.fullNameRequired")),o.country.trim()||(j.country=t("profile.errors.countryRequired")),o.linkedinUrl&&!v(o.linkedinUrl)&&(j.linkedinUrl=t("profile.errors.invalidLinkedin")),o.githubUrl&&!v(o.githubUrl)&&(j.githubUrl=t("profile.errors.invalidGithub")),Object.keys(j).length>0){x(j),r({title:t("common.errors.unexpectedError"),description:t("profile.messages.validationError")});return}try{h(!0),await NT(o),x({}),m(!1),r({title:t("common.buttons.save"),description:t("profile.messages.updateSuccess")})}catch{r({title:t("common.errors.unexpectedError"),description:t("profile.messages.updateError")})}finally{h(!1)}},_=(j,S)=>{o&&(l(A=>A&&{...A,[j]:S}),m(!0),p[j]&&x({...p,[j]:void 0}))},v=j=>{try{return new URL(j),!0}catch{return!1}};return c?n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ze,{className:"h-6 w-6 animate-spin text-orange-500"}),n.jsx("span",{className:"text-gray-600",children:t("profile.loadingProfile")})]})}):o?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t("profile.title")}),n.jsx("p",{className:"text-gray-600 mt-2",children:t("profile.subtitle")})]}),f&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[n.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),n.jsx("span",{className:"text-sm font-medium",children:t("profile.unsavedChanges")})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsx(_T,{activeTab:a,onTabChange:i})}),n.jsxs("div",{className:"lg:col-span-3",children:[a==="personal"&&n.jsx(Ga,{title:t("profile.sections.personal"),description:t("profile.sections.personalDesc"),children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(vt,{label:t("common.labels.fullName"),required:!0,error:p.fullName,children:n.jsxs("div",{className:"relative",children:[n.jsx(ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ae,{value:o.fullName,onChange:j=>_("fullName",j.target.value),placeholder:t("common.placeholders.enterFullName"),className:"pl-10"})]})}),n.jsxs(vt,{label:t("common.labels.email"),required:!0,children:[n.jsxs("div",{className:"relative",children:[n.jsx(gm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ae,{value:o.email,disabled:!0,className:"pl-10 bg-gray-50"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t("profile.messages.emailNote")})]}),n.jsx(vt,{label:t("common.labels.country"),required:!0,error:p.country,children:n.jsxs("div",{className:"relative",children:[n.jsx(gy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsxs(at,{value:o.country,onValueChange:j=>_("country",j),children:[n.jsx(Ye,{className:"pl-10",children:n.jsx(it,{placeholder:t("common.placeholders.selectCountry")})}),n.jsx(Qe,{children:g.map(({value:j,label:S})=>n.jsx(Oe,{value:j,children:S},j))})]})]})}),n.jsx(vt,{label:t("common.labels.city"),children:n.jsxs("div",{className:"relative",children:[n.jsx(xy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ae,{value:o.city,onChange:j=>_("city",j.target.value),placeholder:t("common.placeholders.enterCity"),className:"pl-10"})]})}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(vt,{label:t("common.labels.languages"),description:t("profile.sections.personalDesc"),children:n.jsx(Ko,{value:o.languages,onChange:j=>_("languages",j),placeholder:t("common.placeholders.typeLanguage")})})}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(vt,{label:t("profile.fields.languagePreference"),description:t("profile.fields.selectLanguage"),children:n.jsxs("div",{className:"relative",children:[n.jsx(by,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsxs(at,{value:o.communicationLanguage,onValueChange:j=>{_("communicationLanguage",j),e.changeLanguage(j)},children:[n.jsx(Ye,{className:"pl-10",children:n.jsx(it,{placeholder:t("profile.fields.selectLanguage")})}),n.jsx(Qe,{children:y.map(({value:j,label:S})=>n.jsx(Oe,{value:j,children:S},j))})]})]})})})]})}),a==="professional"&&n.jsx(Ga,{title:t("profile.sections.professional"),description:t("profile.sections.professionalDesc"),children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(vt,{label:t("profile.fields.yearsExperience"),children:n.jsxs("div",{className:"relative",children:[n.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ae,{type:"number",min:"0",value:o.yearsExperience,onChange:j=>_("yearsExperience",parseInt(j.target.value)||0),placeholder:t("profile.fields.yearsExperiencePlaceholder"),className:"pl-10"})]})}),n.jsx(vt,{label:t("profile.fields.positionCompany"),children:n.jsxs("div",{className:"relative",children:[n.jsx(yy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ae,{value:o.positionCompany,onChange:j=>_("positionCompany",j.target.value),placeholder:t("profile.fields.positionPlaceholder"),className:"pl-10"})]})}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(vt,{label:t("profile.fields.stacksDominated"),description:t("profile.fields.stacksDesc"),children:n.jsx(Ko,{value:o.stacks,onChange:j=>_("stacks",j),placeholder:t("profile.fields.stacksPlaceholder")})})}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(vt,{label:t("profile.fields.skillsToDevelop"),description:t("profile.fields.skillsDesc"),children:n.jsx(Ko,{value:o.skillsToDevelop,onChange:j=>_("skillsToDevelop",j),placeholder:t("profile.fields.skillsPlaceholder")})})}),n.jsx(vt,{label:t("profile.fields.linkedinUrl"),error:p.linkedinUrl,children:n.jsxs("div",{className:"relative",children:[n.jsx(xm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ae,{value:o.linkedinUrl,onChange:j=>_("linkedinUrl",j.target.value),placeholder:t("profile.fields.linkedinPlaceholder"),className:"pl-10"})]})}),n.jsx(vt,{label:t("profile.fields.githubUrl"),error:p.githubUrl,children:n.jsxs("div",{className:"relative",children:[n.jsx(Ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ae,{value:o.githubUrl,onChange:j=>_("githubUrl",j.target.value),placeholder:t("profile.fields.githubPlaceholder"),className:"pl-10"})]})})]})}),a==="learning"&&n.jsx(Ga,{title:t("profile.sections.learning"),description:t("profile.sections.learningDesc"),children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ct,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t("profile.comingSoon.title")}),n.jsx("p",{className:"text-gray-600",children:t("profile.comingSoon.learning")})]})}),a==="career"&&n.jsx(Ga,{title:t("profile.sections.career"),description:t("profile.sections.careerDesc"),children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx($t,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t("profile.comingSoon.title")}),n.jsx("p",{className:"text-gray-600",children:t("profile.comingSoon.career")})]})}),a==="personal"||a==="professional"?n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx(z,{onClick:w,disabled:u||!f,className:"bg-orange-500 hover:bg-orange-600 text-white",children:u?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"h-4 w-4 animate-spin mr-2"}),t("common.buttons.saving")]}):n.jsxs(n.Fragment,{children:[n.jsx(vy,{className:"h-4 w-4 mr-2"}),t("common.buttons.save")]})})}):null]})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600",children:t("profile.failedToLoad")}),n.jsx(z,{onClick:N,className:"mt-4",children:t("common.buttons.tryAgain")})]})}function TT({children:t}){const{user:e,loading:s}=We(),r=Ys();return s?n.jsx("div",{className:"min-h-[40vh] flex items-center justify-center text-gray-500",children:"Loading..."}):e?n.jsx(n.Fragment,{children:t}):n.jsx(dc,{to:ax,replace:!0,state:{from:r}})}const ET=t=>t?t.replace(/<[^>]+>/g,"").trim():"";function AT(){const t=b.useMemo(()=>je(),[]),{t:e}=we(),{data:s=[],isLoading:r}=Le({queryKey:["community-projects"],queryFn:async()=>{const{data:i,error:o}=await t.from("module_projects").select(`id, title, description, xp_value, is_active, created_at,
           module:modules(id, title, order, course:courses(id, title)),
           submissions:module_project_submissions(repository_url, submitted_at, user_id)`);if(o)throw o;return i??[]},onError:i=>{console.error("Error loading community projects",i),H.error(e("projects.community.loadError"))}}),a=b.useMemo(()=>{const i=new Map;return s.forEach(o=>{if(!o.module)return;const l=o.module.id;i.has(l)||i.set(l,{module:o.module,projects:[]}),i.get(l).projects.push(o)}),Array.from(i.values()).sort((o,l)=>{var h,f;const c=(((h=o.module.course)==null?void 0:h.title)??"").localeCompare(((f=l.module.course)==null?void 0:f.title)??"");if(c!==0)return c;const d=o.module.order??Number.MAX_SAFE_INTEGER,u=l.module.order??Number.MAX_SAFE_INTEGER;return d!==u?d-u:o.module.title.localeCompare(l.module.title)})},[s]);return r?n.jsx(X,{className:"border border-dashed border-forge-cream/70 bg-white/90",children:n.jsxs(Z,{className:"flex items-center gap-3 p-8 text-forge-gray",children:[n.jsx(Hi,{className:"h-5 w-5 animate-pulse text-forge-orange"}),e("projects.community.loading")]})}):a.length===0?n.jsx(X,{className:"border border-dashed border-forge-cream/70 bg-white/90",children:n.jsxs(Z,{className:"space-y-2 p-8 text-center text-forge-gray",children:[n.jsx("h2",{className:"text-xl font-semibold text-forge-dark",children:e("projects.community.title")}),n.jsx("p",{className:"text-sm",children:e("projects.community.empty")})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h1",{className:"text-3xl font-bold text-forge-dark",children:e("projects.community.title")}),n.jsx("p",{className:"text-sm text-forge-gray",children:e("projects.community.subtitle")})]}),n.jsx("div",{className:"grid gap-5",children:a.map(({module:i,projects:o})=>{var l;return n.jsxs(X,{className:"border border-forge-cream/70 bg-white/90",children:[n.jsxs(ve,{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(Ne,{className:"text-xl text-forge-dark",children:i.title}),n.jsx(Te,{variant:"secondary",className:"bg-forge-cream text-forge-dark",children:e("projects.community.courseLabel",{course:((l=i.course)==null?void 0:l.title)??e("projects.community.unknownCourse")})})]}),n.jsx("p",{className:"text-xs text-forge-gray/80",children:e("projects.community.projectCount",{count:o.length})})]}),n.jsx(Z,{className:"space-y-4",children:o.slice().filter(c=>c.is_active??!0).sort((c,d)=>{const u=c.created_at?new Date(c.created_at).getTime():0,h=d.created_at?new Date(d.created_at).getTime():0;return u!==h?u-h:c.title.localeCompare(d.title)}).map((c,d)=>{const u=c.submissions??[],h=d+1;return n.jsx("div",{className:"rounded-lg border border-forge-cream/60 bg-white/80 p-4 shadow-sm",children:n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(Te,{variant:"outline",className:"border-forge-orange text-forge-orange",children:e("projects.community.projectOrder",{order:h})}),n.jsx("h3",{className:"text-lg font-semibold text-forge-dark",children:c.title}),typeof c.xp_value=="number"&&n.jsx(Te,{variant:"secondary",className:"bg-forge-cream text-forge-dark",children:e("projects.community.xpValue",{xp:c.xp_value})})]}),c.description&&n.jsx("p",{className:"text-sm text-forge-gray/90",children:ET(c.description)}),u.length===0?n.jsx("div",{className:"rounded-lg border border-dashed border-forge-cream/70 bg-forge-cream/30 p-4 text-sm text-forge-gray",children:e("projects.community.noSubmissions")}):n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm font-medium text-forge-dark",children:e("projects.community.submissions",{count:u.length})}),n.jsx("ul",{className:"space-y-2",children:u.map((f,m)=>n.jsxs("li",{className:"flex flex-col gap-1 rounded-md border border-forge-cream/60 bg-white/70 p-3 text-sm text-forge-gray",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsx("a",{href:f.repository_url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-forge-orange hover:underline",children:f.repository_url}),n.jsx(z,{variant:"ghost",size:"sm",asChild:!0,children:n.jsxs("a",{href:f.repository_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs",children:[e("projects.community.visitRepository"),n.jsx(am,{className:"h-3 w-3"})]})})]}),n.jsx("div",{className:"text-xs text-forge-gray/70",children:e("projects.community.submittedBy",{user:f.user_id?`${f.user_id.slice(0,6)}${f.user_id.slice(-4)}`:e("projects.community.anonymous"),date:f.submitted_at?new Date(f.submitted_at).toLocaleString():e("projects.community.dateUnknown")})})]},`${c.id}-${m}-${f.repository_url}`))})]})]})},c.id)})})]},i.id)})})]})}function RT({children:t}){var o;const{user:e,loading:s}=We(),r=Ys();let a=null;const i=!!((o=e==null?void 0:e.app_metadata)!=null&&o.is_admin||a!=null&&a.is_admin);return s?n.jsx("div",{className:"min-h-[40vh] flex items-center justify-center text-gray-500",children:"Checking admin permissions..."}):i?n.jsx(n.Fragment,{children:t}):n.jsx(dc,{to:Mt,replace:!0,state:{from:r}})}function OT(){const[t,e]=b.useState(!1),[s,r]=b.useState(null),a=wa(),i=je();async function o(l){try{e(!0),r(null);const{error:c}=await i.auth.signInWithOAuth({provider:l,options:{redirectTo:Wn()}});if(c)throw c}catch(c){console.error("OAuth error:",c),r(`Failed to sign in with ${l}. Please try again.`)}finally{e(!1)}}return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to Forge College"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Choose your preferred authentication method"})]}),n.jsxs("div",{className:"mt-8 space-y-4",children:[n.jsxs("button",{onClick:()=>o("google"),disabled:t,className:"group relative w-full flex justify-center py-3 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-forge-orange disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),n.jsxs("button",{onClick:()=>o("github"),disabled:t,className:"group relative w-full flex justify-center py-3 px-4 border border-gray-300 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z",clipRule:"evenodd"})}),"Continue with GitHub"]})]}),s&&n.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-red-800",children:s})})]})}),t&&n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("div",{className:"inline-flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-forge-orange",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{className:"text-sm text-gray-600",children:"Redirecting to authentication..."})]})}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:()=>a("/"),className:"text-forge-orange hover:text-forge-orange-dark text-sm font-medium",children:" Back to Home"})})]})})}function LT(){const[t,e]=b.useState("loading"),[s,r]=b.useState("Signing you in..."),a=wa(),i=je();return b.useEffect(()=>{async function o(){var l;try{if((l=(await i.auth.getSession()).data.session)!=null&&l.user){e("success"),r("Authentication successful! Redirecting..."),await new Promise(m=>setTimeout(m,800)),a("/dashboard",{replace:!0});return}const u=new URL(window.location.href).searchParams.get("code");if(u){const{error:m}=await i.auth.exchangeCodeForSession(u);if(m)throw m}else await new Promise(m=>setTimeout(m,800));const{data:{session:h},error:f}=await i.auth.getSession();if(f)throw f;if(h!=null&&h.user)e("success"),r("Authentication successful! Redirecting..."),await new Promise(m=>setTimeout(m,800)),a("/dashboard",{replace:!0});else throw new Error("No session found after OAuth completion")}catch(c){console.error("Auth callback error:",c),e("error"),r("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3)}}o()},[a,i]),n.jsxs("div",{className:"min-h-screen bg-forge-cream relative overflow-hidden flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-forge-orange/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-40 right-20 w-48 h-48 bg-forge-orange/10 rounded-full blur-2xl"})]}),n.jsx("div",{className:"max-w-md w-full space-y-8 bg-white/95 backdrop-blur-sm border border-forge-orange/20 shadow-xl rounded-2xl p-8 relative z-10",children:n.jsxs("div",{className:"text-center",children:[t==="loading"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"mx-auto h-12 w-12 animate-spin rounded-full border-4 border-forge-orange border-t-transparent"}),n.jsx("h2",{className:"text-2xl font-bold text-forge-dark",children:"Processing Authentication"}),n.jsx("p",{className:"text-forge-gray",children:s})]}),t==="success"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-forge-orange/10 flex items-center justify-center",children:n.jsx("svg",{className:"h-8 w-8 text-forge-orange",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("h2",{className:"text-2xl font-bold text-forge-dark",children:"Welcome to Forge College!"}),n.jsx("p",{className:"text-forge-gray",children:s})]}),t==="error"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-red-100 flex items-center justify-center",children:n.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsx("h2",{className:"text-2xl font-bold text-forge-dark",children:"Authentication Failed"}),n.jsx("p",{className:"text-forge-gray",children:s}),n.jsx("button",{onClick:()=>a("/login"),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-forge-orange hover:bg-forge-orange-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-forge-orange transition-all duration-200 shadow-lg hover:shadow-xl rounded-xl",children:"Try Again"})]})]})})]})}const IT=()=>{const t=new Date().toISOString(),{t:e}=we(),s=b.useMemo(()=>`
      document.addEventListener('DOMContentLoaded', function() {
        const jsTest = document.getElementById('js-test');
        if (jsTest) {
          jsTest.innerHTML = \`
            <p><strong>${e("diagnostics.testPage.js.clientReady")}</strong></p>
            <p><strong>${e("diagnostics.testPage.js.userAgent")}</strong> \${navigator.userAgent}</p>
            <p><strong>${e("diagnostics.testPage.js.url")}</strong> \${window.location.href}</p>
            <p><strong>${e("diagnostics.testPage.js.clientTimestamp")}</strong> \${new Date().toISOString()}</p>
          \`;
        }
      });
    `,[e]);return n.jsxs("div",{style:{padding:"2rem",textAlign:"center",fontFamily:"system-ui, sans-serif",maxWidth:"800px",margin:"0 auto"},children:[n.jsx("h1",{children:e("diagnostics.testPage.title")}),n.jsx("p",{children:e("diagnostics.testPage.description")}),n.jsxs("div",{style:{backgroundColor:"#f0f8ff",padding:"1rem",borderRadius:"8px",margin:"1rem 0"},children:[n.jsx("h2",{children:e("diagnostics.testPage.systemStatus.title")}),n.jsx("p",{children:e("diagnostics.testPage.systemStatus.react")}),n.jsx("p",{children:e("diagnostics.testPage.systemStatus.typescript")}),n.jsx("p",{children:e("diagnostics.testPage.systemStatus.build")}),n.jsx("p",{children:e("diagnostics.testPage.systemStatus.deploy")}),n.jsx("p",{children:e("diagnostics.testPage.systemStatus.ssr",{timestamp:t})})]}),n.jsxs("div",{style:{backgroundColor:"#f0fff0",padding:"1rem",borderRadius:"8px",margin:"1rem 0"},children:[n.jsx("h3",{children:e("diagnostics.testPage.environment.title")}),n.jsxs("p",{children:[n.jsx("strong",{children:e("diagnostics.testPage.environment.serverTimestamp")})," ",t]}),n.jsx("p",{children:e("diagnostics.testPage.environment.noJsMessage")})]}),n.jsxs("div",{style:{backgroundColor:"#fff8f0",padding:"1rem",borderRadius:"8px",margin:"1rem 0"},children:[n.jsx("h3",{children:e("diagnostics.testPage.clientTest.title")}),n.jsx("p",{children:e("diagnostics.testPage.clientTest.instructions")}),n.jsx("div",{id:"js-test",style:{backgroundColor:"#e8f5e8",padding:"0.5rem",borderRadius:"4px",margin:"0.5rem 0"},children:n.jsx("p",{children:e("diagnostics.testPage.clientTest.loading")})}),n.jsx("button",{onClick:()=>alert(e("diagnostics.testPage.alerts.jsWorking")),style:{padding:"0.5rem 1rem",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:e("diagnostics.testPage.clientTest.button")})]}),n.jsx("p",{style:{marginTop:"2rem",color:"#666"},children:e("diagnostics.testPage.footer")}),n.jsx("script",{dangerouslySetInnerHTML:{__html:s}})]})},MT=()=>n.jsxs("div",{children:[n.jsxs("pre",{children:["SSR OK: ",new Date().toISOString()]}),n.jsx("p",{children:"Se voc est vendo este texto sem JavaScript, o SSR est funcionando."}),n.jsxs("p",{children:["Timestamp do servidor: ",new Date().toLocaleString()]})]}),DT=()=>n.jsxs("html",{lang:"en",children:[n.jsxs("head",{children:[n.jsx("title",{children:"Bare SSR Test"}),n.jsx("meta",{charSet:"UTF-8"}),n.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),n.jsxs("body",{children:[n.jsxs("pre",{children:["BARE SSR OK: ",new Date().toISOString()]}),n.jsx("p",{children:"Se voc v este texto, o SSR bsico est funcionando."}),n.jsxs("p",{children:["Timestamp: ",new Date().toLocaleString()]})]})]}),$T=()=>{const t=new Date().toISOString(),{t:e,i18n:s}=we();return n.jsxs("html",{lang:s.language,children:[n.jsxs("head",{children:[n.jsx("title",{children:e("diagnostics.staticBare.title")}),n.jsx("meta",{charSet:"UTF-8"}),n.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),n.jsxs("body",{children:[n.jsx("pre",{children:e("diagnostics.staticBare.status",{timestamp:t})}),n.jsx("p",{children:e("diagnostics.staticBare.instructions")}),n.jsx("p",{children:e("diagnostics.staticBare.timestamp",{timestamp:new Date().toLocaleString()})}),n.jsx("p",{children:e("diagnostics.staticBare.renderMode")})]})]})},FT=()=>{const t=new Date().toISOString(),{t:e,i18n:s}=we();return n.jsxs("html",{lang:s.language,children:[n.jsxs("head",{children:[n.jsx("title",{children:e("diagnostics.ssrCanary.title")}),n.jsx("meta",{charSet:"UTF-8"}),n.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),n.jsxs("body",{children:[n.jsx("pre",{children:e("diagnostics.ssrCanary.status",{timestamp:t})}),n.jsx("p",{children:e("diagnostics.ssrCanary.instructions")}),n.jsx("p",{children:e("diagnostics.ssrCanary.timestamp",{timestamp:new Date().toLocaleString()})}),n.jsx("p",{children:e("diagnostics.ssrCanary.renderMode")}),n.jsx("p",{children:e("diagnostics.ssrCanary.runtime")}),n.jsx("p",{children:e("diagnostics.ssrCanary.dynamicMode")})]})]})};class VT extends b.Component{constructor(s){super(s);Ia(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});Ia(this,"handleReset",()=>{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(function(s){document.cookie=s.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),this.setState({hasError:!1,error:null,errorInfo:null}),window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s,errorInfo:null}}componentDidCatch(s,r){console.error("Authentication Error Boundary caught an error:",s,r),this.setState({error:s,errorInfo:r})}render(){var s,r,a,i,o,l,c,d;if(this.state.hasError){const u=((r=(s=this.state.error)==null?void 0:s.message)==null?void 0:r.includes("body stream"))||((i=(a=this.state.error)==null?void 0:a.message)==null?void 0:i.includes("json"))||((l=(o=this.state.error)==null?void 0:o.message)==null?void 0:l.includes("auth"))||((d=(c=this.state.error)==null?void 0:c.message)==null?void 0:d.includes("fetch"));return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-forge-cream p-4",children:n.jsxs(X,{className:"w-full max-w-md bg-white/95 backdrop-blur-sm border border-red-200 shadow-xl",children:[n.jsx(ve,{children:n.jsxs(Ne,{className:"text-red-600 text-xl font-bold flex items-center gap-2",children:[n.jsx(wy,{className:"w-5 h-5"}),"Authentication Error"]})}),n.jsxs(Z,{className:"space-y-4",children:[n.jsx("div",{className:"text-sm text-gray-600",children:u?n.jsx("p",{children:"An authentication error occurred. This might be due to a network issue or temporary service problem."}):n.jsx("p",{children:"An unexpected error occurred in the authentication system."})}),!1,n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(z,{onClick:this.handleRetry,className:"w-full bg-forge-orange hover:bg-forge-orange-light",children:[n.jsx(jy,{className:"w-4 h-4 mr-2"}),"Try Again"]}),n.jsx(z,{onClick:this.handleReset,variant:"outline",className:"w-full border-red-200 text-red-600 hover:bg-red-50",children:"Reset & Go Home"})]})]})]})})}return this.props.children}}function BT(){const t=Ys(),{t:e}=we(),s=b.useMemo(()=>[{to:"/dashboard/admin",label:e("admin.layout.nav.overview"),icon:Ny,end:!0},{to:"/dashboard/admin/formations",label:"Formations",icon:xi},{to:"/dashboard/admin/paths",label:e("admin.layout.nav.paths"),icon:bm},{to:"/dashboard/admin/courses",label:e("admin.layout.nav.courses"),icon:ct},{to:"/dashboard/admin/modules",label:e("admin.layout.nav.modules"),icon:ym},{to:"/dashboard/admin/lessons",label:e("admin.layout.nav.lessons"),icon:vm},{to:"/dashboard/admin/projects",label:e("admin.layout.nav.projects"),icon:Hi}],[e]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("header",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-forge-orange",children:e("admin.layout.kicker")}),n.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-forge-dark",children:e("admin.layout.title")}),n.jsx("p",{className:"text-sm text-forge-gray",children:e("admin.layout.subtitle")})]})}),n.jsx("nav",{className:"flex flex-wrap gap-2 pt-2",children:s.map(({to:r,label:a,icon:i,end:o})=>{const l=o?t.pathname===r:t.pathname.startsWith(r);return n.jsxs(_y,{to:r,end:o,className:E("inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-sm transition-all",l?"border-forge-orange bg-forge-orange/10 text-forge-orange shadow-sm":"border-transparent bg-white text-forge-gray hover:border-forge-cream hover:bg-forge-cream/40 hover:text-forge-dark"),children:[n.jsx(i,{className:"h-4 w-4"}),a]},r)})})]}),n.jsx("main",{className:"space-y-6",children:n.jsx(oc,{})})]})}const UT=[{label:"Learning Paths",description:"Create thematic journeys and bundle courses together.",icon:bm},{label:"Courses",description:"Organize syllabus, outcomes, and prerequisites.",icon:ct},{label:"Modules",description:"Group lessons under clear learning milestones.",icon:ym},{label:"Lessons",description:"Publish text, video, or quiz content for builders.",icon:vm}];function zT(){const{user:t}=We();return n.jsx("div",{className:"grid gap-6 lg:grid-cols-2",children:n.jsxs(X,{className:"lg:col-span-2 border-forge-cream/80 bg-white/80",children:[n.jsxs(ve,{className:"space-y-2",children:[n.jsxs(Ne,{className:"flex items-center gap-2 text-forge-dark",children:[n.jsx(Sy,{className:"h-5 w-5 text-forge-orange"}),"Admin Access Granted"]}),n.jsx("p",{className:"text-sm text-forge-gray",children:t!=null&&t.email?`Managing content as ${t.email}.`:"Manage platform content."})]}),n.jsx(Z,{className:"grid gap-4 md:grid-cols-2",children:UT.map(e=>n.jsxs("div",{className:"flex gap-3 rounded-xl border border-dashed border-forge-cream/60 bg-forge-cream/20 p-4",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-forge-orange/10 text-forge-orange",children:n.jsx(e.icon,{className:"h-5 w-5"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold text-forge-dark",children:e.label}),n.jsx("p",{className:"text-sm text-forge-gray",children:e.description})]})]},e.label))})]})})}var ye;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function s(a){throw new Error}t.assertNever=s,t.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},t.find=(a,i)=>{for(const o of a)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ye||(ye={}));var Wh;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(Wh||(Wh={}));const W=ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ps=t=>{switch(typeof t){case"undefined":return W.undefined;case"string":return W.string;case"number":return Number.isNaN(t)?W.nan:W.number;case"boolean":return W.boolean;case"function":return W.function;case"bigint":return W.bigint;case"symbol":return W.symbol;case"object":return Array.isArray(t)?W.array:t===null?W.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?W.promise:typeof Map<"u"&&t instanceof Map?W.map:typeof Set<"u"&&t instanceof Set?W.set:typeof Date<"u"&&t instanceof Date?W.date:W.object;default:return W.unknown}},D=ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class as extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(i){return i.message},r={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),r}static assert(e){if(!(e instanceof as))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},r=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];s[i]=s[i]||[],s[i].push(e(a))}else r.push(e(a));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}as.create=t=>new as(t);const ql=(t,e)=>{let s;switch(t.code){case D.invalid_type:t.received===W.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case D.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,ye.jsonStringifyReplacer)}`;break;case D.unrecognized_keys:s=`Unrecognized key(s) in object: ${ye.joinValues(t.keys,", ")}`;break;case D.invalid_union:s="Invalid input";break;case D.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${ye.joinValues(t.options)}`;break;case D.invalid_enum_value:s=`Invalid enum value. Expected ${ye.joinValues(t.options)}, received '${t.received}'`;break;case D.invalid_arguments:s="Invalid function arguments";break;case D.invalid_return_type:s="Invalid function return type";break;case D.invalid_date:s="Invalid date";break;case D.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:ye.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case D.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case D.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case D.custom:s="Invalid input";break;case D.invalid_intersection_types:s="Intersection results could not be merged";break;case D.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case D.not_finite:s="Number must be finite";break;default:s=e.defaultError,ye.assertNever(t)}return{message:s}};let qT=ql;function WT(){return qT}const HT=t=>{const{data:e,path:s,errorMaps:r,issueData:a}=t,i=[...s,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...a,path:i,message:l}};function U(t,e){const s=WT(),r=HT({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===ql?void 0:ql].filter(a=>!!a)});t.common.issues.push(r)}class gt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const r=[];for(const a of s){if(a.status==="aborted")return ne;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,s){const r=[];for(const a of s){const i=await a.key,o=await a.value;r.push({key:i,value:o})}return gt.mergeObjectSync(e,r)}static mergeObjectSync(e,s){const r={};for(const a of s){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return ne;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ne=Object.freeze({status:"aborted"}),kn=t=>({status:"dirty",value:t}),kt=t=>({status:"valid",value:t}),Hh=t=>t.status==="aborted",Kh=t=>t.status==="dirty",Fr=t=>t.status==="valid",Li=t=>typeof Promise<"u"&&t instanceof Promise;var K;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(K||(K={}));class ws{constructor(e,s,r,a){this._cachedPath=[],this.parent=e,this.data=s,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Gh=(t,e)=>{if(Fr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new as(t.common.issues);return this._error=s,this._error}}};function fe(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:r,description:a}=t;if(e&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:a}}class be{get description(){return this._def.description}_getType(e){return ps(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:ps(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gt,ctx:{common:e.parent.common,data:e.data,parsedType:ps(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(Li(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const r=this.safeParse(e,s);if(r.success)return r.data;throw r.error}safeParse(e,s){const r={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ps(e)},a=this._parseSync({data:e,path:r.path,parent:r});return Gh(r,a)}"~validate"(e){var r,a;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ps(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return Fr(i)?{value:i.value}:{issues:s.common.issues}}catch(i){(a=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>Fr(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,s){const r=await this.safeParseAsync(e,s);if(r.success)return r.data;throw r.error}async safeParseAsync(e,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ps(e)},a=this._parse({data:e,path:r.path,parent:r}),i=await(Li(a)?a:Promise.resolve(a));return Gh(r,i)}refine(e,s){const r=a=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(a):s;return this._refinement((a,i)=>{const o=e(a),l=()=>i.addIssue({code:D.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof s=="function"?s(r,a):s),!1))}_refinement(e){return new Ur({schema:this,typeName:ie.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return xs.create(this,this._def)}nullable(){return zr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gt.create(this)}promise(){return $i.create(this,this._def)}or(e){return Mi.create([this,e],this._def)}and(e){return Di.create(this,e,this._def)}transform(e){return new Ur({...fe(this._def),schema:this,typeName:ie.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new Kl({...fe(this._def),innerType:this,defaultValue:s,typeName:ie.ZodDefault})}brand(){return new pE({typeName:ie.ZodBranded,type:this,...fe(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new Gl({...fe(this._def),innerType:this,catchValue:s,typeName:ie.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return ld.create(this,e)}readonly(){return Jl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const KT=/^c[^\s-]{8,}$/i,GT=/^[0-9a-z]+$/,JT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ZT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,XT=/^[a-z0-9_-]{21}$/i,YT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,QT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,eE=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Go;const sE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,aE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iE=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oE=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ux="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lE=new RegExp(`^${Ux}$`);function zx(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const s=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${s}`}function cE(t){return new RegExp(`^${zx(t)}$`)}function dE(t){let e=`${Ux}T${zx(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function uE(t,e){return!!((e==="v4"||!e)&&sE.test(t)||(e==="v6"||!e)&&nE.test(t))}function hE(t,e){if(!YT.test(t))return!1;try{const[s]=t.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function fE(t,e){return!!((e==="v4"||!e)&&rE.test(t)||(e==="v6"||!e)&&aE.test(t))}class ss extends be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==W.string){const i=this._getOrReturnCtx(e);return U(i,{code:D.invalid_type,expected:W.string,received:i.parsedType}),ne}const r=new gt;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),U(a,{code:D.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),U(a,{code:D.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(e,a),o?U(a,{code:D.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&U(a,{code:D.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")eE.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"email",code:D.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Go||(Go=new RegExp(tE,"u")),Go.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"emoji",code:D.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")ZT.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"uuid",code:D.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")XT.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"nanoid",code:D.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")KT.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"cuid",code:D.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")GT.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"cuid2",code:D.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")JT.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"ulid",code:D.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),U(a,{validation:"url",code:D.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"regex",code:D.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),U(a,{code:D.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),U(a,{code:D.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),U(a,{code:D.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?dE(i).test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{code:D.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?lE.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{code:D.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?cE(i).test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{code:D.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?QT.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"duration",code:D.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?uE(e.data,i.version)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"ip",code:D.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?hE(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"jwt",code:D.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?fE(e.data,i.version)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"cidr",code:D.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?iE.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"base64",code:D.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?oE.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"base64url",code:D.invalid_string,message:i.message}),r.dirty()):ye.assertNever(i);return{status:r.value,value:e.data}}_regex(e,s,r){return this.refinement(a=>e.test(a),{validation:s,code:D.invalid_string,...K.errToObj(r)})}_addCheck(e){return new ss({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...K.errToObj(e)})}url(e){return this._addCheck({kind:"url",...K.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...K.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...K.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...K.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...K.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...K.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...K.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...K.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...K.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...K.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...K.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...K.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...K.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...K.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...K.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...K.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...K.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...K.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...K.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...K.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...K.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...K.errToObj(s)})}nonempty(e){return this.min(1,K.errToObj(e))}trim(){return new ss({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ss({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ss({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}ss.create=t=>new ss({checks:[],typeName:ie.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...fe(t)});function mE(t,e){const s=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=s>r?s:r,i=Number.parseInt(t.toFixed(a).replace(".","")),o=Number.parseInt(e.toFixed(a).replace(".",""));return i%o/10**a}class Ks extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==W.number){const i=this._getOrReturnCtx(e);return U(i,{code:D.invalid_type,expected:W.number,received:i.parsedType}),ne}let r;const a=new gt;for(const i of this._def.checks)i.kind==="int"?ye.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),U(r,{code:D.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:D.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:D.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?mE(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),U(r,{code:D.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),U(r,{code:D.not_finite,message:i.message}),a.dirty()):ye.assertNever(i);return{status:a.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,K.toString(s))}gt(e,s){return this.setLimit("min",e,!1,K.toString(s))}lte(e,s){return this.setLimit("max",e,!0,K.toString(s))}lt(e,s){return this.setLimit("max",e,!1,K.toString(s))}setLimit(e,s,r,a){return new Ks({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:K.toString(a)}]})}_addCheck(e){return new Ks({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:K.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:K.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:K.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:K.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:K.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:K.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:K.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:K.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:K.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ye.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(s)&&Number.isFinite(e)}}Ks.create=t=>new Ks({checks:[],typeName:ie.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...fe(t)});class Gs extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==W.bigint)return this._getInvalidInput(e);let r;const a=new gt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:D.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:D.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),U(r,{code:D.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ye.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return U(s,{code:D.invalid_type,expected:W.bigint,received:s.parsedType}),ne}gte(e,s){return this.setLimit("min",e,!0,K.toString(s))}gt(e,s){return this.setLimit("min",e,!1,K.toString(s))}lte(e,s){return this.setLimit("max",e,!0,K.toString(s))}lt(e,s){return this.setLimit("max",e,!1,K.toString(s))}setLimit(e,s,r,a){return new Gs({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:K.toString(a)}]})}_addCheck(e){return new Gs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:K.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:K.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:K.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:K.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:K.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Gs.create=t=>new Gs({checks:[],typeName:ie.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...fe(t)});class Ii extends be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==W.boolean){const r=this._getOrReturnCtx(e);return U(r,{code:D.invalid_type,expected:W.boolean,received:r.parsedType}),ne}return kt(e.data)}}Ii.create=t=>new Ii({typeName:ie.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...fe(t)});class Vr extends be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==W.date){const i=this._getOrReturnCtx(e);return U(i,{code:D.invalid_type,expected:W.date,received:i.parsedType}),ne}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return U(i,{code:D.invalid_date}),ne}const r=new gt;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),U(a,{code:D.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),U(a,{code:D.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ye.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Vr({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:K.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:K.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}Vr.create=t=>new Vr({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ie.ZodDate,...fe(t)});class Jh extends be{_parse(e){if(this._getType(e)!==W.symbol){const r=this._getOrReturnCtx(e);return U(r,{code:D.invalid_type,expected:W.symbol,received:r.parsedType}),ne}return kt(e.data)}}Jh.create=t=>new Jh({typeName:ie.ZodSymbol,...fe(t)});class Zh extends be{_parse(e){if(this._getType(e)!==W.undefined){const r=this._getOrReturnCtx(e);return U(r,{code:D.invalid_type,expected:W.undefined,received:r.parsedType}),ne}return kt(e.data)}}Zh.create=t=>new Zh({typeName:ie.ZodUndefined,...fe(t)});class Xh extends be{_parse(e){if(this._getType(e)!==W.null){const r=this._getOrReturnCtx(e);return U(r,{code:D.invalid_type,expected:W.null,received:r.parsedType}),ne}return kt(e.data)}}Xh.create=t=>new Xh({typeName:ie.ZodNull,...fe(t)});class Yh extends be{constructor(){super(...arguments),this._any=!0}_parse(e){return kt(e.data)}}Yh.create=t=>new Yh({typeName:ie.ZodAny,...fe(t)});class Qh extends be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return kt(e.data)}}Qh.create=t=>new Qh({typeName:ie.ZodUnknown,...fe(t)});class js extends be{_parse(e){const s=this._getOrReturnCtx(e);return U(s,{code:D.invalid_type,expected:W.never,received:s.parsedType}),ne}}js.create=t=>new js({typeName:ie.ZodNever,...fe(t)});class ef extends be{_parse(e){if(this._getType(e)!==W.undefined){const r=this._getOrReturnCtx(e);return U(r,{code:D.invalid_type,expected:W.void,received:r.parsedType}),ne}return kt(e.data)}}ef.create=t=>new ef({typeName:ie.ZodVoid,...fe(t)});class Gt extends be{_parse(e){const{ctx:s,status:r}=this._processInputParams(e),a=this._def;if(s.parsedType!==W.array)return U(s,{code:D.invalid_type,expected:W.array,received:s.parsedType}),ne;if(a.exactLength!==null){const o=s.data.length>a.exactLength.value,l=s.data.length<a.exactLength.value;(o||l)&&(U(s,{code:o?D.too_big:D.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&s.data.length<a.minLength.value&&(U(s,{code:D.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&s.data.length>a.maxLength.value&&(U(s,{code:D.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>a.type._parseAsync(new ws(s,o,s.path,l)))).then(o=>gt.mergeArray(r,o));const i=[...s.data].map((o,l)=>a.type._parseSync(new ws(s,o,s.path,l)));return gt.mergeArray(r,i)}get element(){return this._def.type}min(e,s){return new Gt({...this._def,minLength:{value:e,message:K.toString(s)}})}max(e,s){return new Gt({...this._def,maxLength:{value:e,message:K.toString(s)}})}length(e,s){return new Gt({...this._def,exactLength:{value:e,message:K.toString(s)}})}nonempty(e){return this.min(1,e)}}Gt.create=(t,e)=>new Gt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ie.ZodArray,...fe(e)});function Nr(t){if(t instanceof Ve){const e={};for(const s in t.shape){const r=t.shape[s];e[s]=xs.create(Nr(r))}return new Ve({...t._def,shape:()=>e})}else return t instanceof Gt?new Gt({...t._def,type:Nr(t.element)}):t instanceof xs?xs.create(Nr(t.unwrap())):t instanceof zr?zr.create(Nr(t.unwrap())):t instanceof Js?Js.create(t.items.map(e=>Nr(e))):t}class Ve extends be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=ye.objectKeys(e);return this._cached={shape:e,keys:s},this._cached}_parse(e){if(this._getType(e)!==W.object){const d=this._getOrReturnCtx(e);return U(d,{code:D.invalid_type,expected:W.object,received:d.parsedType}),ne}const{status:r,ctx:a}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof js&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ws(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof js){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(U(a,{code:D.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ws(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>gt.mergeObjectSync(r,d)):gt.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return K.errToObj,new Ve({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,r)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,s,r).message)??r.defaultError;return s.code==="unrecognized_keys"?{message:K.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Ve({...this._def,unknownKeys:"strip"})}passthrough(){return new Ve({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ve({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ve({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ie.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new Ve({...this._def,catchall:e})}pick(e){const s={};for(const r of ye.objectKeys(e))e[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new Ve({...this._def,shape:()=>s})}omit(e){const s={};for(const r of ye.objectKeys(this.shape))e[r]||(s[r]=this.shape[r]);return new Ve({...this._def,shape:()=>s})}deepPartial(){return Nr(this)}partial(e){const s={};for(const r of ye.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?s[r]=a:s[r]=a.optional()}return new Ve({...this._def,shape:()=>s})}required(e){const s={};for(const r of ye.objectKeys(this.shape))if(e&&!e[r])s[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof xs;)i=i._def.innerType;s[r]=i}return new Ve({...this._def,shape:()=>s})}keyof(){return qx(ye.objectKeys(this.shape))}}Ve.create=(t,e)=>new Ve({shape:()=>t,unknownKeys:"strip",catchall:js.create(),typeName:ie.ZodObject,...fe(e)});Ve.strictCreate=(t,e)=>new Ve({shape:()=>t,unknownKeys:"strict",catchall:js.create(),typeName:ie.ZodObject,...fe(e)});Ve.lazycreate=(t,e)=>new Ve({shape:t,unknownKeys:"strip",catchall:js.create(),typeName:ie.ZodObject,...fe(e)});class Mi extends be{_parse(e){const{ctx:s}=this._processInputParams(e),r=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new as(l.ctx.common.issues));return U(s,{code:D.invalid_union,unionErrors:o}),ne}if(s.common.async)return Promise.all(r.map(async i=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await i._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of r){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new as(c));return U(s,{code:D.invalid_union,unionErrors:l}),ne}}get options(){return this._def.options}}Mi.create=(t,e)=>new Mi({options:t,typeName:ie.ZodUnion,...fe(e)});function Wl(t,e){const s=ps(t),r=ps(e);if(t===e)return{valid:!0,data:t};if(s===W.object&&r===W.object){const a=ye.objectKeys(e),i=ye.objectKeys(t).filter(l=>a.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=Wl(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===W.array&&r===W.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=Wl(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return s===W.date&&r===W.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Di extends be{_parse(e){const{status:s,ctx:r}=this._processInputParams(e),a=(i,o)=>{if(Hh(i)||Hh(o))return ne;const l=Wl(i.value,o.value);return l.valid?((Kh(i)||Kh(o))&&s.dirty(),{status:s.value,value:l.data}):(U(r,{code:D.invalid_intersection_types}),ne)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Di.create=(t,e,s)=>new Di({left:t,right:e,typeName:ie.ZodIntersection,...fe(s)});class Js extends be{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==W.array)return U(r,{code:D.invalid_type,expected:W.array,received:r.parsedType}),ne;if(r.data.length<this._def.items.length)return U(r,{code:D.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ne;!this._def.rest&&r.data.length>this._def.items.length&&(U(r,{code:D.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ws(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>gt.mergeArray(s,o)):gt.mergeArray(s,i)}get items(){return this._def.items}rest(e){return new Js({...this._def,rest:e})}}Js.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Js({items:t,typeName:ie.ZodTuple,rest:null,...fe(e)})};class tf extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==W.map)return U(r,{code:D.invalid_type,expected:W.map,received:r.parsedType}),ne;const a=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:a._parse(new ws(r,l,r.path,[d,"key"])),value:i._parse(new ws(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return ne;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ne;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}tf.create=(t,e,s)=>new tf({valueType:e,keyType:t,typeName:ie.ZodMap,...fe(s)});class Qn extends be{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==W.set)return U(r,{code:D.invalid_type,expected:W.set,received:r.parsedType}),ne;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(U(r,{code:D.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),s.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(U(r,{code:D.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),s.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ne;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...r.data.values()].map((c,d)=>i._parse(new ws(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,s){return new Qn({...this._def,minSize:{value:e,message:K.toString(s)}})}max(e,s){return new Qn({...this._def,maxSize:{value:e,message:K.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}Qn.create=(t,e)=>new Qn({valueType:t,minSize:null,maxSize:null,typeName:ie.ZodSet,...fe(e)});class sf extends be{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}sf.create=(t,e)=>new sf({getter:t,typeName:ie.ZodLazy,...fe(e)});class Hl extends be{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return U(s,{received:s.data,code:D.invalid_literal,expected:this._def.value}),ne}return{status:"valid",value:e.data}}get value(){return this._def.value}}Hl.create=(t,e)=>new Hl({value:t,typeName:ie.ZodLiteral,...fe(e)});function qx(t,e){return new Br({values:t,typeName:ie.ZodEnum,...fe(e)})}class Br extends be{_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),r=this._def.values;return U(s,{expected:ye.joinValues(r),received:s.parsedType,code:D.invalid_type}),ne}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const s=this._getOrReturnCtx(e),r=this._def.values;return U(s,{received:s.data,code:D.invalid_enum_value,options:r}),ne}return kt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return Br.create(e,{...this._def,...s})}exclude(e,s=this._def){return Br.create(this.options.filter(r=>!e.includes(r)),{...this._def,...s})}}Br.create=qx;class rf extends be{_parse(e){const s=ye.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==W.string&&r.parsedType!==W.number){const a=ye.objectValues(s);return U(r,{expected:ye.joinValues(a),received:r.parsedType,code:D.invalid_type}),ne}if(this._cache||(this._cache=new Set(ye.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=ye.objectValues(s);return U(r,{received:r.data,code:D.invalid_enum_value,options:a}),ne}return kt(e.data)}get enum(){return this._def.values}}rf.create=(t,e)=>new rf({values:t,typeName:ie.ZodNativeEnum,...fe(e)});class $i extends be{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==W.promise&&s.common.async===!1)return U(s,{code:D.invalid_type,expected:W.promise,received:s.parsedType}),ne;const r=s.parsedType===W.promise?s.data:Promise.resolve(s.data);return kt(r.then(a=>this._def.type.parseAsync(a,{path:s.path,errorMap:s.common.contextualErrorMap})))}}$i.create=(t,e)=>new $i({type:t,typeName:ie.ZodPromise,...fe(e)});class Ur extends be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:r}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:o=>{U(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return ne;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?ne:c.status==="dirty"||s.value==="dirty"?kn(c.value):c});{if(s.value==="aborted")return ne;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?ne:l.status==="dirty"||s.value==="dirty"?kn(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?ne:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?ne:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Fr(o))return ne;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Fr(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:s.value,value:l})):ne);ye.assertNever(a)}}Ur.create=(t,e,s)=>new Ur({schema:t,typeName:ie.ZodEffects,effect:e,...fe(s)});Ur.createWithPreprocess=(t,e,s)=>new Ur({schema:e,effect:{type:"preprocess",transform:t},typeName:ie.ZodEffects,...fe(s)});class xs extends be{_parse(e){return this._getType(e)===W.undefined?kt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xs.create=(t,e)=>new xs({innerType:t,typeName:ie.ZodOptional,...fe(e)});class zr extends be{_parse(e){return this._getType(e)===W.null?kt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zr.create=(t,e)=>new zr({innerType:t,typeName:ie.ZodNullable,...fe(e)});class Kl extends be{_parse(e){const{ctx:s}=this._processInputParams(e);let r=s.data;return s.parsedType===W.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Kl.create=(t,e)=>new Kl({innerType:t,typeName:ie.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...fe(e)});class Gl extends be{_parse(e){const{ctx:s}=this._processInputParams(e),r={...s,common:{...s.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Li(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new as(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new as(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Gl.create=(t,e)=>new Gl({innerType:t,typeName:ie.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...fe(e)});class nf extends be{_parse(e){if(this._getType(e)!==W.nan){const r=this._getOrReturnCtx(e);return U(r,{code:D.invalid_type,expected:W.nan,received:r.parsedType}),ne}return{status:"valid",value:e.data}}}nf.create=t=>new nf({typeName:ie.ZodNaN,...fe(t)});class pE extends be{_parse(e){const{ctx:s}=this._processInputParams(e),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class ld extends be{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ne:i.status==="dirty"?(s.dirty(),kn(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ne:a.status==="dirty"?(s.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,s){return new ld({in:e,out:s,typeName:ie.ZodPipeline})}}class Jl extends be{_parse(e){const s=this._def.innerType._parse(e),r=a=>(Fr(a)&&(a.value=Object.freeze(a.value)),a);return Li(s)?s.then(a=>r(a)):r(s)}unwrap(){return this._def.innerType}}Jl.create=(t,e)=>new Jl({innerType:t,typeName:ie.ZodReadonly,...fe(e)});var ie;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ie||(ie={}));const Ce=ss.create;Ks.create;Gs.create;const rn=Ii.create;Vr.create;js.create;Gt.create;const nn=Ve.create,cd=Mi.create;Di.create;Js.create;const mt=Hl.create,io=Br.create;$i.create;xs.create;zr.create;const Ws={string:t=>ss.create({...t,coerce:!0}),number:t=>Ks.create({...t,coerce:!0}),boolean:t=>Ii.create({...t,coerce:!0}),bigint:t=>Gs.create({...t,coerce:!0}),date:t=>Vr.create({...t,coerce:!0})},af=(t,e,s)=>{if(t&&"reportValidity"in t){const r=sl(s,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Wx=(t,e)=>{for(const s in e.fields){const r=e.fields[s];r&&r.ref&&"reportValidity"in r.ref?af(r.ref,s,t):r.refs&&r.refs.forEach(a=>af(a,s,t))}},gE=(t,e)=>{e.shouldUseNativeValidation&&Wx(t,e);const s={};for(const r in t){const a=sl(e.fields,r),i=Object.assign(t[r]||{},{ref:a&&a.ref});if(xE(e.names||Object.keys(t),r)){const o=Object.assign({},sl(s,r));go(o,"root",i),go(s,r,o)}else go(s,r,i)}return s},xE=(t,e)=>t.some(s=>s.startsWith(e+"."));var bE=function(t,e){for(var s={};t.length;){var r=t[0],a=r.code,i=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:i,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=s[o].types,d=c&&c[r.code];s[o]=ky(o,e,s,a,d?[].concat(d,r.message):r.message)}t.shift()}return s},an=function(t,e,s){return s===void 0&&(s={}),function(r,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return i.shouldUseNativeValidation&&Wx({},i),{errors:{},values:s.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:gE(bE(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const on=Py,Hx=b.createContext({}),re=({...t})=>n.jsx(Hx.Provider,{value:{name:t.name},children:n.jsx(Ty,{...t})}),oo=()=>{const t=b.useContext(Hx),e=b.useContext(Kx),{getFieldState:s,formState:r}=Cy(),a=s(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Kx=b.createContext({}),ee=b.forwardRef(({className:t,...e},s)=>{const r=b.useId();return n.jsx(Kx.Provider,{value:{id:r},children:n.jsx("div",{ref:s,className:E("space-y-2",t),...e})})});ee.displayName="FormItem";const te=b.forwardRef(({className:t,...e},s)=>{const{error:r,formItemId:a}=oo();return n.jsx(pt,{ref:s,className:E(r&&"text-destructive",t),htmlFor:a,...e})});te.displayName="FormLabel";const se=b.forwardRef(({...t},e)=>{const{error:s,formItemId:r,formDescriptionId:a,formMessageId:i}=oo();return n.jsx(Ns,{ref:e,id:r,"aria-describedby":s?`${a} ${i}`:`${a}`,"aria-invalid":!!s,...t})});se.displayName="FormControl";const Jt=b.forwardRef(({className:t,...e},s)=>{const{formDescriptionId:r}=oo();return n.jsx("p",{ref:s,id:r,className:E("text-sm text-muted-foreground",t),...e})});Jt.displayName="FormDescription";const he=b.forwardRef(({className:t,children:e,...s},r)=>{const{error:a,formMessageId:i}=oo(),o=a?String(a==null?void 0:a.message):e;return o?n.jsx("p",{ref:r,id:i,className:E("text-sm font-medium text-destructive",t),...s,children:o}):null});he.displayName="FormMessage";const ln=b.forwardRef(({className:t,...e},s)=>n.jsx("textarea",{className:E("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...e}));ln.displayName="Textarea";const Vt=b.forwardRef(({className:t,...e},s)=>n.jsx(wm,{className:E("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:s,children:n.jsx(Ey,{className:E("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Vt.displayName=wm.displayName;const cn=Ry,yE=Ay,Gx=b.forwardRef(({className:t,...e},s)=>n.jsx(jm,{className:E("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:s}));Gx.displayName=jm.displayName;const sr=b.forwardRef(({className:t,...e},s)=>n.jsxs(yE,{children:[n.jsx(Gx,{}),n.jsx(Nm,{ref:s,className:E("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));sr.displayName=Nm.displayName;const rr=({className:t,...e})=>n.jsx("div",{className:E("flex flex-col space-y-2 text-center sm:text-left",t),...e});rr.displayName="AlertDialogHeader";const nr=({className:t,...e})=>n.jsx("div",{className:E("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});nr.displayName="AlertDialogFooter";const ar=b.forwardRef(({className:t,...e},s)=>n.jsx(_m,{ref:s,className:E("text-lg font-semibold",t),...e}));ar.displayName=_m.displayName;const ir=b.forwardRef(({className:t,...e},s)=>n.jsx(Sm,{ref:s,className:E("text-sm text-muted-foreground",t),...e}));ir.displayName=Sm.displayName;const or=b.forwardRef(({className:t,...e},s)=>n.jsx(km,{ref:s,className:E(td(),t),...e}));or.displayName=km.displayName;const lr=b.forwardRef(({className:t,...e},s)=>n.jsx(Cm,{ref:s,className:E(td({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));lr.displayName=Cm.displayName;const Jx=b.forwardRef(({className:t,children:e,...s},r)=>n.jsx("div",{ref:r,className:E("overflow-y-auto",t),...s,children:e}));Jx.displayName="ScrollArea";function vE({formationId:t,selectedPaths:e,onPathsChange:s}){const[r,a]=b.useState(""),i=St(),o=je(),{data:l,isLoading:c}=Le({queryKey:["available-learning-paths",t],queryFn:async()=>{const{data:y,error:N}=await o.from("learning_paths").select("id, title, slug, status").eq("status","published").order("title");if(N)throw N;const{data:w,error:_}=await o.from("formation_paths").select("learning_path_id").eq("formation_id",t);if(_)throw _;const v=new Set((w==null?void 0:w.map(j=>j.learning_path_id))||[]);return(y==null?void 0:y.filter(j=>!v.has(j.id)))||[]}}),d=Ae({mutationFn:async({path:y,order:N})=>{const{error:w}=await o.from("formation_paths").insert({formation_id:t,learning_path_id:y.id,order:N});if(w)throw w;return y},onSuccess:()=>{i.invalidateQueries({queryKey:["available-learning-paths",t]}),i.invalidateQueries({queryKey:["admin-formations"]}),H.success("Path added to formation")},onError:y=>{H.error("Failed to add path: "+y.message)}}),u=Ae({mutationFn:async y=>{const{error:N}=await o.from("formation_paths").delete().eq("formation_id",t).eq("learning_path_id",y);if(N)throw N},onSuccess:()=>{i.invalidateQueries({queryKey:["available-learning-paths",t]}),i.invalidateQueries({queryKey:["admin-formations"]}),H.success("Path removed from formation")},onError:y=>{H.error("Failed to remove path: "+y.message)}}),h=Ae({mutationFn:async({pathId:y,newOrder:N})=>{const{error:w}=await o.from("formation_paths").update({order:N}).eq("formation_id",t).eq("learning_path_id",y);if(w)throw w},onSuccess:()=>{i.invalidateQueries({queryKey:["admin-formations"]}),H.success("Path order updated")},onError:y=>{H.error("Failed to reorder path: "+y.message)}}),f=async y=>{const N=e.length+1;try{await d.mutateAsync({path:y,order:N}),s(w=>[...w,{id:y.id,title:y.title,order:N}])}catch{}},m=async y=>{try{await u.mutateAsync(y),s(N=>N.filter(_=>_.id!==y).map((_,v)=>({..._,order:v+1})))}catch{}},p=(y,N)=>{const w=e.findIndex(A=>A.id===y);if(w===-1)return;const _=N==="up"?w-1:w+1;if(_<0||_>=e.length)return;const v=[...e],[j]=v.splice(w,1);v.splice(_,0,j);const S=v.map((A,R)=>({...A,order:R+1}));s(S),h.mutate({pathId:y,newOrder:_+1})},x=(l==null?void 0:l.filter(y=>{var N;return y.title.toLowerCase().includes(r.toLowerCase())||((N=y.slug)==null?void 0:N.toLowerCase().includes(r.toLowerCase()))}))||[],g=b.useMemo(()=>[...e].sort((y,N)=>y.order-N.order),[e]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(pt,{htmlFor:"search-paths",children:"Add Learning Paths"}),n.jsx(ae,{id:"search-paths",placeholder:"Search paths...",value:r,onChange:y=>a(y.target.value),className:"mt-1"})]}),c?n.jsx("div",{className:"flex items-center justify-center py-4",children:n.jsx(ze,{className:"h-6 w-6 animate-spin"})}):n.jsx(Jx,{className:"h-48 border rounded-md p-2",children:n.jsx("div",{className:"space-y-2",children:x.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:r?"No paths found":"All available paths are already added"}):x.map(y=>n.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-accent rounded",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:y.title}),n.jsx("div",{className:"text-sm text-muted-foreground",children:y.slug})]}),n.jsx(z,{size:"sm",variant:"outline",onClick:()=>f(y),disabled:d.isPending,children:n.jsx(Qs,{className:"h-4 w-4"})})]},y.id))})}),e.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{}),n.jsxs("div",{children:[n.jsxs(pt,{children:["Selected Paths (",e.length,")"]}),n.jsx("div",{className:"mt-2 space-y-2",children:g.map((y,N)=>n.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(z,{size:"sm",variant:"ghost",onClick:()=>p(y.id,"up"),disabled:N===0||h.isPending,children:n.jsx(Oy,{className:"h-3 w-3"})}),n.jsx(z,{size:"sm",variant:"ghost",onClick:()=>p(y.id,"down"),disabled:N===e.length-1||h.isPending,children:n.jsx(Ly,{className:"h-3 w-3"})})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:y.title}),n.jsxs(Te,{variant:"secondary",className:"text-xs",children:["Order: ",y.order]})]})]}),n.jsx(z,{size:"sm",variant:"outline",onClick:()=>m(y.id),disabled:u.isPending,children:n.jsx(Xs,{className:"h-4 w-4"})})]},y.id))})]})]})]})}const wE=t=>t.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),jE=nn({title:Ce().min(1,"Title is required"),description:Ce().optional(),slug:Ce().min(1,"Slug is required"),thumbnail_url:Ce().url().optional().or(mt("")),is_published:rn(),status:io(["draft","published","coming_soon"])});function NE(){const[t,e]=b.useState(!1),[s,r]=b.useState(!1),[a,i]=b.useState(null),[o,l]=b.useState(null),[c,d]=b.useState(!1),[u,h]=b.useState([]),f=St(),m=je(),{user:p}=We(),x=Gr({resolver:an(jE),defaultValues:{title:"",description:"",slug:"",thumbnail_url:"",is_published:!1,status:"draft"}}),g=T=>{var V,ue;const k=T.status,B=k==="published"||k==="coming_soon"?k:T.is_published?"published":"draft",q=B!=="draft";return{title:T.title.trim(),description:(V=T.description)!=null&&V.trim()?T.description.trim():null,slug:T.slug.trim(),thumbnail_url:(ue=T.thumbnail_url)!=null&&ue.trim()?T.thumbnail_url.trim():null,status:B,is_published:q}},y=b.useCallback(()=>{x.reset({title:"",description:"",slug:"",thumbnail_url:"",is_published:!1,status:"draft"}),d(!1),h([])},[x]);b.useEffect(()=>{var T;if(t&&a){x.reset({title:a.title,description:a.description||"",slug:a.slug||"",thumbnail_url:a.thumbnail_url||"",is_published:a.is_published,status:a.status??"draft"});const k=((T=a.paths)==null?void 0:T.slice().sort((L,B)=>L.order-B.order))??[];h(k)}else t&&y()},[t,a,x,y]),b.useEffect(()=>{t||(y(),i(null),l(null))},[t,y]);const N=Ae({mutationFn:async T=>{const k={...T,created_by:(p==null?void 0:p.id)??void 0,updated_by:(p==null?void 0:p.id)??void 0,published_at:T.is_published?new Date().toISOString():null},{error:L}=await m.from("formations").insert(k);if(L)throw L},onSuccess:()=>{f.invalidateQueries({queryKey:["admin-formations"]}),e(!1),y(),H.success("Formation created successfully")},onError:T=>{H.error("Failed to create formation: "+T.message)}}),w=Ae({mutationFn:async({id:T,payload:k,previous:L})=>{const B={...k,updated_by:(p==null?void 0:p.id)??void 0,published_at:k.is_published?L.published_at??new Date().toISOString():null},{error:q}=await m.from("formations").update(B).eq("id",T);if(q)throw q},onSuccess:()=>{f.invalidateQueries({queryKey:["admin-formations"]}),e(!1),i(null),y(),H.success("Formation updated successfully")},onError:T=>{H.error("Failed to update formation: "+T.message)}}),_=Ae({mutationFn:async T=>{const{error:k}=await m.from("formations").delete().eq("id",T);if(k)throw k},onSuccess:()=>{f.invalidateQueries({queryKey:["admin-formations"]}),r(!1),l(null),H.success("Formation deleted successfully")},onError:T=>{H.error("Failed to delete formation: "+T.message)}}),v=x.watch("title"),j=x.watch("slug");b.useEffect(()=>{if(!c&&!a){const T=wE(v??"");T&&T!==j&&x.setValue("slug",T,{shouldValidate:!1})}},[v,c,a,j,x]);const{data:S,isLoading:A}=Le({queryKey:["admin-formations"],queryFn:async()=>{const{data:T,error:k}=await m.from("formations").select(`
          id, title, slug, description, is_published, status, published_at, created_at, updated_at,
          formation_paths(
            order,
            learning_paths(id, title)
          )
        `).order("created_at",{ascending:!1});if(k)throw k;return(T??[]).map(B=>{const{formation_paths:q=[],...V}=B,ue=q.map(P=>P.learning_paths?{id:P.learning_paths.id,title:P.learning_paths.title,order:P.order??0}:null).filter(P=>!!P).sort((P,M)=>P.order-M.order);return{...V,paths_count:ue.length,paths:ue}})}}),R=T=>{const k=g(T);a?w.mutate({id:a.id,payload:k,previous:a}):N.mutate(k)},C=T=>{i(T),e(!0)},O=T=>{l(T),r(!0)},$=()=>{o&&_.mutate(o.id)},I=()=>{i(null),y(),e(!0)};return A?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(ze,{className:"h-8 w-8 animate-spin"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Formations"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage learning formations and their paths"})]}),n.jsxs(z,{onClick:I,children:[n.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Add Formation"]})]}),n.jsx("div",{className:"grid gap-4",children:S==null?void 0:S.map(T=>n.jsxs(X,{children:[n.jsx(ve,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ne,{className:"flex items-center gap-2",children:[T.title,T.status==="published"?n.jsx(Te,{variant:"default",children:"Published"}):T.status==="coming_soon"?n.jsx(Te,{variant:"secondary",children:"Coming Soon"}):n.jsx(Te,{variant:"outline",children:"Draft"})]}),n.jsx(dt,{children:T.description||"No description provided"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(z,{variant:"outline",size:"sm",onClick:()=>C(T),children:n.jsx(Jr,{className:"h-4 w-4"})}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>O(T),children:n.jsx(Zr,{className:"h-4 w-4"})})]})]})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ct,{className:"h-4 w-4"}),T.paths_count," paths"]}),n.jsxs("div",{children:["Created ",ns(new Date(T.created_at))," ago"]}),T.published_at&&n.jsxs("div",{children:["Published ",ns(new Date(T.published_at))," ago"]})]}),T.paths&&T.paths.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Learning Paths:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:T.paths.map(k=>n.jsx(Te,{variant:"outline",children:k.title},k.id))})]})]})]},T.id))}),n.jsx(tr,{open:t,onOpenChange:e,children:n.jsxs(ks,{className:"sm:max-w-[640px]",children:[n.jsxs(Cs,{children:[n.jsx(Ts,{children:a?"Edit Formation":"Create Formation"}),n.jsx(_t,{children:a?"Update the formation details below.":"Fill in the details to create a new formation."})]}),n.jsx(on,{...x,children:n.jsxs("form",{onSubmit:x.handleSubmit(R),className:"space-y-4",children:[n.jsx(re,{control:x.control,name:"title",render:({field:T})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Title"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"Formation title",...T})}),n.jsx(he,{})]})}),n.jsx(re,{control:x.control,name:"slug",render:({field:T})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Slug"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"formation-slug",...T,onChange:k=>{T.onChange(k),d(!0)}})}),n.jsx(he,{})]})}),n.jsx(re,{control:x.control,name:"description",render:({field:T})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Description"}),n.jsx(se,{children:n.jsx(ln,{placeholder:"Formation description",className:"resize-none",...T})}),n.jsx(he,{})]})}),n.jsx(re,{control:x.control,name:"thumbnail_url",render:({field:T})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Thumbnail URL"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"https://example.com/image.jpg",...T})}),n.jsx(he,{})]})}),n.jsx(re,{control:x.control,name:"status",render:({field:T})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Status"}),n.jsx(se,{children:n.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:T.value,onChange:k=>{const L=k.target.value;T.onChange(L),x.setValue("is_published",L!=="draft",{shouldDirty:!0})},children:[n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"published",children:"Published"}),n.jsx("option",{value:"coming_soon",children:"Coming Soon"})]})}),n.jsx(Jt,{children:"Draft formations stay private. Coming soon keeps it visible but routes users to the waiting list."}),n.jsx(he,{})]})}),n.jsx(re,{control:x.control,name:"is_published",render:({field:T})=>n.jsxs(ee,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(te,{className:"text-base",children:"Published"}),n.jsx(Jt,{children:"Make this formation visible to users"})]}),n.jsx(se,{children:n.jsx(Vt,{checked:T.value,onCheckedChange:k=>{T.onChange(k);const L=x.getValues("status");k&&L==="draft"&&x.setValue("status","published",{shouldDirty:!0}),!k&&L!=="draft"&&x.setValue("status","draft",{shouldDirty:!0})}})})]})}),a?n.jsxs("div",{className:"space-y-3",children:[n.jsx(tt,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-forge-dark",children:"Learning paths"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Add or reorder learning paths for this formation. Changes are saved immediately."}),n.jsx(vE,{formationId:a.id,selectedPaths:u,onPathsChange:h})]})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(tt,{}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Save the formation first to associate learning paths."})]}),n.jsx(Ps,{children:n.jsxs(z,{type:"submit",disabled:N.isPending||w.isPending,children:[(N.isPending||w.isPending)&&n.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Update":"Create"]})})]})})]})}),n.jsx(cn,{open:s,onOpenChange:r,children:n.jsxs(sr,{children:[n.jsxs(rr,{children:[n.jsx(ar,{children:"Are you sure?"}),n.jsxs(ir,{children:['This action cannot be undone. This will permanently delete the formation "',o==null?void 0:o.title,'" and remove all associated path assignments.']})]}),n.jsxs(nr,{children:[n.jsx(lr,{children:"Cancel"}),n.jsxs(or,{onClick:$,disabled:_.isPending,children:[_.isPending&&n.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})}const _E=t=>t.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),SE=nn({title:Ce().min(1,"Title is required"),description:Ce().optional(),slug:Ce().min(1,"Slug is required"),is_published:rn(),status:io(["draft","published","coming_soon"])});function kE(){const t=b.useMemo(()=>je(),[]),e=St(),[s,r]=b.useState(!1),[a,i]=b.useState(null),[o,l]=b.useState(null),[c,d]=b.useState(!1),u=Gr({resolver:an(SE),defaultValues:{title:"",slug:"",description:"",is_published:!1,status:"draft"}});b.useEffect(()=>{s||(u.reset(),l(null),d(!1))},[s,u]);const h=u.watch("title"),f=u.watch("slug");b.useEffect(()=>{if(!c&&!o){const v=_E(h??"");v&&v!==f&&u.setValue("slug",v,{shouldValidate:!1})}},[h,c,o,f,u]);const{data:m,isLoading:p}=Le({queryKey:["admin-paths"],queryFn:async()=>{const{data:v,error:j}=await t.from("learning_paths").select("id, title, slug, description, is_published, published_at, created_at, updated_at, status, courses:courses(id)").order("created_at",{ascending:!1});if(j)throw j;return(v??[]).map(S=>({...S,courses_count:Array.isArray(S.courses)?S.courses.length:0}))}}),x=Ae({mutationFn:async v=>{var T;const j=v.title.trim(),S=v.slug.trim(),A=(T=v.description)!=null&&T.trim()?v.description.trim():null,R=v.status,O=R==="published"||R==="coming_soon"?R:v.is_published?"published":"draft",$=O!=="draft",I={title:j,slug:S,description:A,is_published:$,status:O,published_at:$?(o==null?void 0:o.published_at)??new Date().toISOString():null};if(o){const{error:k}=await t.from("learning_paths").update(I).eq("id",o.id);if(k)throw k}else{const{error:k}=await t.from("learning_paths").insert({...I,published_at:$?new Date().toISOString():null});if(k)throw k}},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-paths"]}),H.success(o?"Learning path updated":"Learning path created"),r(!1)},onError:v=>{console.error("Error saving learning path",v),H.error(v instanceof Error?v.message:"Failed to save learning path")}}),g=Ae({mutationFn:async({id:v,publish:j,previousStatus:S,previousPublishedAt:A})=>{const R=j?S==="coming_soon"?"coming_soon":"published":"draft",C=R!=="draft",{error:O}=await t.from("learning_paths").update({is_published:C,status:R,published_at:C?A??new Date().toISOString():null}).eq("id",v);if(O)throw O},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-paths"]}),H.success("Publish state updated")},onError:v=>{console.error("Error toggling publish",v),H.error(v instanceof Error?v.message:"Failed to toggle publish state")}}),y=Ae({mutationFn:async v=>{const{error:j}=await t.from("learning_paths").delete().eq("id",v);if(j)throw j},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-paths"]}),H.success("Learning path deleted"),i(null)},onError:v=>{console.error("Error deleting learning path",v),H.error(v instanceof Error?v.message:"Failed to delete learning path")}}),N=()=>{l(null),d(!1),u.reset({title:"",slug:"",description:"",is_published:!1,status:"draft"}),r(!0)},w=v=>{l(v),d(!0),u.reset({title:v.title??"",slug:v.slug??"",description:v.description??"",is_published:v.is_published,status:v.status??"draft"}),r(!0)},_=v=>{x.mutate(v)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-forge-dark",children:"Learning Paths"}),n.jsx("p",{className:"text-sm text-forge-gray",children:"Group courses into curated journeys. Control slug, visibility, and descriptions from here."})]}),n.jsxs(z,{onClick:N,className:"self-start sm:self-auto",children:[n.jsx(Qs,{className:"mr-2 h-4 w-4"}),"New Path"]})]}),p?n.jsx(X,{className:"border-dashed border-forge-cream/70 bg-white/80",children:n.jsxs(Z,{className:"flex items-center gap-3 p-8 text-forge-gray",children:[n.jsx(ze,{className:"h-4 w-4 animate-spin"})," Loading learning paths..."]})}):m&&m.length>0?n.jsx("div",{className:"grid gap-4",children:m.map(v=>n.jsxs(X,{className:"border border-forge-cream/70 bg-white/80",children:[n.jsxs(ve,{className:"flex flex-row items-start justify-between gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ne,{className:"flex items-center gap-2 text-forge-dark",children:[v.title,v.status==="published"?n.jsx(Te,{variant:"default",className:"bg-forge-orange text-white hover:bg-forge-orange/90",children:"Published"}):v.status==="coming_soon"?n.jsxs(Te,{variant:"secondary",className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:[n.jsx(ys,{className:"h-3 w-3 mr-1"}),"Coming Soon"]}):n.jsx(Te,{variant:"outline",children:"Draft"})]}),n.jsx(dt,{className:"text-sm text-forge-gray",children:v.description||"No description"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{variant:"outline",size:"icon",onClick:()=>w(v),children:n.jsx(Jr,{className:"h-4 w-4"})}),n.jsx(z,{variant:"outline",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>i(v),children:n.jsx(Zr,{className:"h-4 w-4"})})]})]}),n.jsxs(Z,{className:"space-y-3 text-sm text-forge-gray",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-forge-dark",children:"Slug:"})," ",v.slug]}),n.jsx(tt,{orientation:"vertical",className:"hidden h-4 sm:block"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-forge-dark",children:"Courses:"})," ",v.courses_count]})]}),n.jsxs("div",{className:"text-xs text-forge-gray/80",children:["Updated ",v.updated_at?ns(new Date(v.updated_at),{addSuffix:!0}):"N/A"]})]}),n.jsx(Ea,{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Vt,{id:`publish-${v.id}`,checked:v.is_published,onCheckedChange:j=>g.mutate({id:v.id,publish:j,previousStatus:v.status,previousPublishedAt:v.published_at??null}),disabled:g.isPending}),n.jsx("label",{htmlFor:`publish-${v.id}`,className:"text-forge-gray",children:v.is_published?"Unpublish":"Publish"})]})})]},v.id))}):n.jsx(X,{className:"border-dashed border-forge-cream/70 bg-white/70",children:n.jsx(Z,{className:"p-8 text-center text-forge-gray",children:"No learning paths yet. Create your first path to start structuring content."})}),n.jsx(tr,{open:s,onOpenChange:r,children:n.jsxs(ks,{className:"max-w-lg",children:[n.jsxs(Cs,{children:[n.jsx(Ts,{children:o?"Edit learning path":"New learning path"}),n.jsx(_t,{children:o?"Update title, slug, or publication state. Changes go live immediately.":"Define the high-level journey for learners. You can add courses after saving."})]}),n.jsx(on,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(_),className:"space-y-6",children:[n.jsx(re,{control:u.control,name:"title",render:({field:v})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Title"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"e.g. Web Development Accelerator",...v})}),n.jsx(he,{})]})}),n.jsx(re,{control:u.control,name:"slug",render:({field:v})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Slug"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"web-development-accelerator",...v,onChange:j=>{d(!0),v.onChange(j)}})}),n.jsx(he,{})]})}),n.jsx(re,{control:u.control,name:"description",render:({field:v})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Description"}),n.jsx(se,{children:n.jsx(ln,{rows:4,placeholder:"Summarize the journey learners will experience.",...v})}),n.jsx(he,{})]})}),n.jsx(re,{control:u.control,name:"status",render:({field:v})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Status"}),n.jsx(se,{children:n.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:v.value,onChange:j=>{const S=j.target.value;v.onChange(S),u.setValue("is_published",S!=="draft",{shouldDirty:!0})},children:[n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"published",children:"Published"}),n.jsx("option",{value:"coming_soon",children:"Coming Soon"})]})}),n.jsx(he,{})]})}),n.jsx(re,{control:u.control,name:"is_published",render:({field:v})=>n.jsxs(ee,{className:"flex flex-row items-center justify-between rounded-lg border border-forge-cream/80 bg-forge-cream/30 p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(te,{className:"text-base",children:"Publish immediately"}),n.jsx(_t,{children:v.value?"The path is visible to all enrolled learners.":"Keep as draft until you are ready to publish."})]}),n.jsx(se,{children:n.jsx(Vt,{checked:v.value,onCheckedChange:j=>{v.onChange(j);const S=u.getValues("status");j&&S==="draft"&&u.setValue("status","published",{shouldDirty:!0}),!j&&S!=="draft"&&u.setValue("status","draft",{shouldDirty:!0})},disabled:u.formState.isSubmitting})})]})}),n.jsxs(Ps,{children:[n.jsx(z,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:u.formState.isSubmitting,children:"Cancel"}),n.jsx(z,{type:"submit",disabled:u.formState.isSubmitting,children:u.formState.isSubmitting?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):o?"Save changes":"Create path"})]})]})})]})}),n.jsx(cn,{open:!!a,onOpenChange:v=>!v&&i(null),children:n.jsxs(sr,{children:[n.jsxs(rr,{children:[n.jsx(ar,{children:"Delete learning path"}),n.jsxs(ir,{children:["This action cannot be undone. Deleting a path will remove all associated courses, modules, and lessons. Make sure you really want to remove ",a==null?void 0:a.title,"."]})]}),n.jsxs(nr,{children:[n.jsx(lr,{disabled:y.isPending,children:"Cancel"}),n.jsx(or,{onClick:()=>a&&y.mutate(a.id),className:"bg-red-500 hover:bg-red-600",disabled:y.isPending,children:y.isPending?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"})," Deleting..."]}):"Delete"})]})]})})]})}const CE=t=>t.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,80),PE=nn({path_id:Ce().uuid("Select a learning path"),title:Ce().min(3,"Title must have at least 3 characters"),slug:Ce().min(3,"Slug must have at least 3 characters").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and hyphens only"),summary:Ce().max(200,"Summary is too long").optional().or(mt("")),description:Ce().optional().or(mt("")),order:Ws.number().int("Order must be an integer").min(1,"Order must be at least 1"),duration_minutes:cd([Ws.number().int().min(0),mt("")]).optional().transform(t=>t===""||t===void 0?null:Number(t)),thumbnail_url:Ce().url("Must be a valid URL").optional().or(mt("")),is_published:rn().default(!1),status:io(["draft","published","coming_soon"])});function TE(){const t=b.useMemo(()=>je(),[]),e=St(),[s,r]=b.useState("all"),[a,i]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState(null),[u,h]=b.useState(!1),f=Gr({resolver:an(PE),defaultValues:{path_id:"",title:"",slug:"",summary:"",description:"",order:1,duration_minutes:null,thumbnail_url:"",is_published:!1,status:"draft"}});b.useEffect(()=>{a||(f.reset(),l(null),h(!1))},[a,f]);const m=f.watch("title"),p=f.watch("slug");b.useEffect(()=>{if(!u&&!o){const C=CE(m??"");C&&C!==p&&f.setValue("slug",C,{shouldValidate:!1})}},[m,p,u,o,f]);const{data:x=[]}=Le({queryKey:["admin-courses-paths"],queryFn:async()=>{const{data:C,error:O}=await t.from("learning_paths").select("id, title, slug").order("title",{ascending:!0});if(O)throw O;return C??[]}}),g=b.useMemo(()=>x.reduce((C,O)=>(C[O.id]=O,C),{}),[x]),{data:y,isLoading:N}=Le({queryKey:["admin-courses"],queryFn:async()=>{const{data:C,error:O}=await t.from("courses").select("id, title, slug, summary, description, path_id, order, duration_minutes, status, is_published, published_at, thumbnail_url, updated_at, modules:modules(id)").order("order",{ascending:!0});if(O)throw O;return(C??[]).map($=>({...$,moduleCount:Array.isArray($.modules)?$.modules.length:0}))}}),w=b.useMemo(()=>y?s==="all"?y:y.filter(C=>C.path_id===s):[],[y,s]),_=Ae({mutationFn:async C=>{var L,B,q;const O=C.status,I=O==="published"||O==="coming_soon"?O:C.is_published?"published":"draft",T=I!=="draft",k={path_id:C.path_id,title:C.title.trim(),slug:C.slug.trim(),summary:(L=C.summary)!=null&&L.trim()?C.summary.trim():null,description:(B=C.description)!=null&&B.trim()?C.description.trim():null,order:C.order,duration_minutes:C.duration_minutes??null,thumbnail_url:(q=C.thumbnail_url)!=null&&q.trim()?C.thumbnail_url.trim():null,status:I,is_published:T,published_at:T?(o==null?void 0:o.published_at)??new Date().toISOString():null};if(o){const{error:V}=await t.from("courses").update(k).eq("id",o.id);if(V)throw V}else{const{error:V}=await t.from("courses").insert({...k,published_at:T?new Date().toISOString():null});if(V)throw V}},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-courses"]}),H.success(o?"Course updated":"Course created"),i(!1)},onError:C=>{console.error("Error saving course",C),H.error(C instanceof Error?C.message:"Failed to save course")}}),v=Ae({mutationFn:async({id:C,publish:O,previousStatus:$,previousPublishedAt:I})=>{const T=O?$==="coming_soon"?"coming_soon":"published":"draft",k=T!=="draft",{error:L}=await t.from("courses").update({status:T,is_published:k,published_at:k?I??new Date().toISOString():null}).eq("id",C);if(L)throw L},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-courses"]}),H.success("Publish state updated")},onError:C=>{console.error("Error toggling publish",C),H.error(C instanceof Error?C.message:"Failed to toggle publish state")}}),j=Ae({mutationFn:async C=>{const{error:O}=await t.from("courses").delete().eq("id",C);if(O)throw O},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-courses"]}),H.success("Course deleted"),d(null)},onError:C=>{console.error("Error deleting course",C),H.error(C instanceof Error?C.message:"Failed to delete course")}}),S=()=>{l(null),h(!1),f.reset({path_id:s!=="all"?s:"",title:"",slug:"",summary:"",description:"",order:1,duration_minutes:null,thumbnail_url:"",is_published:!1,status:"draft"}),i(!0)},A=C=>{l(C),h(!0),f.reset({path_id:C.path_id??"",title:C.title??"",slug:C.slug??"",summary:C.summary??"",description:C.description??"",order:C.order??1,duration_minutes:C.duration_minutes??null,thumbnail_url:C.thumbnail_url??"",is_published:C.is_published,status:C.status??"draft"}),i(!0)},R=C=>{_.mutate(C)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-forge-dark",children:"Courses"}),n.jsx("p",{className:"text-sm text-forge-gray",children:"Manage courses inside each learning path. Adjust order, metadata, and publish state."})]}),n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[n.jsxs(at,{value:s,onValueChange:C=>r(C),children:[n.jsx(Ye,{className:"w-[240px]",children:n.jsx(it,{placeholder:"Filter by path"})}),n.jsxs(Qe,{children:[n.jsx(Oe,{value:"all",children:"All paths"}),x.map(C=>n.jsx(Oe,{value:C.id,children:C.title},C.id))]})]}),n.jsxs(z,{onClick:S,className:"sm:w-auto",children:[n.jsx(Qs,{className:"mr-2 h-4 w-4"}),"New Course"]})]})]}),N?n.jsx(X,{className:"border-dashed border-forge-cream/70 bg-white/80",children:n.jsxs(Z,{className:"flex items-center gap-3 p-8 text-forge-gray",children:[n.jsx(ze,{className:"h-4 w-4 animate-spin"})," Loading courses..."]})}):w&&w.length>0?n.jsx("div",{className:"grid gap-4",children:w.map(C=>{var O;return n.jsxs(X,{className:"border border-forge-cream/70 bg-white/80",children:[n.jsxs(ve,{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ne,{className:"flex flex-wrap items-center gap-2 text-forge-dark",children:["#",C.order,"  ",C.title,n.jsx(Te,{variant:C.status==="published"?"default":C.status==="coming_soon"?"secondary":"outline",className:C.status==="published"?"bg-forge-orange text-white hover:bg-forge-orange/90":"",children:C.status==="published"?"Published":C.status==="coming_soon"?"Coming Soon":"Draft"})]}),n.jsx(dt,{className:"text-sm text-forge-gray",children:C.summary||"No summary"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{variant:"outline",size:"icon",onClick:()=>A(C),children:n.jsx(Jr,{className:"h-4 w-4"})}),n.jsx(z,{variant:"outline",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>d(C),children:n.jsx(Zr,{className:"h-4 w-4"})})]})]}),n.jsxs(Z,{className:"space-y-3 text-sm text-forge-gray",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-forge-dark",children:"Path:"})," ",C.path_id?((O=g[C.path_id])==null?void 0:O.title)??"Unknown path":"Unassigned"]}),n.jsx(tt,{orientation:"vertical",className:"hidden h-4 sm:block"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-forge-dark",children:"Slug:"})," ",C.slug]}),n.jsx(tt,{orientation:"vertical",className:"hidden h-4 sm:block"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-forge-dark",children:"Modules:"})," ",C.moduleCount]}),C.duration_minutes!=null&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{orientation:"vertical",className:"hidden h-4 sm:block"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-forge-dark",children:"Duration:"})," ",C.duration_minutes," min"]})]})]}),C.description&&n.jsx("p",{className:"text-xs text-forge-gray/90",children:C.description}),C.thumbnail_url&&n.jsx("a",{href:C.thumbnail_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-medium text-forge-orange hover:underline",children:"View thumbnail"}),n.jsxs("div",{className:"text-xs text-forge-gray/80",children:["Updated ",C.updated_at?ns(new Date(C.updated_at),{addSuffix:!0}):"N/A"]})]}),n.jsx(Ea,{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Vt,{id:`course-publish-${C.id}`,checked:C.is_published,onCheckedChange:$=>v.mutate({id:C.id,publish:$,previousStatus:C.status??"draft",previousPublishedAt:C.published_at??null}),disabled:v.isPending}),n.jsx("label",{htmlFor:`course-publish-${C.id}`,className:"text-forge-gray",children:C.is_published?"Unpublish":"Publish"})]})})]},C.id)})}):n.jsx(X,{className:"border-dashed border-forge-cream/70 bg-white/70",children:n.jsx(Z,{className:"p-8 text-center text-forge-gray",children:"No courses found for this filter. Create a new course to start building structure."})}),n.jsx(tr,{open:a,onOpenChange:i,children:n.jsxs(ks,{className:"max-w-2xl",children:[n.jsxs(Cs,{children:[n.jsx(Ts,{children:o?"Edit course":"New course"}),n.jsx(_t,{children:o?"Update metadata, ordering, and visibility for this course.":"Create a course inside a learning path. You can attach modules after saving."})]}),n.jsx(on,{...f,children:n.jsxs("form",{onSubmit:f.handleSubmit(R),className:"space-y-6",children:[n.jsx(re,{control:f.control,name:"path_id",render:({field:C})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Learning path"}),n.jsx(se,{children:n.jsxs(at,{value:C.value,onValueChange:C.onChange,children:[n.jsx(Ye,{className:"w-full",children:n.jsx(it,{placeholder:"Select a learning path"})}),n.jsx(Qe,{children:x.map(O=>n.jsx(Oe,{value:O.id,children:O.title},O.id))})]})}),n.jsx(he,{})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsx(re,{control:f.control,name:"title",render:({field:C})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Title"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"e.g. React & TypeScript Foundations",...C})}),n.jsx(he,{})]})}),n.jsx(re,{control:f.control,name:"slug",render:({field:C})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Slug"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"react-typescript-foundations",...C,onChange:O=>{h(!0),C.onChange(O)}})}),n.jsx(he,{})]})})]}),n.jsx(re,{control:f.control,name:"summary",render:({field:C})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Summary"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"Short one-liner for dashboards",...C})}),n.jsx(he,{})]})}),n.jsx(re,{control:f.control,name:"description",render:({field:C})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Description"}),n.jsx(se,{children:n.jsx(ln,{rows:4,placeholder:"Detailed course description",...C})}),n.jsx(he,{})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[n.jsx(re,{control:f.control,name:"order",render:({field:C})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Order"}),n.jsx(se,{children:n.jsx(ae,{type:"number",min:1,...C})}),n.jsx(he,{})]})}),n.jsx(re,{control:f.control,name:"duration_minutes",render:({field:C})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Duration (minutes)"}),n.jsx(se,{children:n.jsx(ae,{type:"number",min:0,placeholder:"Optional",...C})}),n.jsx(he,{})]})}),n.jsx(re,{control:f.control,name:"thumbnail_url",render:({field:C})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Thumbnail URL"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"https://...",...C})}),n.jsx(Jt,{children:"Use a Supabase Storage public URL or any accessible image. Media uploads will be integrated soon."}),n.jsx(he,{})]})})]}),n.jsx(re,{control:f.control,name:"status",render:({field:C})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Status"}),n.jsx(se,{children:n.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:C.value,onChange:O=>{const $=O.target.value;C.onChange($),f.setValue("is_published",$!=="draft",{shouldDirty:!0})},children:[n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"published",children:"Published"}),n.jsx("option",{value:"coming_soon",children:"Coming Soon"})]})}),n.jsx(Jt,{children:"Coming soon keeps the course visible while you collect early interest."}),n.jsx(he,{})]})}),n.jsx(re,{control:f.control,name:"is_published",render:({field:C})=>n.jsxs(ee,{className:"flex flex-row items-center justify-between rounded-lg border border-forge-cream/80 bg-forge-cream/30 p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(te,{className:"text-base",children:"Publish immediately"}),n.jsx(_t,{children:C.value?"Published courses are visible to learners enrolled in the path.":"Keep as draft until modules and lessons are ready."})]}),n.jsx(se,{children:n.jsx(Vt,{checked:C.value,onCheckedChange:O=>{C.onChange(O);const $=f.getValues("status");O&&$==="draft"&&f.setValue("status","published",{shouldDirty:!0}),!O&&$!=="draft"&&f.setValue("status","draft",{shouldDirty:!0})},disabled:f.formState.isSubmitting})})]})}),n.jsxs(Ps,{children:[n.jsx(z,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:f.formState.isSubmitting,children:"Cancel"}),n.jsx(z,{type:"submit",disabled:f.formState.isSubmitting,children:f.formState.isSubmitting?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):o?"Save changes":"Create course"})]})]})})]})}),n.jsx(cn,{open:!!c,onOpenChange:C=>!C&&d(null),children:n.jsxs(sr,{children:[n.jsxs(rr,{children:[n.jsx(ar,{children:"Delete course"}),n.jsxs(ir,{children:["Deleting a course will also remove its modules and lessons. This cannot be undone. Continue deleting ",c==null?void 0:c.title,"?"]})]}),n.jsxs(nr,{children:[n.jsx(lr,{disabled:j.isPending,children:"Cancel"}),n.jsx(or,{onClick:()=>c&&j.mutate(c.id),className:"bg-red-500 hover:bg-red-600",disabled:j.isPending,children:j.isPending?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"})," Deleting..."]}):"Delete"})]})]})})]})}const EE=t=>t.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,80),AE=nn({course_id:Ce().uuid("Select a course"),title:Ce().min(3,"Title must have at least 3 characters"),slug:Ce().min(3,"Slug must have at least 3 characters").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and hyphens only"),summary:Ce().optional().or(mt("")),order:Ws.number().int("Order must be an integer").min(1,"Order must be at least 1"),is_published:rn().default(!1)});function RE(){const t=b.useMemo(()=>je(),[]),e=St(),[s,r]=b.useState("all"),[a,i]=b.useState("all"),[o,l]=b.useState(!1),[c,d]=b.useState(null),[u,h]=b.useState(null),[f,m]=b.useState(!1),p=Gr({resolver:an(AE),defaultValues:{course_id:"",title:"",slug:"",summary:"",order:1,is_published:!1}});b.useEffect(()=>{o||(p.reset(),d(null),m(!1))},[o,p]);const x=p.watch("title"),g=p.watch("slug");b.useEffect(()=>{if(!f&&!c){const k=EE(x??"");k&&k!==g&&p.setValue("slug",k,{shouldValidate:!1})}},[x,g,f,c,p]);const{data:y=[]}=Le({queryKey:["admin-modules-paths"],queryFn:async()=>{const{data:k,error:L}=await t.from("learning_paths").select("id, title").order("title",{ascending:!0});if(L)throw L;return k??[]}}),{data:N=[]}=Le({queryKey:["admin-modules-courses"],queryFn:async()=>{const{data:k,error:L}=await t.from("courses").select("id, title, path_id, order").order("path_id",{ascending:!0}).order("order",{ascending:!0});if(L)throw L;return k??[]}}),w=b.useMemo(()=>y.reduce((k,L)=>(k[L.id]=L,k),{}),[y]),_=b.useMemo(()=>N.reduce((k,L)=>(k[L.id]=L,k),{}),[N]),v=b.useMemo(()=>s==="all"?N:N.filter(k=>k.path_id===s),[N,s]),{data:j,isLoading:S}=Le({queryKey:["admin-modules"],queryFn:async()=>{const{data:k,error:L}=await t.from("modules").select("id, title, slug, summary, order, course_id, is_published, published_at, updated_at, lessons:lessons(id)").order("course_id",{ascending:!0}).order("order",{ascending:!0});if(L)throw L;return(k??[]).map(B=>({...B,lessonCount:Array.isArray(B.lessons)?B.lessons.length:0}))}}),A=b.useMemo(()=>j?j.filter(k=>{if(s!=="all"){const L=k.course_id?_[k.course_id]:null;if(!L||L.path_id!==s)return!1}return!(a!=="all"&&k.course_id!==a)}):[],[j,s,a,_]),R=Ae({mutationFn:async k=>{var B;const L={course_id:k.course_id,title:k.title.trim(),slug:k.slug.trim(),summary:(B=k.summary)!=null&&B.trim()?k.summary.trim():null,order:k.order,is_published:k.is_published,published_at:k.is_published?(c==null?void 0:c.published_at)??new Date().toISOString():null};if(c){const{error:q}=await t.from("modules").update(L).eq("id",c.id);if(q)throw q}else{const{error:q}=await t.from("modules").insert({...L,published_at:k.is_published?new Date().toISOString():null});if(q)throw q}},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-modules"]}),H.success(c?"Module updated":"Module created"),l(!1)},onError:k=>{console.error("Error saving module",k),H.error(k instanceof Error?k.message:"Failed to save module")}}),C=Ae({mutationFn:async({id:k,publish:L})=>{const{error:B}=await t.from("modules").update({is_published:L,published_at:L?new Date().toISOString():null}).eq("id",k);if(B)throw B},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-modules"]}),H.success("Publish state updated")},onError:k=>{console.error("Error toggling publish",k),H.error(k instanceof Error?k.message:"Failed to toggle publish state")}}),O=Ae({mutationFn:async k=>{const{error:L}=await t.from("modules").delete().eq("id",k);if(L)throw L},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-modules"]}),H.success("Module deleted"),h(null)},onError:k=>{console.error("Error deleting module",k),H.error(k instanceof Error?k.message:"Failed to delete module")}}),$=()=>{d(null),m(!1),p.reset({course_id:a!=="all"?a:"",title:"",slug:"",summary:"",order:1,is_published:!1}),l(!0)},I=k=>{d(k),m(!0),p.reset({course_id:k.course_id??"",title:k.title??"",slug:k.slug??"",summary:k.summary??"",order:k.order??1,is_published:k.is_published}),l(!0)},T=k=>{R.mutate(k)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4 xl:flex-row xl:items-center xl:justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-forge-dark",children:"Modules"}),n.jsx("p",{className:"text-sm text-forge-gray",children:"Structure lessons within courses. Manage ordering and publish visibility for each module."})]}),n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[n.jsxs(at,{value:s,onValueChange:k=>{r(k),i("all")},children:[n.jsx(Ye,{className:"w-[220px]",children:n.jsx(it,{placeholder:"Filter by path"})}),n.jsxs(Qe,{children:[n.jsx(Oe,{value:"all",children:"All paths"}),y.map(k=>n.jsx(Oe,{value:k.id,children:k.title},k.id))]})]}),n.jsxs(at,{value:a,onValueChange:k=>i(k),children:[n.jsx(Ye,{className:"w-[220px]",children:n.jsx(it,{placeholder:"Filter by course"})}),n.jsxs(Qe,{children:[n.jsx(Oe,{value:"all",children:"All courses"}),v.map(k=>n.jsx(Oe,{value:k.id,children:k.title},k.id))]})]}),n.jsxs(z,{onClick:$,className:"md:w-auto",children:[n.jsx(Qs,{className:"mr-2 h-4 w-4"}),"New Module"]})]})]}),S?n.jsx(X,{className:"border-dashed border-forge-cream/70 bg-white/80",children:n.jsxs(Z,{className:"flex items-center gap-3 p-8 text-forge-gray",children:[n.jsx(ze,{className:"h-4 w-4 animate-spin"})," Loading modules..."]})}):A&&A.length>0?n.jsx("div",{className:"grid gap-4",children:A.map(k=>{const L=k.course_id?_[k.course_id]:null,B=L!=null&&L.path_id?w[L.path_id]:null;return n.jsxs(X,{className:"border border-forge-cream/70 bg-white/80",children:[n.jsxs(ve,{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ne,{className:"flex flex-wrap items-center gap-2 text-forge-dark",children:["#",k.order,"  ",k.title,n.jsx(Te,{variant:k.is_published?"default":"outline",className:k.is_published?"bg-forge-orange text-white hover:bg-forge-orange/90":"",children:k.is_published?"Published":"Draft"})]}),n.jsx(dt,{className:"text-sm text-forge-gray",children:k.summary||"No summary"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{variant:"outline",size:"icon",onClick:()=>I(k),children:n.jsx(Jr,{className:"h-4 w-4"})}),n.jsx(z,{variant:"outline",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>h(k),children:n.jsx(Zr,{className:"h-4 w-4"})})]})]}),n.jsxs(Z,{className:"space-y-3 text-sm text-forge-gray",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-forge-dark",children:"Course:"})," ",L?L.title:"Unassigned"]}),n.jsx(tt,{orientation:"vertical",className:"hidden h-4 sm:block"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-forge-dark",children:"Path:"})," ",B?B.title:"Unassigned"]}),n.jsx(tt,{orientation:"vertical",className:"hidden h-4 sm:block"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-forge-dark",children:"Slug:"})," ",k.slug]}),n.jsx(tt,{orientation:"vertical",className:"hidden h-4 sm:block"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-forge-dark",children:"Lessons:"})," ",k.lessonCount]})]}),n.jsxs("div",{className:"text-xs text-forge-gray/80",children:["Updated ",k.updated_at?ns(new Date(k.updated_at),{addSuffix:!0}):"N/A"]})]}),n.jsx(Ea,{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Vt,{id:`module-publish-${k.id}`,checked:k.is_published,onCheckedChange:q=>C.mutate({id:k.id,publish:q}),disabled:C.isPending}),n.jsx("label",{htmlFor:`module-publish-${k.id}`,className:"text-forge-gray",children:k.is_published?"Unpublish":"Publish"})]})})]},k.id)})}):n.jsx(X,{className:"border-dashed border-forge-cream/70 bg-white/70",children:n.jsx(Z,{className:"p-8 text-center text-forge-gray",children:"No modules found for this filter. Create a new module to organize lessons."})}),n.jsx(tr,{open:o,onOpenChange:l,children:n.jsxs(ks,{className:"max-w-xl",children:[n.jsxs(Cs,{children:[n.jsx(Ts,{children:c?"Edit module":"New module"}),n.jsx(_t,{children:c?"Adjust module metadata, ordering, and publish visibility.":"Create a module within a course to group related lessons."})]}),n.jsx(on,{...p,children:n.jsxs("form",{onSubmit:p.handleSubmit(T),className:"space-y-6",children:[n.jsx(re,{control:p.control,name:"course_id",render:({field:k})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Course"}),n.jsx(se,{children:n.jsxs(at,{value:k.value,onValueChange:k.onChange,children:[n.jsx(Ye,{className:"w-full",children:n.jsx(it,{placeholder:"Select a course"})}),n.jsx(Qe,{children:N.map(L=>n.jsx(Oe,{value:L.id,children:L.title},L.id))})]})}),n.jsx(he,{})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsx(re,{control:p.control,name:"title",render:({field:k})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Title"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"e.g. React Fundamentals",...k})}),n.jsx(he,{})]})}),n.jsx(re,{control:p.control,name:"slug",render:({field:k})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Slug"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"react-fundamentals",...k,onChange:L=>{m(!0),k.onChange(L)}})}),n.jsx(he,{})]})})]}),n.jsx(re,{control:p.control,name:"summary",render:({field:k})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Summary"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"Optional highlight for the module",...k})}),n.jsx(he,{})]})}),n.jsx(re,{control:p.control,name:"order",render:({field:k})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Order"}),n.jsx(se,{children:n.jsx(ae,{type:"number",min:1,...k})}),n.jsx(he,{})]})}),n.jsx(re,{control:p.control,name:"is_published",render:({field:k})=>n.jsxs(ee,{className:"flex flex-row items-center justify-between rounded-lg border border-forge-cream/80 bg-forge-cream/30 p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(te,{className:"text-base",children:"Publish immediately"}),n.jsx(_t,{children:k.value?"Published modules are available inside the course.":"Keep as draft until lessons are ready."})]}),n.jsx(se,{children:n.jsx(Vt,{checked:k.value,onCheckedChange:k.onChange,disabled:p.formState.isSubmitting})})]})}),n.jsxs(Ps,{children:[n.jsx(z,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:p.formState.isSubmitting,children:"Cancel"}),n.jsx(z,{type:"submit",disabled:p.formState.isSubmitting,children:p.formState.isSubmitting?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):c?"Save changes":"Create module"})]})]})})]})}),n.jsx(cn,{open:!!u,onOpenChange:k=>!k&&h(null),children:n.jsxs(sr,{children:[n.jsxs(rr,{children:[n.jsx(ar,{children:"Delete module"}),n.jsxs(ir,{children:["Deleting a module will remove all its lessons. This action cannot be undone. Continue deleting ",u==null?void 0:u.title,"?"]})]}),n.jsxs(nr,{children:[n.jsx(lr,{disabled:O.isPending,children:"Cancel"}),n.jsx(or,{onClick:()=>u&&O.mutate(u.id),className:"bg-red-500 hover:bg-red-600",disabled:O.isPending,children:O.isPending?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"})," Deleting..."]}):"Delete"})]})]})})]})}const dd=Iy,lo=b.forwardRef(({className:t,...e},s)=>n.jsx(Pm,{ref:s,className:E("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));lo.displayName=Pm.displayName;const zt=b.forwardRef(({className:t,...e},s)=>n.jsx(Tm,{ref:s,className:E("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));zt.displayName=Tm.displayName;const qr=b.forwardRef(({className:t,...e},s)=>n.jsx(Em,{ref:s,className:E("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));qr.displayName=Em.displayName;function OE({value:t,onChange:e,disabled:s=!1,placeholder:r,className:a,onBlur:i}){const{t:o}=we(),[l,c]=b.useState(!1);return b.useEffect(()=>{c(!0)},[]),l?n.jsx("div",{className:E("w-full rounded-md border bg-white",a),"data-color-mode":"light",children:n.jsx(My,{value:t,preview:"edit",height:300,onChange:d=>e(d??""),textareaProps:{placeholder:r,disabled:s,onBlur:i},"aria-label":o("admin.projects.markdown.ariaLabel")})}):n.jsx("div",{className:E("rounded-md border p-4 text-sm text-muted-foreground",a),children:o("admin.projects.markdown.loading")})}const LE=t=>t.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,80),IE=nn({module_id:Ce().uuid("Select a module"),title:Ce().min(3,"Title must have at least 3 characters"),slug:Ce().min(3,"Slug must have at least 3 characters").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and hyphens only"),lesson_type:io(["text","video","quiz"]),text_content:Ce().optional().or(mt("")),video_url:Ce().optional().or(mt("")),quiz_json:Ce().optional().or(mt("")),xp_value:Ws.number().int().min(0,"XP must be zero or greater"),order:Ws.number().int().min(1,"Order must be at least 1"),duration_minutes:cd([Ws.number().int().min(0),mt("")]).optional().transform(t=>t===""||t===void 0?null:Number(t)),thumbnail_url:Ce().url("Must be a valid URL").optional().or(mt("")),is_published:rn().default(!1)}).refine(t=>{var e;return t.lesson_type!=="text"||!!((e=t.text_content)!=null&&e.trim())},{path:["text_content"],message:"Provide content for the text lesson"}).refine(t=>{var e;return t.lesson_type!=="video"||!!((e=t.video_url)!=null&&e.trim())},{path:["video_url"],message:"Provide a video URL"}).refine(t=>{var e;if(t.lesson_type!=="quiz")return!0;if(!((e=t.quiz_json)!=null&&e.trim()))return!1;try{const s=JSON.parse(t.quiz_json);return Array.isArray(s)}catch{return!1}},{path:["quiz_json"],message:"Provide a valid JSON array of quiz questions"});function ME(){const t=b.useMemo(()=>je(),[]),e=St(),[s,r]=b.useState("all"),[a,i]=b.useState("all"),[o,l]=b.useState("all"),[c,d]=b.useState(!1),[u,h]=b.useState(null),[f,m]=b.useState(null),[p,x]=b.useState(!1),g=Gr({resolver:an(IE),defaultValues:{module_id:"",title:"",slug:"",lesson_type:"text",text_content:"",video_url:"",quiz_json:"",xp_value:10,order:1,duration_minutes:null,thumbnail_url:"",is_published:!1}});b.useEffect(()=>{c||(g.reset(),h(null),x(!1))},[c,g]);const y=g.watch("title"),N=g.watch("slug");b.useEffect(()=>{if(!p&&!u){const P=LE(y??"");P&&P!==N&&g.setValue("slug",P,{shouldValidate:!1})}},[y,N,p,u,g]);const{data:w=[]}=Le({queryKey:["admin-lessons-paths"],queryFn:async()=>{const{data:P,error:M}=await t.from("learning_paths").select("id, title").order("title",{ascending:!0});if(M)throw M;return P??[]}}),{data:_=[]}=Le({queryKey:["admin-lessons-courses"],queryFn:async()=>{const{data:P,error:M}=await t.from("courses").select("id, title, path_id, order").order("path_id",{ascending:!0}).order("order",{ascending:!0});if(M)throw M;return P??[]}}),{data:v=[]}=Le({queryKey:["admin-lessons-modules"],queryFn:async()=>{const{data:P,error:M}=await t.from("modules").select("id, title, course_id, order").order("course_id",{ascending:!0}).order("order",{ascending:!0});if(M)throw M;return P??[]}}),j=b.useMemo(()=>v.reduce((P,M)=>(P[M.id]=M,P),{}),[v]),S=b.useMemo(()=>_.reduce((P,M)=>(P[M.id]=M,P),{}),[_]),A=b.useMemo(()=>w.reduce((P,M)=>(P[M.id]=M,P),{}),[w]),R=b.useMemo(()=>s==="all"?_:_.filter(P=>P.path_id===s),[_,s]),C=b.useMemo(()=>v.filter(P=>{if(s!=="all"){const M=P.course_id?S[P.course_id]:null;if(!M||M.path_id!==s)return!1}return!(a!=="all"&&P.course_id!==a)}),[v,s,a,S]),{data:O,isLoading:$}=Le({queryKey:["admin-lessons"],queryFn:async()=>{const{data:P,error:M}=await t.from("lessons").select("id, title, slug, lesson_type, module_id, order, content, xp_value, duration_minutes, thumbnail_url, is_published, published_at, updated_at").order("module_id",{ascending:!0}).order("order",{ascending:!0});if(M)throw M;return P??[]}}),I=b.useMemo(()=>O?O.filter(P=>{const M=P.module_id?j[P.module_id]:null,G=M!=null&&M.course_id?S[M.course_id]:null,xe=(G==null?void 0:G.path_id)??null;return!(s!=="all"&&xe!==s||a!=="all"&&(M==null?void 0:M.course_id)!==a||o!=="all"&&P.module_id!==o)}):[],[O,s,a,o,j,S]),T=Ae({mutationFn:async P=>{var xe,Me,ht;let M=null;P.lesson_type==="text"?M=((xe=P.text_content)==null?void 0:xe.trim())??"":P.lesson_type==="video"?M=((Me=P.video_url)==null?void 0:Me.trim())??"":M=JSON.parse(P.quiz_json??"[]");const G={module_id:P.module_id,title:P.title.trim(),slug:P.slug.trim(),lesson_type:P.lesson_type,content:M,xp_value:P.xp_value,order:P.order,duration_minutes:P.duration_minutes??null,thumbnail_url:(ht=P.thumbnail_url)!=null&&ht.trim()?P.thumbnail_url.trim():null,is_published:P.is_published,published_at:P.is_published?(u==null?void 0:u.published_at)??new Date().toISOString():null};if(u){const{error:Se}=await t.from("lessons").update(G).eq("id",u.id);if(Se)throw Se}else{const{error:Se}=await t.from("lessons").insert({...G,published_at:P.is_published?new Date().toISOString():null});if(Se)throw Se}},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-lessons"]}),H.success(u?"Lesson updated":"Lesson created"),d(!1)},onError:P=>{console.error("Error saving lesson",P),H.error(P instanceof Error?P.message:"Failed to save lesson")}}),k=Ae({mutationFn:async({id:P,publish:M})=>{const{error:G}=await t.from("lessons").update({is_published:M,published_at:M?new Date().toISOString():null}).eq("id",P);if(G)throw G},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-lessons"]}),H.success("Publish state updated")},onError:P=>{console.error("Error toggling publish",P),H.error(P instanceof Error?P.message:"Failed to toggle publish state")}}),L=Ae({mutationFn:async P=>{const{error:M}=await t.from("lessons").delete().eq("id",P);if(M)throw M},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-lessons"]}),H.success("Lesson deleted"),m(null)},onError:P=>{console.error("Error deleting lesson",P),H.error(P instanceof Error?P.message:"Failed to delete lesson")}}),B=()=>{h(null),x(!1),g.reset({module_id:o!=="all"?o:"",title:"",slug:"",lesson_type:"text",text_content:"",video_url:"",quiz_json:"",xp_value:10,order:1,duration_minutes:null,thumbnail_url:"",is_published:!1}),d(!0)},q=P=>{h(P),x(!0);const M=P.module_id??"",G=P.content;let xe="",Me="",ht="";if(P.lesson_type==="text")xe=typeof G=="string"?G:"";else if(P.lesson_type==="video")Me=typeof G=="string"?G:"";else if(G)try{ht=JSON.stringify(G,null,2)}catch{ht=""}g.reset({module_id:M,title:P.title??"",slug:P.slug??"",lesson_type:P.lesson_type,text_content:xe,video_url:Me,quiz_json:ht,xp_value:P.xp_value??0,order:P.order??1,duration_minutes:P.duration_minutes??null,thumbnail_url:P.thumbnail_url??"",is_published:P.is_published}),d(!0)},V=P=>{try{T.mutate(P)}catch(M){M instanceof Error&&H.error(M.message)}},ue=P=>P.lesson_type==="text"?(typeof P.content=="string"?P.content:"").slice(0,160):P.lesson_type==="video"?typeof P.content=="string"?P.content:"":"Quiz lesson contents";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4 xl:flex-row xl:items-center xl:justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-forge-dark",children:"Lessons"}),n.jsx("p",{className:"text-sm text-forge-gray",children:"Create and manage lesson content across modules. Support for text, video, and quiz formats."})]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(at,{value:s,onValueChange:P=>{r(P),i("all"),l("all")},children:[n.jsx(Ye,{children:n.jsx(it,{placeholder:"Filter by path"})}),n.jsxs(Qe,{children:[n.jsx(Oe,{value:"all",children:"All paths"}),w.map(P=>n.jsx(Oe,{value:P.id,children:P.title},P.id))]})]}),n.jsxs(at,{value:a,onValueChange:P=>{i(P),l("all")},children:[n.jsx(Ye,{children:n.jsx(it,{placeholder:"Filter by course"})}),n.jsxs(Qe,{children:[n.jsx(Oe,{value:"all",children:"All courses"}),R.map(P=>n.jsx(Oe,{value:P.id,children:P.title},P.id))]})]}),n.jsxs(at,{value:o,onValueChange:P=>l(P),children:[n.jsx(Ye,{children:n.jsx(it,{placeholder:"Filter by module"})}),n.jsxs(Qe,{children:[n.jsx(Oe,{value:"all",children:"All modules"}),C.map(P=>n.jsxs(Oe,{value:P.id,children:["#",P.order,"  ",P.title]},P.id))]})]}),n.jsxs(z,{onClick:B,className:"w-full",children:[n.jsx(Qs,{className:"mr-2 h-4 w-4"}),"New Lesson"]})]})]}),$?n.jsx(X,{className:"border-dashed border-forge-cream/70 bg-white/80",children:n.jsxs(Z,{className:"flex items-center gap-3 p-8 text-forge-gray",children:[n.jsx(ze,{className:"h-4 w-4 animate-spin"})," Loading lessons..."]})}):I&&I.length>0?n.jsx("div",{className:"grid gap-4",children:I.map(P=>{const M=P.module_id?j[P.module_id]:null,G=M!=null&&M.course_id?S[M.course_id]:null,xe=G!=null&&G.path_id?A[G.path_id]:null;return n.jsxs(X,{className:"border border-forge-cream/70 bg-white/80",children:[n.jsxs(ve,{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ne,{className:"flex flex-wrap items-center gap-2 text-forge-dark",children:["#",P.order,"  ",P.title,n.jsx(Te,{variant:P.is_published?"default":"outline",className:P.is_published?"bg-forge-orange text-white hover:bg-forge-orange/90":"",children:P.is_published?"Published":"Draft"}),n.jsxs(Te,{variant:"outline",className:"flex items-center gap-1 text-xs",children:[n.jsx(Dy,{className:"h-3.5 w-3.5"})," ",P.lesson_type.toUpperCase()]})]}),n.jsxs(dt,{className:"text-sm text-forge-gray",children:[M?`${M.title}  `:"",G?`${G.title}  `:"",xe?xe.title:""]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{variant:"outline",size:"icon",onClick:()=>q(P),children:n.jsx(Jr,{className:"h-4 w-4"})}),n.jsx(z,{variant:"outline",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>m(P),children:n.jsx(Zr,{className:"h-4 w-4"})})]})]}),n.jsxs(Z,{className:"space-y-3 text-sm text-forge-gray",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-forge-dark",children:"Slug:"})," ",P.slug]}),n.jsx(tt,{orientation:"vertical",className:"hidden h-4 sm:block"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-forge-dark",children:"XP:"})," ",P.xp_value]}),P.duration_minutes!=null&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{orientation:"vertical",className:"hidden h-4 sm:block"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-forge-dark",children:"Duration:"})," ",P.duration_minutes," min"]})]}),P.thumbnail_url&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{orientation:"vertical",className:"hidden h-4 sm:block"}),n.jsx("a",{href:P.thumbnail_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-medium text-forge-orange hover:underline",children:"Thumbnail"})]})]}),n.jsx("p",{className:"text-xs text-forge-gray/90 line-clamp-3",children:ue(P)}),n.jsxs("div",{className:"text-xs text-forge-gray/80",children:["Updated ",P.updated_at?ns(new Date(P.updated_at),{addSuffix:!0}):"N/A"]})]}),n.jsx(Ea,{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Vt,{id:`lesson-publish-${P.id}`,checked:P.is_published,onCheckedChange:Me=>k.mutate({id:P.id,publish:Me}),disabled:k.isPending}),n.jsx("label",{htmlFor:`lesson-publish-${P.id}`,className:"text-forge-gray",children:P.is_published?"Unpublish":"Publish"})]})})]},P.id)})}):n.jsx(X,{className:"border-dashed border-forge-cream/70 bg-white/70",children:n.jsx(Z,{className:"p-8 text-center text-forge-gray",children:"No lessons found for this filter. Create a lesson to deliver content to learners."})}),n.jsx(tr,{open:c,onOpenChange:d,children:n.jsxs(ks,{className:"max-w-3xl",children:[n.jsxs(Cs,{children:[n.jsx(Ts,{children:u?"Edit lesson":"New lesson"}),n.jsx(_t,{children:u?"Update lesson metadata, content, and publication state.":"Compose new content and attach it to a module. Choose the appropriate lesson format."})]}),n.jsx(on,{...g,children:n.jsxs("form",{onSubmit:g.handleSubmit(V),className:"space-y-6",children:[n.jsx(re,{control:g.control,name:"module_id",render:({field:P})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Module"}),n.jsx(se,{children:n.jsxs(at,{value:P.value,onValueChange:P.onChange,children:[n.jsx(Ye,{className:"w-full",children:n.jsx(it,{placeholder:"Select a module"})}),n.jsx(Qe,{children:(C.length>0?C:v).map(M=>n.jsxs(Oe,{value:M.id,children:["#",M.order,"  ",M.title]},M.id))})]})}),n.jsx(he,{})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsx(re,{control:g.control,name:"title",render:({field:P})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Title"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"e.g. Understanding Components",...P})}),n.jsx(he,{})]})}),n.jsx(re,{control:g.control,name:"slug",render:({field:P})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Slug"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"understanding-components",...P,onChange:M=>{x(!0),P.onChange(M)}})}),n.jsx(he,{})]})})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[n.jsx(re,{control:g.control,name:"lesson_type",render:({field:P})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Lesson type"}),n.jsx(se,{children:n.jsxs(at,{value:P.value,onValueChange:P.onChange,children:[n.jsx(Ye,{children:n.jsx(it,{})}),n.jsxs(Qe,{children:[n.jsx(Oe,{value:"text",children:"Text"}),n.jsx(Oe,{value:"video",children:"Video"}),n.jsx(Oe,{value:"quiz",children:"Quiz"})]})]})}),n.jsx(he,{})]})}),n.jsx(re,{control:g.control,name:"order",render:({field:P})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Order"}),n.jsx(se,{children:n.jsx(ae,{type:"number",min:1,...P})}),n.jsx(he,{})]})}),n.jsx(re,{control:g.control,name:"xp_value",render:({field:P})=>n.jsxs(ee,{children:[n.jsx(te,{children:"XP value"}),n.jsx(se,{children:n.jsx(ae,{type:"number",min:0,...P})}),n.jsx(he,{})]})})]}),g.watch("lesson_type")==="text"&&n.jsx(re,{control:g.control,name:"text_content",render:({field:P})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Markdown content"}),n.jsxs(dd,{defaultValue:"edit",className:"w-full",children:[n.jsxs(lo,{children:[n.jsx(zt,{value:"edit",children:"Edit"}),n.jsx(zt,{value:"preview",children:"Preview"})]}),n.jsx(qr,{value:"edit",children:n.jsx(se,{children:n.jsx(OE,{value:P.value??"",onChange:P.onChange,onBlur:P.onBlur,placeholder:"Write lesson content in Markdown"})})}),n.jsx(qr,{value:"preview",children:n.jsx("div",{className:"rounded-md border p-4 bg-white",children:n.jsx("div",{className:"prose prose-slate max-w-none",children:n.jsx(sm,{components:{a:({node:M,...G})=>n.jsx("a",{...G,target:"_blank",rel:"noopener noreferrer"})},children:P.value||"Nothing to preview yet."})})})})]}),n.jsx(Jt,{children:"Supports Markdown syntax (headings, lists, code blocks, links, images)."}),n.jsx(he,{})]})}),g.watch("lesson_type")==="video"&&n.jsx(re,{control:g.control,name:"video_url",render:({field:P})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Video URL"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"https://www.youtube.com/watch?v=...",...P})}),n.jsx(he,{})]})}),g.watch("lesson_type")==="quiz"&&n.jsx(re,{control:g.control,name:"quiz_json",render:({field:P})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Quiz JSON"}),n.jsx(se,{children:n.jsx(ln,{rows:8,placeholder:`[
  {
    "question": "What is React?",
    "options": ["Library", "Framework"],
    "correctAnswer": "Library"
  }
]`,...P})}),n.jsx(he,{})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsx(re,{control:g.control,name:"duration_minutes",render:({field:P})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Duration (minutes)"}),n.jsx(se,{children:n.jsx(ae,{type:"number",min:0,placeholder:"Optional",...P})}),n.jsx(he,{})]})}),n.jsx(re,{control:g.control,name:"thumbnail_url",render:({field:P})=>n.jsxs(ee,{children:[n.jsx(te,{children:"Thumbnail URL"}),n.jsx(se,{children:n.jsx(ae,{placeholder:"https://...",...P})}),n.jsx(Jt,{children:"Store media in Supabase Storage and paste the public URL here. Upload widgets are planned for a next iteration."}),n.jsx(he,{})]})})]}),n.jsx(re,{control:g.control,name:"is_published",render:({field:P})=>n.jsxs(ee,{className:"flex flex-row items-center justify-between rounded-lg border border-forge-cream/80 bg-forge-cream/30 p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(te,{className:"text-base",children:"Publish immediately"}),n.jsx(_t,{children:P.value?"Published lessons appear instantly in the learner experience.":"Keep as draft until you are ready to release."})]}),n.jsx(se,{children:n.jsx(Vt,{checked:P.value,onCheckedChange:P.onChange,disabled:g.formState.isSubmitting})})]})}),n.jsxs(Ps,{children:[n.jsx(z,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:g.formState.isSubmitting,children:"Cancel"}),n.jsx(z,{type:"submit",disabled:g.formState.isSubmitting,children:g.formState.isSubmitting?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):u?"Save changes":"Create lesson"})]})]})})]})}),n.jsx(cn,{open:!!f,onOpenChange:P=>!P&&m(null),children:n.jsxs(sr,{children:[n.jsxs(rr,{children:[n.jsx(ar,{children:"Delete lesson"}),n.jsxs(ir,{children:["Deleting a lesson cannot be undone. Learner progress for this lesson will be lost. Continue deleting ",f==null?void 0:f.title,"?"]})]}),n.jsxs(nr,{children:[n.jsx(lr,{disabled:L.isPending,children:"Cancel"}),n.jsx(or,{onClick:()=>f&&L.mutate(f.id),className:"bg-red-500 hover:bg-red-600",disabled:L.isPending,children:L.isPending?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"})," Deleting..."]}):"Delete"})]})]})})]})}const DE=t=>t?t.replace(/<[^>]+>/g,"").trim():"";function $E(){const{t}=we(),e=b.useMemo(()=>je(),[]),s=St(),[r,a]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(null),[d,u]=b.useState(null),[h,f]=b.useState("all"),m=b.useMemo(()=>nn({module_id:Ce().uuid(t("admin.projects.validation.moduleRequired")),title:Ce().min(3,t("admin.projects.validation.titleMin")),description:Ce().optional().or(mt("")),xp_value:cd([mt(""),Ws.number().int().min(0,t("admin.projects.validation.xpMin"))]).transform(I=>I===""?null:I),is_active:rn()}),[t]),p=Gr({resolver:an(m),defaultValues:{module_id:"",title:"",description:"",xp_value:null,is_active:!0}});b.useEffect(()=>{r||(c(null),p.reset({module_id:"",title:"",description:"",xp_value:null,is_active:!0}))},[r,p]);const{data:x=[],isLoading:g}=Le({queryKey:["admin-module-projects-modules"],queryFn:async()=>{const{data:I,error:T}=await e.from("modules").select("id, title, order, course:courses(id, title)").order("order",{ascending:!0});if(T)throw T;return(I??[]).map(k=>({...k,course:k.course??null}))}}),{data:y=[],isLoading:N}=Le({queryKey:["admin-module-projects"],queryFn:async()=>{const{data:I,error:T}=await e.from("module_projects").select("id, module_id, title, description, xp_value, is_active, module:modules(id, title, order, course:courses(id, title))").order("module_id",{ascending:!0}).order("created_at",{ascending:!0}).order("title",{ascending:!0});if(T)throw T;return(I??[]).map(k=>({...k,module:k.module??null}))},onError:I=>{console.error("Error loading projects",I),H.error(t("admin.projects.notifications.loadError"))}}),w=b.useMemo(()=>h==="all"?y:y.filter(I=>I.module_id===h),[y,h]),_=b.useMemo(()=>{const I=new Map;return w.forEach(T=>{const k=T.module_id||"unassigned";I.has(k)||I.set(k,{module:T.module??null,items:[]}),I.get(k).items.push(T)}),Array.from(I.entries()).sort((T,k)=>{var ue,P,M,G;const L=((ue=T[1].module)==null?void 0:ue.order)??Number.MAX_SAFE_INTEGER,B=((P=k[1].module)==null?void 0:P.order)??Number.MAX_SAFE_INTEGER;if(L!==B)return L-B;const q=((M=T[1].module)==null?void 0:M.title)??"",V=((G=k[1].module)==null?void 0:G.title)??"";return q.localeCompare(V)}).map(([T,k])=>({key:T,...k}))},[w]),v=Ae({mutationFn:async I=>{var k;const T={module_id:I.module_id,title:I.title.trim(),description:(k=I.description)!=null&&k.trim()?I.description.trim():null,xp_value:I.xp_value,is_active:I.is_active};if(l){const{error:L}=await e.from("module_projects").update(T).eq("id",l.id);if(L)throw L}else{const{error:L}=await e.from("module_projects").insert(T);if(L)throw L}},onSuccess:()=>{s.invalidateQueries({queryKey:["admin-module-projects"]}),H.success(t(l?"admin.projects.notifications.updated":"admin.projects.notifications.created")),a(!1)},onError:I=>{console.error("Error saving project",I),H.error(t("admin.projects.notifications.saveError"))}}),j=Ae({mutationFn:async I=>{const{error:T}=await e.from("module_projects").delete().eq("id",I);if(T)throw T},onSuccess:()=>{s.invalidateQueries({queryKey:["admin-module-projects"]}),H.success(t("admin.projects.notifications.deleted")),o(!1),u(null)},onError:I=>{console.error("Error deleting project",I),H.error(t("admin.projects.notifications.deleteError"))}}),S=b.useCallback(()=>{c(null),p.reset({module_id:"",title:"",description:"",xp_value:null,is_active:!0}),a(!0)},[p,a]),A=b.useCallback(I=>{c(I),p.reset({module_id:I.module_id,title:I.title,description:I.description??"",xp_value:I.xp_value??null,is_active:I.is_active??!0}),a(!0)},[p,a]),R=b.useCallback(I=>{u(I),o(!0)},[]),C=I=>{v.mutate(I)},O=b.useMemo(()=>x.slice().sort((I,T)=>I.order!==T.order?I.order-T.order:I.title.localeCompare(T.title)),[x]),$=b.useMemo(()=>_.map(({key:I,module:T,items:k})=>n.jsxs(X,{className:"border border-forge-cream/70 bg-white/80",children:[n.jsx(ve,{className:"flex flex-col gap-2 lg:flex-row lg:items-start lg:justify-between",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx(Ne,{className:"text-forge-dark",children:T?`${T.title}`:t("admin.projects.unassignedModule")}),(T==null?void 0:T.course)&&n.jsx(dt,{className:"text-sm text-forge-gray",children:t("admin.projects.labels.course",{course:T.course.title})})]})}),n.jsx(Z,{className:"space-y-4",children:k.map((L,B)=>{const q=B+1;return n.jsx("div",{className:"rounded-lg border border-forge-cream/60 bg-white/90 p-4 shadow-sm transition-shadow hover:shadow-md",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"rounded-full bg-forge-orange/10 px-2 py-0.5 text-xs font-medium text-forge-orange",children:t("admin.projects.labels.projectNumber",{number:q})}),n.jsx("h3",{className:"text-lg font-semibold text-forge-dark",children:L.title}),!L.is_active&&n.jsx(Te,{variant:"outline",className:"border-red-200 text-red-600",children:t("admin.projects.labels.inactive")}),typeof L.xp_value=="number"&&n.jsx(Te,{variant:"secondary",className:"bg-forge-cream text-forge-dark",children:t("admin.projects.labels.xpValue",{xp:L.xp_value})})]}),L.description&&n.jsx("p",{className:"text-sm text-forge-gray/90 line-clamp-2",children:DE(L.description)})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{variant:"outline",size:"icon",onClick:()=>A(L),children:n.jsx(Jr,{className:"h-4 w-4"})}),n.jsx(z,{variant:"outline",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>R(L),children:n.jsx(Zr,{className:"h-4 w-4"})})]})]})},L.id)})})]},I)),[_,R,A,t]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4 xl:flex-row xl:items-center xl:justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-forge-dark",children:t("admin.projects.title")}),n.jsx("p",{className:"text-sm text-forge-gray",children:t("admin.projects.subtitle")})]}),n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[n.jsxs(at,{value:h,onValueChange:I=>f(I),disabled:g,children:[n.jsx(Ye,{className:"w-[240px]",children:n.jsx(it,{placeholder:t("admin.projects.filters.modulePlaceholder")})}),n.jsxs(Qe,{children:[n.jsx(Oe,{value:"all",children:t("admin.projects.filters.allModules")}),O.map(I=>n.jsx(Oe,{value:I.id,children:I.course?`${I.course.title}  ${I.title}`:I.title},I.id))]})]}),n.jsxs(z,{onClick:S,disabled:g||O.length===0,className:"md:w-auto",children:[n.jsx(Qs,{className:"mr-2 h-4 w-4"}),t("admin.projects.actions.newProject")]})]})]}),N?n.jsx(X,{className:"border-dashed border-forge-cream/70 bg-white/80",children:n.jsxs(Z,{className:"flex items-center gap-3 p-8 text-forge-gray",children:[n.jsx(ze,{className:"h-4 w-4 animate-spin"}),t("admin.projects.loading")]})}):_.length===0?n.jsx(X,{className:"border border-dashed border-forge-cream/70 bg-white/80",children:n.jsx(Z,{className:"p-8 text-center text-sm text-forge-gray",children:t("admin.projects.emptyState")})}):n.jsx("div",{className:"grid gap-4",children:$}),n.jsx(tr,{open:r,onOpenChange:a,children:n.jsxs(ks,{children:[n.jsxs(Cs,{children:[n.jsx(Ts,{children:t(l?"admin.projects.dialog.editTitle":"admin.projects.dialog.createTitle")}),n.jsx(_t,{children:t("admin.projects.dialog.description")})]}),n.jsx(on,{...p,children:n.jsxs("form",{className:"space-y-4",onSubmit:p.handleSubmit(C),children:[n.jsx(re,{control:p.control,name:"module_id",render:({field:I})=>n.jsxs(ee,{children:[n.jsx(te,{children:t("admin.projects.form.module")}),n.jsxs(at,{onValueChange:I.onChange,value:I.value,children:[n.jsx(se,{children:n.jsx(Ye,{children:n.jsx(it,{placeholder:t("admin.projects.form.modulePlaceholder")})})}),n.jsx(Qe,{children:O.map(T=>n.jsx(Oe,{value:T.id,children:T.course?`${T.course.title}  ${T.title}`:T.title},T.id))})]}),n.jsx(he,{})]})}),n.jsx(re,{control:p.control,name:"title",render:({field:I})=>n.jsxs(ee,{children:[n.jsx(te,{children:t("admin.projects.form.title")}),n.jsx(se,{children:n.jsx(ae,{...I,placeholder:t("admin.projects.form.titlePlaceholder")})}),n.jsx(he,{})]})}),n.jsx(re,{control:p.control,name:"description",render:({field:I})=>n.jsxs(ee,{children:[n.jsx(te,{children:t("admin.projects.form.description")}),n.jsx(se,{children:n.jsx(ln,{rows:6,...I,placeholder:t("admin.projects.form.descriptionPlaceholder")})}),n.jsx(Jt,{children:t("admin.projects.form.descriptionHelp")}),n.jsx(he,{})]})}),n.jsx(re,{control:p.control,name:"xp_value",render:({field:I})=>n.jsxs(ee,{children:[n.jsx(te,{children:t("admin.projects.form.xpValue")}),n.jsx(se,{children:n.jsx(ae,{type:"number",min:0,value:I.value??"",onChange:T=>{const k=T.target.value;I.onChange(k===""?null:Number(k))},placeholder:t("admin.projects.form.xpValuePlaceholder")})}),n.jsx(Jt,{children:t("admin.projects.form.xpValueHelp")}),n.jsx(he,{})]})}),n.jsx(re,{control:p.control,name:"is_active",render:({field:I})=>n.jsxs(ee,{className:"flex flex-row items-center justify-between rounded-lg border border-forge-cream/70 bg-forge-cream/10 p-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(te,{className:"text-base",children:t("admin.projects.form.activeLabel")}),n.jsx(Jt,{children:t("admin.projects.form.activeDescription")})]}),n.jsx(se,{children:n.jsx(Vt,{checked:I.value,onCheckedChange:I.onChange})})]})}),n.jsxs(Ps,{children:[n.jsx(z,{type:"button",variant:"outline",onClick:()=>a(!1),children:t("common.buttons.cancel")}),n.jsx(z,{type:"submit",disabled:v.isPending,children:v.isPending?t("common.buttons.saving"):t(l?"common.buttons.update":"common.buttons.create")})]})]})})]})}),n.jsx(cn,{open:i,onOpenChange:o,children:n.jsxs(sr,{children:[n.jsxs(rr,{children:[n.jsx(ar,{children:t("admin.projects.delete.title")}),n.jsx(ir,{children:t("admin.projects.delete.description",{title:(d==null?void 0:d.title)??""})})]}),n.jsxs(nr,{children:[n.jsx(lr,{onClick:()=>u(null),children:t("common.buttons.cancel")}),n.jsx(or,{className:"bg-red-500 hover:bg-red-600",disabled:j.isPending,onClick:()=>{d&&j.mutate(d.id)},children:j.isPending?t("common.buttons.loading"):t("admin.projects.delete.confirm")})]})]})})]})}const FE=[{id:"1",name:"Ana Silva",email:"ana.silva@email.com",xp:3420,completedLessons:28,avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400&h=400&fit=crop&crop=face"},{id:"2",name:"Carlos Santos",email:"carlos.santos@email.com",xp:3180,completedLessons:26,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop&crop=face"},{id:"3",name:"Maria Oliveira",email:"maria.oliveira@email.com",xp:2950,completedLessons:24,avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop&crop=face"},{id:"4",name:"Joo Pedro",email:"joao.pedro@email.com",xp:2820,completedLessons:23,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face"},{id:"5",name:"Lucia Costa",email:"lucia.costa@email.com",xp:2650,completedLessons:22,avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400&h=400&fit=crop&crop=face"},{id:"6",name:"Rafael Mendes",email:"rafael.mendes@email.com",xp:2480,completedLessons:20,avatar:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&h=400&fit=crop&crop=face"},{id:"7",name:"Fernanda Lima",email:"fernanda.lima@email.com",xp:2320,completedLessons:19,avatar:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=400&h=400&fit=crop&crop=face"},{id:"8",name:"Thiago Rocha",email:"thiago.rocha@email.com",xp:2180,completedLessons:18,avatar:"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?w=400&h=400&fit=crop&crop=face"}],Jo={"blockchain-web3":{name:"Blockchain e Web3",entries:[{id:"1",name:"Ana Silva",email:"ana.silva@email.com",xp:1850,completedLessons:15,pathName:"Blockchain e Web3",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400&h=400&fit=crop&crop=face"},{id:"2",name:"Carlos Santos",email:"carlos.santos@email.com",xp:1720,completedLessons:14,pathName:"Blockchain e Web3",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop&crop=face"},{id:"4",name:"Joo Pedro",email:"joao.pedro@email.com",xp:1650,completedLessons:13,pathName:"Blockchain e Web3",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face"},{id:"6",name:"Rafael Mendes",email:"rafael.mendes@email.com",xp:1480,completedLessons:12,pathName:"Blockchain e Web3",avatar:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&h=400&fit=crop&crop=face"},{id:"8",name:"Thiago Rocha",email:"thiago.rocha@email.com",xp:1320,completedLessons:11,pathName:"Blockchain e Web3",avatar:"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?w=400&h=400&fit=crop&crop=face"}]},"defi-protocols":{name:"Protocolos DeFi",entries:[{id:"3",name:"Maria Oliveira",email:"maria.oliveira@email.com",xp:1680,completedLessons:14,pathName:"Protocolos DeFi",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop&crop=face"},{id:"5",name:"Lucia Costa",email:"lucia.costa@email.com",xp:1520,completedLessons:13,pathName:"Protocolos DeFi",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400&h=400&fit=crop&crop=face"},{id:"7",name:"Fernanda Lima",email:"fernanda.lima@email.com",xp:1420,completedLessons:12,pathName:"Protocolos DeFi",avatar:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=400&h=400&fit=crop&crop=face"},{id:"2",name:"Carlos Santos",email:"carlos.santos@email.com",xp:1380,completedLessons:11,pathName:"Protocolos DeFi",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop&crop=face"},{id:"1",name:"Ana Silva",email:"ana.silva@email.com",xp:1280,completedLessons:10,pathName:"Protocolos DeFi",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400&h=400&fit=crop&crop=face"}]},"smart-contracts":{name:"Smart Contracts Avanados",entries:[{id:"6",name:"Rafael Mendes",email:"rafael.mendes@email.com",xp:980,completedLessons:8,pathName:"Smart Contracts Avanados",avatar:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&h=400&fit=crop&crop=face"},{id:"4",name:"Joo Pedro",email:"joao.pedro@email.com",xp:920,completedLessons:7,pathName:"Smart Contracts Avanados",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face"},{id:"8",name:"Thiago Rocha",email:"thiago.rocha@email.com",xp:860,completedLessons:7,pathName:"Smart Contracts Avanados",avatar:"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?w=400&h=400&fit=crop&crop=face"},{id:"3",name:"Maria Oliveira",email:"maria.oliveira@email.com",xp:820,completedLessons:6,pathName:"Smart Contracts Avanados",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop&crop=face"},{id:"7",name:"Fernanda Lima",email:"fernanda.lima@email.com",xp:780,completedLessons:6,pathName:"Smart Contracts Avanados",avatar:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=400&h=400&fit=crop&crop=face"}]}};function VE(t){switch(t){case 1:return n.jsx(va,{className:"h-6 w-6 text-yellow-500"});case 2:return n.jsx($y,{className:"h-6 w-6 text-gray-400"});case 3:return n.jsx(Ar,{className:"h-6 w-6 text-amber-600"});default:return n.jsxs("div",{className:"h-6 w-6 flex items-center justify-center text-sm font-bold text-gray-500",children:["#",t]})}}function BE(t){switch(t){case 1:return"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white";case 2:return"bg-gradient-to-r from-gray-300 to-gray-500 text-white";case 3:return"bg-gradient-to-r from-amber-400 to-amber-600 text-white";default:return"bg-gray-100 text-gray-700"}}function of({entries:t,title:e}){const{t:s}=we();return n.jsxs(X,{children:[n.jsx(ve,{children:n.jsxs(Ne,{className:"flex items-center gap-2",children:[n.jsx(va,{className:"h-5 w-5 text-forge-orange"}),e]})}),n.jsx(Z,{className:"p-0",children:n.jsx("div",{className:"space-y-0",children:t.map((r,a)=>{const i=a+1;return n.jsxs("div",{className:`flex items-center justify-between p-4 border-b last:border-b-0 transition-colors hover:bg-gray-50 ${i<=3?"bg-gradient-to-r from-orange-50 to-transparent":""}`,children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Te,{className:`${BE(i)} font-bold px-2 py-1`,children:["#",i]}),VE(i)]}),n.jsxs(sd,{className:"h-10 w-10",children:[n.jsx(rd,{src:r.avatar,alt:r.name}),n.jsx(nd,{className:"bg-forge-orange text-white",children:r.name.split(" ").map(o=>o[0]).join("").toUpperCase()})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:r.name}),n.jsx("p",{className:"text-sm text-gray-500",children:r.email})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-bold text-lg text-forge-orange",children:[r.xp.toLocaleString()," ",s("scoreboard.xp")]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[r.completedLessons," ",s("scoreboard.lessons")]})]})]},r.id)})})})]})}function UE(){const{t}=we(),[e,s]=b.useState("blockchain-web3");return n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:t("scoreboard.title")}),n.jsx("p",{className:"text-gray-600",children:t("scoreboard.subtitle")})]}),n.jsxs(dd,{defaultValue:"global",className:"space-y-6",children:[n.jsxs(lo,{className:"grid w-full grid-cols-2",children:[n.jsx(zt,{value:"global",children:t("scoreboard.global")}),n.jsx(zt,{value:"by-path",children:t("scoreboard.byPath")})]}),n.jsx(qr,{value:"global",className:"space-y-6",children:n.jsx(of,{entries:FE,title:t("scoreboard.rankingGlobal")})}),n.jsxs(qr,{value:"by-path",className:"space-y-6",children:[n.jsx("div",{className:"flex gap-2 flex-wrap",children:Object.entries(Jo).map(([r,a])=>n.jsx("button",{onClick:()=>s(r),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e===r?"bg-forge-orange text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a.name},r))}),n.jsx(of,{entries:Jo[e].entries,title:t("scoreboard.ranking",{pathName:Jo[e].name})})]})]})]})}const mi={community:{label:"achievements.categories.community",color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",icon:Kr},profile:{label:"achievements.categories.profile",color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",icon:$t},learning:{label:"achievements.categories.learning",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",icon:ct},social:{label:"achievements.categories.social",color:"text-pink-600",bgColor:"bg-pink-50",borderColor:"border-pink-200",icon:Fy}};function Zl({current:t,max:e}){const{t:s}=we(),r=Math.round(t/e*100),a=r>=75?"bg-green-500":r>=50?"bg-blue-500":"bg-forge-orange",i=r>=75?"text-green-600":r>=50?"text-blue-600":"text-forge-orange";return n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:s("achievements.progress")}),n.jsxs("span",{className:E("font-semibold",i),children:[t,"/",e," ",n.jsxs("span",{className:"text-xs text-gray-500",children:["(",r,"%)"]})]})]}),n.jsx("div",{className:"relative h-2.5 w-full overflow-hidden rounded-full bg-gray-200",children:n.jsx("div",{className:E("h-full transition-all duration-500 ease-out rounded-full",a,r>=90&&"animate-pulse"),style:{width:`${r}%`}})})]})}const Zx=b.memo(({achievement:t,onActionClick:e,onHover:s,isSelected:r=!1})=>{const{t:a}=we(),i=t.icon,o=mi[t.category],l=o.icon,c=t.status==="completed",d=t.status==="locked",u=E("relative overflow-hidden transition-all duration-300 cursor-pointer","h-full flex flex-col","hover:shadow-lg hover:scale-[1.02]",r&&"ring-2 ring-forge-orange shadow-lg scale-[1.02]",c&&"border-green-300 bg-green-50/30",d&&"opacity-60 border-gray-200",!c&&!d&&"border-forge-cream");return n.jsxs(X,{className:u,onMouseEnter:()=>s==null?void 0:s(t),onMouseLeave:()=>s==null?void 0:s(null),onClick:()=>s==null?void 0:s(t),children:[c&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx("div",{className:"relative",children:n.jsx(Am,{className:"h-6 w-6 text-green-600 animate-in zoom-in duration-300"})})}),d&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(Rm,{className:"h-6 w-6 text-gray-400"})}),n.jsx(ve,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:E(o.bgColor,"p-3.5 rounded-xl shadow-sm flex-shrink-0 transition-all duration-300",c&&"ring-2 ring-green-300",!d&&!c&&"ring-1 ring-gray-200 hover:ring-2 hover:ring-forge-orange/50"),children:n.jsx(i,{className:E("h-7 w-7",o.color)})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx(Ne,{className:"text-xl font-semibold leading-tight mb-2 min-h-[28px]",children:t.title}),n.jsx(dt,{className:"text-sm leading-relaxed line-clamp-2 min-h-[40px]",children:t.description})]})]})}),n.jsxs(Z,{className:"flex-1 flex flex-col space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Te,{variant:"outline",className:E(o.borderColor,o.color),children:[l&&n.jsx(l,{className:"h-3 w-3 mr-1"}),a(o.label)]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ar,{className:"h-4 w-4 text-forge-orange"}),n.jsxs("span",{className:"font-bold text-forge-orange",children:[t.xpReward," XP"]})]})]}),t.progress!==void 0&&t.maxProgress&&n.jsx(Zl,{current:t.progress,max:t.maxProgress}),n.jsx("div",{className:"flex-1"}),n.jsxs("div",{className:"mt-auto space-y-2",children:[t.action&&!c&&!d&&n.jsx(z,{className:"w-full bg-forge-orange hover:bg-forge-orange/90",onClick:()=>e(t),children:t.action.label}),c&&n.jsx("div",{className:"text-center text-sm font-medium text-green-700 bg-green-100 py-2 rounded-md",children:a("achievements.completedBadge")}),d&&n.jsx("div",{className:"text-center text-sm text-gray-500 bg-gray-100 py-2 rounded-md",children:a("achievements.locked")})]})]})]})});Zx.displayName="AchievementCard";function zE({selectedCategory:t,onCategoryChange:e,achievements:s,onAchievementAction:r,onAchievementHover:a,selectedAchievementId:i}){const{t:o}=we();return n.jsxs(dd,{value:t,onValueChange:l=>e(l),className:"space-y-6",children:[n.jsxs(lo,{className:"grid w-full grid-cols-5",children:[n.jsx(zt,{value:"all",children:o("achievements.all")}),n.jsx(zt,{value:"community",children:o("achievements.categories.community")}),n.jsx(zt,{value:"profile",children:o("achievements.categories.profile")}),n.jsx(zt,{value:"learning",children:o("achievements.categories.learning")}),n.jsx(zt,{value:"social",children:o("achievements.categories.social")})]}),n.jsx(qr,{value:t,className:"space-y-4",children:s.length===0?n.jsx(X,{className:"border-dashed border-2 border-gray-300",children:n.jsxs(Z,{className:"flex flex-col items-center justify-center py-16 text-center",children:[n.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:n.jsx(Pn,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o("achievements.emptyState.title")}),n.jsx("p",{className:"text-gray-600 max-w-md",children:t==="all"?o("achievements.emptyState.descriptionAll"):o("achievements.emptyState.descriptionCategory",{category:o(`achievements.categories.${t}`)})})]})}):n.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 auto-rows-fr",children:s.map(l=>n.jsx(Zx,{achievement:l,onActionClick:r,onHover:a,isSelected:l.id===i},l.id))})})]})}function qE({stats:t,selectedAchievement:e,suggestedAchievement:s,onActionClick:r}){const{t:a}=we();if(e){const i=e.icon,o=mi[e.category],l=o.icon,c=e.status==="completed",d=e.status==="locked";return n.jsxs("div",{className:"w-96 shrink-0 hidden lg:block sticky top-6 self-start space-y-4",children:[n.jsxs(X,{className:E("border-2",c&&"border-green-300 bg-green-50/20",d&&"border-gray-200",!c&&!d&&"border-forge-orange/30"),children:[n.jsxs(ve,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:E(o.bgColor,"p-4 rounded-xl shadow-sm",c&&"ring-2 ring-green-300",!d&&!c&&"ring-1 ring-gray-200"),children:n.jsx(i,{className:E("h-8 w-8",o.color)})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs(Te,{variant:"outline",className:E(o.borderColor,o.color,"mb-2"),children:[l&&n.jsx(l,{className:"h-3 w-3 mr-1"}),a(o.label)]}),c&&n.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[n.jsx(Am,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:a("achievements.completedBadge")})]}),d&&n.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[n.jsx(Rm,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:a("achievements.locked")})]})]})]}),n.jsx(Ne,{className:"text-2xl leading-tight",children:e.title}),n.jsx(dt,{className:"text-sm leading-relaxed mt-2",children:e.description})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg border border-orange-200",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:a("achievements.xpReward")}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ar,{className:"h-5 w-5 text-forge-orange"}),n.jsxs("span",{className:"text-xl font-bold text-forge-orange",children:[e.xpReward," XP"]})]})]}),e.progress!==void 0&&e.maxProgress&&n.jsx("div",{children:n.jsx(Zl,{current:e.progress,max:e.maxProgress})}),e.action&&!c&&!d&&n.jsx(z,{className:"w-full bg-forge-orange hover:bg-forge-orange/90",onClick:()=>r(e),children:e.action.label}),c&&n.jsxs("div",{className:"text-center text-sm font-medium text-green-700 bg-green-100 py-3 rounded-md",children:[" ",a("achievements.completedBadge")]}),d&&n.jsxs("div",{className:"text-center text-sm text-gray-500 bg-gray-100 py-3 rounded-md",children:[" ",a("achievements.locked")]})]})]}),n.jsxs(X,{children:[n.jsx(ve,{children:n.jsxs(Ne,{className:"text-sm flex items-center gap-2",children:[n.jsx(Pn,{className:"h-4 w-4 text-forge-orange"}),a("achievements.sidebar.tips")]})}),n.jsxs(Z,{className:"text-xs text-gray-600 space-y-2",children:[n.jsxs("p",{children:[" ",a("achievements.sidebar.tip1")]}),n.jsxs("p",{children:[" ",a("achievements.sidebar.tip2")]}),n.jsxs("p",{children:[" ",a("achievements.sidebar.tip3")]})]})]})]})}return n.jsxs("div",{className:"w-96 shrink-0 hidden lg:block sticky top-6 self-start space-y-4",children:[n.jsxs(X,{children:[n.jsx(ve,{children:n.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[n.jsx($t,{className:"h-5 w-5 text-forge-orange"}),a("achievements.sidebar.overview")]})}),n.jsxs(Z,{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1.5",children:[n.jsx("span",{className:"font-medium",children:a("achievements.overallProgress")}),n.jsxs("span",{className:"font-bold text-forge-orange",children:[t.completionPercentage,"%"]})]}),n.jsx("div",{className:"relative h-2 w-full overflow-hidden rounded-full bg-gray-200",children:n.jsx("div",{className:"h-full transition-all duration-500 ease-out rounded-full bg-forge-orange",style:{width:`${t.completionPercentage}%`}})})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:a("achievements.completed")}),n.jsxs("span",{className:"text-lg font-bold",children:[t.completed,n.jsxs("span",{className:"text-gray-400",children:["/",t.total]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:a("achievements.inProgress")}),n.jsx("span",{className:"text-lg font-bold text-blue-600",children:t.inProgress})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"XP"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ar,{className:"h-4 w-4 text-forge-orange"}),n.jsx("span",{className:"text-sm font-bold text-forge-orange",children:t.totalXP})]}),n.jsxs("span",{className:"text-xs text-gray-400",children:["of ",t.totalXP+t.availableXP]})]})]})]})]}),s&&n.jsxs(X,{className:"border-2 border-forge-orange/40 bg-orange-50/30",children:[n.jsx(ve,{children:n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Pn,{className:"h-5 w-5 text-forge-orange"}),n.jsx(Ne,{className:"text-base",children:a("achievements.sidebar.nextSuggested")})]})}),n.jsxs(Z,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:E(mi[s.category].bgColor,"p-2.5 rounded-lg"),children:n.jsx(s.icon,{className:E("h-5 w-5",mi[s.category].color)})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-sm leading-tight mb-1",children:s.title}),n.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:s.description})]})]}),s.progress!==void 0&&s.maxProgress&&n.jsx(Zl,{current:s.progress,max:s.maxProgress}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ar,{className:"h-4 w-4 text-forge-orange"}),n.jsxs("span",{className:"text-sm font-bold text-forge-orange",children:[s.xpReward," XP"]})]}),s.action&&n.jsx(z,{size:"sm",className:"bg-forge-orange hover:bg-forge-orange/90",onClick:()=>r(s),children:s.action.label})]})]})]}),n.jsxs(X,{className:"border-blue-200 bg-blue-50/30",children:[n.jsx(ve,{children:n.jsxs(Ne,{className:"text-sm flex items-center gap-2",children:[n.jsx(Pn,{className:"h-4 w-4 text-blue-600"}),t.completed===0?a("achievements.sidebar.gettingStarted"):a("achievements.sidebar.keepGoing")]})}),n.jsxs(Z,{className:"text-xs text-gray-700 space-y-2",children:[n.jsx("p",{className:"leading-relaxed",children:n.jsx("strong",{children:a("achievements.sidebar.hoverTip")})}),t.inProgress>0&&n.jsx("p",{className:"text-blue-700 font-medium",children:a("achievements.sidebar.inProgressMessage",{count:t.inProgress})}),t.completed===0&&n.jsx("p",{className:"text-forge-orange font-medium",children:a("achievements.sidebar.quickWinsTip")}),t.completionPercentage>=50&&t.completionPercentage<100&&n.jsx("p",{className:"text-green-700 font-medium",children:a("achievements.sidebar.halfwayThere",{remaining:t.total-t.completed})}),t.completionPercentage===100&&n.jsxs("p",{className:"text-green-700 font-medium",children:[" ",a("achievements.sidebar.allComplete")]})]})]})]})}const WE=t=>[{id:"telegram-join",title:t("achievements.tasks.telegramJoin.title"),description:t("achievements.tasks.telegramJoin.description"),xpReward:100,status:"in_progress",category:"community",icon:Pd,action:{label:t("achievements.tasks.telegramJoin.action"),url:"https://t.me/forgecollege",type:"external"}},{id:"discord-join",title:t("achievements.tasks.discordJoin.title"),description:t("achievements.tasks.discordJoin.description"),xpReward:100,status:"in_progress",category:"community",icon:Kr,action:{label:t("achievements.tasks.discordJoin.action"),url:"https://discord.gg/forgecollege",type:"external"}},{id:"first-message",title:t("achievements.tasks.firstMessage.title"),description:t("achievements.tasks.firstMessage.description"),xpReward:50,status:"locked",category:"community",icon:Pd},{id:"email-verify",title:t("achievements.tasks.emailVerify.title"),description:t("achievements.tasks.emailVerify.description"),xpReward:150,status:"completed",category:"profile",icon:gm,action:{label:t("achievements.tasks.emailVerify.action")}},{id:"complete-profile",title:t("achievements.tasks.completeProfile.title"),description:t("achievements.tasks.completeProfile.description"),xpReward:200,status:"in_progress",category:"profile",progress:7,maxProgress:10,icon:$t,action:{label:t("achievements.tasks.completeProfile.action"),url:"/dashboard/profile",type:"internal"}},{id:"github-connect",title:t("achievements.tasks.githubConnect.title"),description:t("achievements.tasks.githubConnect.description"),xpReward:100,status:"in_progress",category:"profile",icon:Ui,action:{label:t("achievements.tasks.githubConnect.action")}},{id:"linkedin-connect",title:t("achievements.tasks.linkedinConnect.title"),description:t("achievements.tasks.linkedinConnect.description"),xpReward:100,status:"in_progress",category:"profile",icon:xm,action:{label:t("achievements.tasks.linkedinConnect.action")}},{id:"twitter-follow",title:t("achievements.tasks.twitterFollow.title"),description:t("achievements.tasks.twitterFollow.description"),xpReward:75,status:"in_progress",category:"social",icon:Vy,action:{label:t("achievements.tasks.twitterFollow.action"),url:"https://twitter.com/forgecollege",type:"external"}},{id:"share-progress",title:t("achievements.tasks.shareProgress.title"),description:t("achievements.tasks.shareProgress.description"),xpReward:150,status:"locked",category:"social",icon:Pn},{id:"first-lesson",title:t("achievements.tasks.firstLesson.title"),description:t("achievements.tasks.firstLesson.description"),xpReward:50,status:"completed",category:"learning",icon:ct},{id:"week-streak",title:t("achievements.tasks.weekStreak.title"),description:t("achievements.tasks.weekStreak.description"),xpReward:300,status:"in_progress",category:"learning",progress:4,maxProgress:7,icon:ys},{id:"complete-path",title:t("achievements.tasks.completePath.title"),description:t("achievements.tasks.completePath.description"),xpReward:500,status:"in_progress",category:"learning",progress:12,maxProgress:28,icon:im},{id:"perfect-quiz",title:t("achievements.tasks.perfectQuiz.title"),description:t("achievements.tasks.perfectQuiz.description"),xpReward:200,status:"locked",category:"learning",icon:$t}];function HE(t,e){let s=t;if(e.category!=="all"&&(s=s.filter(r=>r.category===e.category)),e.status&&e.status.length>0&&(s=s.filter(r=>e.status.includes(r.status))),e.searchQuery&&e.searchQuery.trim()){const r=e.searchQuery.toLowerCase();s=s.filter(a=>a.title.toLowerCase().includes(r)||a.description.toLowerCase().includes(r))}if(e.sortBy==="xp")s=s.sort((r,a)=>a.xpReward-r.xpReward);else if(e.sortBy==="progress")s=s.sort((r,a)=>{const i=r.progress&&r.maxProgress?r.progress/r.maxProgress:0;return(a.progress&&a.maxProgress?a.progress/a.maxProgress:0)-i});else if(e.sortBy==="status"){const r={in_progress:1,locked:2,completed:3};s=s.sort((a,i)=>r[a.status]-r[i.status])}return s}function lf(t){const{t:e}=we(),s=b.useMemo(()=>WE(e),[e]);return{achievements:b.useMemo(()=>t?HE(s,t):s,[s,t]),isLoading:!1,error:null}}function KE(t){return b.useMemo(()=>{const e=t.filter(l=>l.status==="completed"),s=t.filter(l=>l.status==="in_progress"),r=t.filter(l=>l.status==="locked"),a=e.reduce((l,c)=>l+c.xpReward,0),i=t.filter(l=>l.status!=="completed").reduce((l,c)=>l+c.xpReward,0),o=t.length>0?Math.round(e.length/t.length*100):0;return{total:t.length,completed:e.length,inProgress:s.length,locked:r.length,totalXP:a,availableXP:i,completionPercentage:o}},[t])}function GE(){const t=wa();return{handleAchievementAction:b.useCallback(s=>{if(!s.action)return;const{url:r,type:a,handler:i}=s.action;if(i){i();return}r&&(a==="external"||r.startsWith("http")?window.open(r,"_blank","noopener,noreferrer"):t(r))},[t])}}function JE(){const[t,e]=b.useState({category:"all",sortBy:"status"}),s=b.useCallback(i=>{e(o=>({...o,category:i}))},[]),r=b.useCallback(i=>{e(o=>({...o,searchQuery:i}))},[]),a=b.useCallback(()=>{e({category:"all",sortBy:"status"})},[]);return{filters:t,setCategory:s,setSearchQuery:r,resetFilters:a}}function ZE(){const{t}=we(),{filters:e,setCategory:s}=JE(),{achievements:r}=lf(e),a=KE(r),{handleAchievementAction:i}=GE(),[o,l]=b.useState(null),{achievements:c}=lf(),d=b.useMemo(()=>{const u=c.filter(f=>f.status==="in_progress").sort((f,m)=>{const p=f.progress&&f.maxProgress?f.progress/f.maxProgress:0;return(m.progress&&m.maxProgress?m.progress/m.maxProgress:0)-p});return e.category==="all"?null:u.find(f=>f.category!==e.category)||null},[c,e.category]);return n.jsxs("div",{className:"flex gap-6 max-w-[1800px] mx-auto",children:[n.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:t("achievements.title")}),n.jsx("p",{className:"text-gray-600",children:t("achievements.subtitle")})]}),n.jsx(zE,{selectedCategory:e.category,onCategoryChange:s,achievements:r,onAchievementAction:i,onAchievementHover:l,selectedAchievementId:o==null?void 0:o.id})]}),n.jsx(qE,{stats:a,selectedAchievement:o,suggestedAchievement:d,onActionClick:i})]})}const XE=()=>{try{return n.jsxs(vp,{children:[n.jsx(lN,{}),n.jsx(VN,{}),n.jsx(VT,{children:n.jsx(wj,{children:n.jsxs(By,{children:[n.jsx(me,{path:YC,element:n.jsx(dc,{to:Mt,replace:!0})}),n.jsxs(me,{element:n.jsx(cP,{}),children:[n.jsx(me,{path:t2,element:n.jsx(HC,{})}),n.jsx(me,{path:QC,element:n.jsx(KC,{})}),n.jsx(me,{path:e2,element:n.jsx(GC,{})})]}),n.jsx(me,{path:ax,element:n.jsx(o2,{})}),n.jsx(me,{path:s2,element:n.jsx(l2,{})}),n.jsx(me,{path:r2,element:n.jsx(c2,{})}),n.jsx(me,{path:n2,element:n.jsx(q2,{})}),n.jsx(me,{path:"/login-oauth",element:n.jsx(OT,{})}),n.jsx(me,{path:"/auth/callback",element:n.jsx(LT,{})}),n.jsx(me,{path:"/test",element:n.jsx(IT,{})}),n.jsx(me,{path:"/ssr-check",element:n.jsx(MT,{})}),n.jsx(me,{path:"/bare",element:n.jsx(DT,{})}),n.jsx(me,{path:"/static-bare",element:n.jsx($T,{})}),n.jsx(me,{path:"/ssr-canary",element:n.jsx(FT,{})}),n.jsxs(me,{path:Mt,element:n.jsx(TT,{children:n.jsx(z2,{})}),children:[n.jsx(me,{index:!0,element:n.jsx(bT,{})}),n.jsx(me,{path:"explore",element:n.jsx(Ex,{})}),n.jsx(me,{path:"formations",element:n.jsx(aT,{})}),n.jsx(me,{path:"formations/:formationId",element:n.jsx(yT,{})}),n.jsx(me,{path:"coming-soon",element:n.jsx(iT,{})}),n.jsx(me,{path:"profile",element:n.jsx(PT,{})}),n.jsx(me,{path:"community-projects",element:n.jsx(AT,{})}),n.jsx(me,{path:"scoreboard",element:n.jsx(UE,{})}),n.jsx(me,{path:"achievements",element:n.jsx(ZE,{})}),n.jsx(me,{path:"learn/course/:courseId",element:n.jsx(nP,{})}),n.jsx(me,{path:"learn/path/:pathId",element:n.jsx(aP,{})}),n.jsxs(me,{path:"admin",element:n.jsx(RT,{children:n.jsx(BT,{})}),children:[n.jsx(me,{index:!0,element:n.jsx(zT,{})}),n.jsx(me,{path:"formations",element:n.jsx(NE,{})}),n.jsx(me,{path:"paths",element:n.jsx(kE,{})}),n.jsx(me,{path:"courses",element:n.jsx(TE,{})}),n.jsx(me,{path:"modules",element:n.jsx(RE,{})}),n.jsx(me,{path:"lessons",element:n.jsx(ME,{})}),n.jsx(me,{path:"projects",element:n.jsx($E,{})})]})]}),n.jsx(me,{path:"*",element:n.jsx(JC,{})})]})})})]})}catch(t){return console.error("App SSR error:",t),n.jsxs("div",{style:{padding:"2rem",textAlign:"center",fontFamily:"system-ui, sans-serif"},children:[n.jsx("h1",{children:"SSR Error"}),n.jsxs("p",{children:["Erro no App principal: ",t instanceof Error?t.message:"Erro desconhecido"]}),n.jsx("pre",{style:{backgroundColor:"#f5f5f5",padding:"1rem",borderRadius:"4px",textAlign:"left"},children:t instanceof Error?t.stack:String(t)})]})}},Xx="2.34.0";let wn={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:s})=>e?`${t??"https://viem.sh"}${e}${s?`#${s}`:""}`:void 0,version:`viem@${Xx}`},Bt=class Xl extends Error{constructor(e,s={}){var l;const r=(()=>{var c;return s.cause instanceof Xl?s.cause.details:(c=s.cause)!=null&&c.message?s.cause.message:s.details})(),a=s.cause instanceof Xl&&s.cause.docsPath||s.docsPath,i=(l=wn.getDocsUrl)==null?void 0:l.call(wn,{...s,docsPath:a}),o=[e||"An error occurred.","",...s.metaMessages?[...s.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...wn.version?[`Version: ${wn.version}`]:[]].join(`
`);super(o,s.cause?{cause:s.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=a,this.metaMessages=s.metaMessages,this.name=s.name??this.name,this.shortMessage=e,this.version=Xx}walk(e){return Yx(this,e)}};function Yx(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Yx(t.cause,e):e?null:t}class YE extends Bt{constructor({max:e,min:s,signed:r,size:a,value:i}){super(`Number "${i}" is not in safe ${a?`${a*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${s} to ${e})`:`(above ${s})`}`,{name:"IntegerOutOfRangeError"})}}class QE extends Bt{constructor({givenSize:e,maxSize:s}){super(`Size cannot exceed ${s} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}class Qx extends Bt{constructor({size:e,targetSize:s,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${s}).`,{name:"SizeExceedsPaddingSizeError"})}}function Ra(t,{dir:e,size:s=32}={}){return typeof t=="string"?eA(t,{dir:e,size:s}):tA(t,{dir:e,size:s})}function eA(t,{dir:e,size:s=32}={}){if(s===null)return t;const r=t.replace("0x","");if(r.length>s*2)throw new Qx({size:Math.ceil(r.length/2),targetSize:s,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](s*2,"0")}`}function tA(t,{dir:e,size:s=32}={}){if(s===null)return t;if(t.length>s)throw new Qx({size:t.length,targetSize:s,type:"bytes"});const r=new Uint8Array(s);for(let a=0;a<s;a++){const i=e==="right";r[i?a:s-a-1]=t[i?a:t.length-a-1]}return r}function ud(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function cf(t){return ud(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const sA=new TextEncoder;function rA(t,e={}){return typeof t=="number"||typeof t=="bigint"?aA(t,e):typeof t=="boolean"?nA(t,e):ud(t)?eb(t,e):tb(t,e)}function nA(t,e={}){const s=new Uint8Array(1);return s[0]=Number(t),typeof e.size=="number"?(co(s,{size:e.size}),Ra(s,{size:e.size})):s}const Yt={zero:48,nine:57,A:65,F:70,a:97,f:102};function df(t){if(t>=Yt.zero&&t<=Yt.nine)return t-Yt.zero;if(t>=Yt.A&&t<=Yt.F)return t-(Yt.A-10);if(t>=Yt.a&&t<=Yt.f)return t-(Yt.a-10)}function eb(t,e={}){let s=t;e.size&&(co(s,{size:e.size}),s=Ra(s,{dir:"right",size:e.size}));let r=s.slice(2);r.length%2&&(r=`0${r}`);const a=r.length/2,i=new Uint8Array(a);for(let o=0,l=0;o<a;o++){const c=df(r.charCodeAt(l++)),d=df(r.charCodeAt(l++));if(c===void 0||d===void 0)throw new Bt(`Invalid byte sequence ("${r[l-2]}${r[l-1]}" in "${r}").`);i[o]=c*16+d}return i}function aA(t,e){const s=Yl(t,e);return eb(s)}function tb(t,e={}){const s=sA.encode(t);return typeof e.size=="number"?(co(s,{size:e.size}),Ra(s,{dir:"right",size:e.size})):s}function co(t,{size:e}){if(cf(t)>e)throw new QE({givenSize:cf(t),maxSize:e})}const iA=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function oA(t,e={}){let s="";for(let a=0;a<t.length;a++)s+=iA[t[a]];const r=`0x${s}`;return typeof e.size=="number"?(co(r,{size:e.size}),Ra(r,{dir:"right",size:e.size})):r}function Yl(t,e={}){const{signed:s,size:r}=e,a=BigInt(t);let i;r?s?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&s?-i-1n:0;if(i&&a>i||a<o){const c=typeof t=="bigint"?"n":"";throw new YE({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:s,size:r,value:`${t}${c}`})}const l=`0x${(s&&a<0?(1n<<BigInt(r*8))+BigInt(a):a).toString(16)}`;return r?Ra(l,{size:r}):l}const lA=new TextEncoder;function cA(t,e={}){const s=lA.encode(t);return oA(s,e)}class dA extends Bt{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class hd extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const s=super.get(e);return super.has(e)&&s!==void 0&&(this.delete(e),super.set(e,s)),s}set(e,s){if(super.set(e,s),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Ja=BigInt(2**32-1),uf=BigInt(32);function uA(t,e=!1){return e?{h:Number(t&Ja),l:Number(t>>uf&Ja)}:{h:Number(t>>uf&Ja)|0,l:Number(t&Ja)|0}}function hA(t,e=!1){const s=t.length;let r=new Uint32Array(s),a=new Uint32Array(s);for(let i=0;i<s;i++){const{h:o,l}=uA(t[i],e);[r[i],a[i]]=[o,l]}return[r,a]}const fA=(t,e,s)=>t<<s|e>>>32-s,mA=(t,e,s)=>e<<s|t>>>32-s,pA=(t,e,s)=>e<<s-32|t>>>64-s,gA=(t,e,s)=>t<<s-32|e>>>64-s;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xA(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hf(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Fi(t,...e){if(!xA(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ff(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function bA(t,e){Fi(t);const s=e.outputLen;if(t.length<s)throw new Error("digestInto() expects output buffer of length at least "+s)}function yA(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function sb(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const vA=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function wA(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function jA(t){for(let e=0;e<t.length;e++)t[e]=wA(t[e]);return t}const mf=vA?t=>t:jA;function NA(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function rb(t){return typeof t=="string"&&(t=NA(t)),Fi(t),t}class _A{}function SA(t){const e=r=>t().update(rb(r)).digest(),s=t();return e.outputLen=s.outputLen,e.blockLen=s.blockLen,e.create=()=>t(),e}const kA=BigInt(0),jn=BigInt(1),CA=BigInt(2),PA=BigInt(7),TA=BigInt(256),EA=BigInt(113),nb=[],ab=[],ib=[];for(let t=0,e=jn,s=1,r=0;t<24;t++){[s,r]=[r,(2*s+3*r)%5],nb.push(2*(5*r+s)),ab.push((t+1)*(t+2)/2%64);let a=kA;for(let i=0;i<7;i++)e=(e<<jn^(e>>PA)*EA)%TA,e&CA&&(a^=jn<<(jn<<BigInt(i))-jn);ib.push(a)}const ob=hA(ib,!0),AA=ob[0],RA=ob[1],pf=(t,e,s)=>s>32?pA(t,e,s):fA(t,e,s),gf=(t,e,s)=>s>32?gA(t,e,s):mA(t,e,s);function OA(t,e=24){const s=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)s[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const l=(o+8)%10,c=(o+2)%10,d=s[c],u=s[c+1],h=pf(d,u,1)^s[l],f=gf(d,u,1)^s[l+1];for(let m=0;m<50;m+=10)t[o+m]^=h,t[o+m+1]^=f}let a=t[2],i=t[3];for(let o=0;o<24;o++){const l=ab[o],c=pf(a,i,l),d=gf(a,i,l),u=nb[o];a=t[u],i=t[u+1],t[u]=c,t[u+1]=d}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)s[l]=t[o+l];for(let l=0;l<10;l++)t[o+l]^=~s[(l+2)%10]&s[(l+4)%10]}t[0]^=AA[r],t[1]^=RA[r]}sb(s)}class fd extends _A{constructor(e,s,r,a=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=s,this.outputLen=r,this.enableXOF=a,this.rounds=i,hf(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=yA(this.state)}clone(){return this._cloneInto()}keccak(){mf(this.state32),OA(this.state32,this.rounds),mf(this.state32),this.posOut=0,this.pos=0}update(e){ff(this),e=rb(e),Fi(e);const{blockLen:s,state:r}=this,a=e.length;for(let i=0;i<a;){const o=Math.min(s-this.pos,a-i);for(let l=0;l<o;l++)r[this.pos++]^=e[i++];this.pos===s&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:s,pos:r,blockLen:a}=this;e[r]^=s,s&128&&r===a-1&&this.keccak(),e[a-1]^=128,this.keccak()}writeInto(e){ff(this,!1),Fi(e),this.finish();const s=this.state,{blockLen:r}=this;for(let a=0,i=e.length;a<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-a);e.set(s.subarray(this.posOut,this.posOut+o),a),this.posOut+=o,a+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hf(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(bA(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,sb(this.state)}_cloneInto(e){const{blockLen:s,suffix:r,outputLen:a,rounds:i,enableXOF:o}=this;return e||(e=new fd(s,r,a,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=a,e.enableXOF=o,e.destroyed=this.destroyed,e}}const LA=(t,e,s)=>SA(()=>new fd(e,t,s)),IA=LA(1,136,256/8);function MA(t,e){return IA(ud(t,{strict:!1})?rA(t):t)}const Zo=new hd(8192);function lb(t,e){if(Zo.has(`${t}.${e}`))return Zo.get(`${t}.${e}`);const s=t.substring(2).toLowerCase(),r=MA(tb(s)),a=s.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&a[o]&&(a[o]=a[o].toUpperCase()),(r[o>>1]&15)>=8&&a[o+1]&&(a[o+1]=a[o+1].toUpperCase());const i=`0x${a.join("")}`;return Zo.set(`${t}.${e}`,i),i}function Za(t,e){if(!$A(t,{strict:!1}))throw new dA({address:t});return lb(t,e)}const DA=/^0x[a-fA-F0-9]{40}$/,Xo=new hd(8192);function $A(t,e){const{strict:s=!0}=e??{},r=`${t}.${s}`;if(Xo.has(r))return Xo.get(r);const a=DA.test(t)?t.toLowerCase()===t?!0:s?lb(t)===t:!0:!1;return Xo.set(r,a),a}function FA(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Hs=(t,e,s)=>JSON.stringify(t,(r,a)=>typeof a=="bigint"?a.toString():a,s),md=t=>t;class Un extends Bt{constructor({body:e,cause:s,details:r,headers:a,status:i,url:o}){super("HTTP request failed.",{cause:s,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${md(o)}`,e&&`Request body: ${Hs(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=a,this.status=i,this.url=o}}class cb extends Bt{constructor({body:e,error:s,url:r}){super("RPC Request failed.",{cause:s,details:s.message,metaMessages:[`URL: ${md(r)}`,`Request body: ${Hs(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=s.code,this.data=s.data}}class xf extends Bt{constructor({body:e,url:s}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${md(s)}`,`Request body: ${Hs(e)}`],name:"TimeoutError"})}}const VA=-1;class ut extends Bt{constructor(e,{code:s,docsPath:r,metaMessages:a,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:a||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof cb?e.code:s??VA}}class xt extends ut{constructor(e,s){super(e,s),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s.data}}class ea extends ut{constructor(e){super(e,{code:ea.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(ea,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class ta extends ut{constructor(e){super(e,{code:ta.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(ta,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class sa extends ut{constructor(e,{method:s}={}){super(e,{code:sa.code,name:"MethodNotFoundRpcError",shortMessage:`The method${s?` "${s}"`:""} does not exist / is not available.`})}}Object.defineProperty(sa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ra extends ut{constructor(e){super(e,{code:ra.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ra,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Wr extends ut{constructor(e){super(e,{code:Wr.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Wr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class na extends ut{constructor(e){super(e,{code:na.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(na,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class aa extends ut{constructor(e){super(e,{code:aa.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(aa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class bs extends ut{constructor(e){super(e,{code:bs.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(bs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ia extends ut{constructor(e){super(e,{code:ia.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(ia,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Us extends ut{constructor(e,{method:s}={}){super(e,{code:Us.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${s?` "${s}"`:""} is not supported.`})}}Object.defineProperty(Us,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Hr extends ut{constructor(e){super(e,{code:Hr.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Hr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class oa extends ut{constructor(e){super(e,{code:oa.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(oa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Xe extends xt{constructor(e){super(e,{code:Xe.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Xe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class la extends xt{constructor(e){super(e,{code:la.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(la,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ca extends xt{constructor(e,{method:s}={}){super(e,{code:ca.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${s?` " ${s}"`:""}.`})}}Object.defineProperty(ca,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class da extends xt{constructor(e){super(e,{code:da.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(da,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ua extends xt{constructor(e){super(e,{code:ua.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(ua,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Zs extends xt{constructor(e){super(e,{code:Zs.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Zs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class ha extends xt{constructor(e){super(e,{code:ha.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(ha,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class fa extends xt{constructor(e){super(e,{code:fa.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(fa,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class ma extends xt{constructor(e){super(e,{code:ma.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(ma,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class pa extends xt{constructor(e){super(e,{code:pa.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(pa,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class ga extends xt{constructor(e){super(e,{code:ga.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(ga,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class xa extends xt{constructor(e){super(e,{code:xa.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(xa,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class ba extends xt{constructor(e){super(e,{code:ba.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(ba,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class BA extends ut{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function UA(){let t=()=>{},e=()=>{};return{promise:new Promise((r,a)=>{t=r,e=a}),resolve:t,reject:e}}const Yo=new Map;function zA({fn:t,id:e,shouldSplitBatch:s,wait:r=0,sort:a}){const i=async()=>{const u=c();o();const h=u.map(({args:f})=>f);h.length!==0&&t(h).then(f=>{a&&Array.isArray(f)&&f.sort(a);for(let m=0;m<u.length;m++){const{resolve:p}=u[m];p==null||p([f[m],f])}}).catch(f=>{for(let m=0;m<u.length;m++){const{reject:p}=u[m];p==null||p(f)}})},o=()=>Yo.delete(e),l=()=>c().map(({args:u})=>u),c=()=>Yo.get(e)||[],d=u=>Yo.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:f,reject:m}=UA();return(s==null?void 0:s([...l(),u]))&&i(),c().length>0?(d({args:u,resolve:f,reject:m}),h):(d({args:u,resolve:f,reject:m}),setTimeout(i,r),h)}}}const Xa=new hd(8192);function qA(t,{enabled:e=!0,id:s}){if(!e||!s)return t();if(Xa.get(s))return Xa.get(s);const r=t().finally(()=>Xa.delete(s));return Xa.set(s,r),r}async function WA(t){return new Promise(e=>setTimeout(e,t))}function db(t,{delay:e=100,retryCount:s=2,shouldRetry:r=()=>!0}={}){return new Promise((a,i)=>{const o=async({count:l=0}={})=>{const c=async({error:d})=>{const u=typeof e=="function"?e({count:l,error:d}):e;u&&await WA(u),o({count:l+1})};try{const d=await t();a(d)}catch(d){if(l<s&&await r({count:l,error:d}))return c({error:d});i(d)}};o()})}function HA(t,e={}){return async(s,r={})=>{var h;const{dedupe:a=!1,methods:i,retryDelay:o=150,retryCount:l=3,uid:c}={...e,...r},{method:d}=s;if((h=i==null?void 0:i.exclude)!=null&&h.includes(d))throw new Us(new Error("method not supported"),{method:d});if(i!=null&&i.include&&!i.include.includes(d))throw new Us(new Error("method not supported"),{method:d});const u=a?cA(`${c}.${Hs(s)}`):void 0;return qA(()=>db(async()=>{try{return await t(s)}catch(f){const m=f;switch(m.code){case ea.code:throw new ea(m);case ta.code:throw new ta(m);case sa.code:throw new sa(m,{method:s.method});case ra.code:throw new ra(m);case Wr.code:throw new Wr(m);case na.code:throw new na(m);case aa.code:throw new aa(m);case bs.code:throw new bs(m);case ia.code:throw new ia(m);case Us.code:throw new Us(m,{method:s.method});case Hr.code:throw new Hr(m);case oa.code:throw new oa(m);case Xe.code:throw new Xe(m);case la.code:throw new la(m);case ca.code:throw new ca(m);case da.code:throw new da(m);case ua.code:throw new ua(m);case Zs.code:throw new Zs(m);case ha.code:throw new ha(m);case fa.code:throw new fa(m);case ma.code:throw new ma(m);case pa.code:throw new pa(m);case ga.code:throw new ga(m);case xa.code:throw new xa(m);case ba.code:throw new ba(m);case 5e3:throw new Xe(m);default:throw f instanceof Bt?f:new BA(m)}}},{delay:({count:f,error:m})=>{var p;if(m&&m instanceof Un){const x=(p=m==null?void 0:m.headers)==null?void 0:p.get("Retry-After");if(x!=null&&x.match(/\d/))return Number.parseInt(x)*1e3}return~~(1<<f)*o},retryCount:l,shouldRetry:({error:f})=>KA(f)}),{enabled:a,id:u})}}function KA(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Hr.code||t.code===Wr.code:t instanceof Un&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function ub(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function hb(t,{errorInstance:e=new Error("timed out"),timeout:s,signal:r}){return new Promise((a,i)=>{(async()=>{let o;try{const l=new AbortController;s>0&&(o=setTimeout(()=>{r?l.abort():i(e)},s)),a(await t({signal:(l==null?void 0:l.signal)||null}))}catch(l){(l==null?void 0:l.name)==="AbortError"&&i(e),i(l)}finally{clearTimeout(o)}})()})}function GA(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const bf=GA();function JA(t,e={}){return{async request(s){var h;const{body:r,onRequest:a=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=s,l={...e.fetchOptions??{},...s.fetchOptions??{}},{headers:c,method:d,signal:u}=l;try{const f=await hb(async({signal:p})=>{const x={...l,body:Array.isArray(r)?Hs(r.map(w=>({jsonrpc:"2.0",id:w.id??bf.take(),...w}))):Hs({jsonrpc:"2.0",id:r.id??bf.take(),...r}),headers:{"Content-Type":"application/json",...c},method:d||"POST",signal:u||(o>0?p:null)},g=new Request(t,x),y=await(a==null?void 0:a(g,x))??{...x,url:t};return await fetch(y.url??t,y)},{errorInstance:new xf({body:r,url:t}),timeout:o,signal:!0});i&&await i(f);let m;if((h=f.headers.get("Content-Type"))!=null&&h.startsWith("application/json"))m=await f.json();else{m=await f.text();try{m=JSON.parse(m||"{}")}catch(p){if(f.ok)throw p;m={error:m}}}if(!f.ok)throw new Un({body:r,details:Hs(m.error)||f.statusText,headers:f.headers,status:f.status,url:t});return m}catch(f){throw f instanceof Un||f instanceof xf?f:new Un({body:r,cause:f,url:t})}}}}const pi="2.19.0",ZA=()=>`@wagmi/core@${pi}`;var fb=function(t,e,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(t):r?r.value:e.get(t)},Vi,mb;class ya extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return ZA()}constructor(e,s={}){var i;super(),Vi.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=s.cause instanceof ya?s.cause.details:(i=s.cause)!=null&&i.message?s.cause.message:s.details,a=s.cause instanceof ya&&s.cause.docsPath||s.docsPath;this.message=[e||"An error occurred.","",...s.metaMessages?[...s.metaMessages,""]:[],...a?[`Docs: ${this.docsBaseUrl}${a}.html${s.docsSlug?`#${s.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),s.cause&&(this.cause=s.cause),this.details=r,this.docsPath=a,this.metaMessages=s.metaMessages,this.shortMessage=e}walk(e){return fb(this,Vi,"m",mb).call(this,this,e)}}Vi=new WeakSet,mb=function t(e,s){return s!=null&&s(e)?e:e.cause?fb(this,Vi,"m",t).call(this,e.cause,s):e};class Ql extends ya{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}const ec=256;let Ya=ec,Qa;function pb(t=11){if(!Qa||Ya+t>ec*2){Qa="",Ya=0;for(let e=0;e<ec;e++)Qa+=(256+Math.random()*256|0).toString(16).substring(1)}return Qa.substring(Ya,Ya+++t)}function XA(t){const{batch:e,chain:s,ccipRead:r,key:a="base",name:i="Base Client",type:o="base"}=t,l=t.experimental_blockTag??(typeof(s==null?void 0:s.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(s==null?void 0:s.blockTime)??12e3,d=Math.min(Math.max(Math.floor(c/2),500),4e3),u=t.pollingInterval??d,h=t.cacheTime??u,f=t.account?FA(t.account):void 0,{config:m,request:p,value:x}=t.transport({chain:s,pollingInterval:u}),g={...m,...x},y={account:f,batch:e,cacheTime:h,ccipRead:r,chain:s,key:a,name:i,pollingInterval:u,request:p,transport:g,type:o,uid:pb(),...l?{experimental_blockTag:l}:{}};function N(w){return _=>{const v=_(w);for(const S in y)delete v[S];const j={...w,...v};return Object.assign(j,{extend:N(j)})}}return Object.assign(y,{extend:N(y)})}function YA({key:t,methods:e,name:s,request:r,retryCount:a=3,retryDelay:i=150,timeout:o,type:l},c){const d=pb();return{config:{key:t,methods:e,name:s,request:r,retryCount:a,retryDelay:i,timeout:o,type:l},request:HA(r,{methods:e,retryCount:a,retryDelay:i,uid:d}),value:c}}class QA extends Bt{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function yf(t,e={}){const{batch:s,fetchOptions:r,key:a="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:d,raw:u}=e;return({chain:h,retryCount:f,timeout:m})=>{const{batchSize:p=1e3,wait:x=0}=typeof s=="object"?s:{},g=e.retryCount??f,y=m??e.timeout??1e4,N=h==null?void 0:h.rpcUrls.default.http[0];if(!N)throw new QA;const w=JA(N,{fetchOptions:r,onRequest:l,onResponse:c,timeout:y});return YA({key:a,methods:i,name:o,async request({method:_,params:v}){const j={method:_,params:v},{schedule:S}=zA({id:N,wait:x,shouldSplitBatch(O){return O.length>p},fn:O=>w.request({body:O}),sort:(O,$)=>O.id-$.id}),A=async O=>s?S(O):[await w.request({body:O})],[{error:R,result:C}]=await A(j);if(u)return{error:R,result:C};if(R)throw new cb({body:j,error:R,url:N});return C},retryCount:g,retryDelay:d,timeout:y,type:"http"},{fetchOptions:r,url:N})}}let Qo=!1;async function eR(t,e={}){var d,u;if(Qo)return[];Qo=!0,t.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const s=[];if((d=e.connectors)!=null&&d.length)for(const h of e.connectors){let f;typeof h=="function"?f=t._internal.connectors.setup(h):f=h,s.push(f)}else s.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const a={};for(const[,h]of t.state.connections)a[h.connector.id]=1;r&&(a[r]=0);const i=Object.keys(a).length>0?[...s].sort((h,f)=>(a[h.id]??10)-(a[f.id]??10)):s;let o=!1;const l=[],c=[];for(const h of i){const f=await h.getProvider().catch(()=>{});if(!f||c.some(x=>x===f)||!await h.isAuthorized())continue;const p=await h.connect({isReconnecting:!0}).catch(()=>null);p&&(h.emitter.off("connect",t._internal.events.connect),h.emitter.on("change",t._internal.events.change),h.emitter.on("disconnect",t._internal.events.disconnect),t.setState(x=>{const g=new Map(o?x.connections:new Map).set(h.uid,{accounts:p.accounts,chainId:p.chainId,connector:h});return{...x,current:o?x.current:h.uid,connections:g}}),l.push({accounts:p.accounts,chainId:p.chainId,connector:h}),c.push(f),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(h=>({...h,status:"connected"})):t.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),Qo=!1,l}class vr extends ya{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}pd.type="injected";function pd(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:s}=t;function r(){const c=t.target;if(typeof c=="function"){const d=c();if(d)return d}return typeof c=="object"?c:typeof c=="string"?{...tR[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(d){return d==null?void 0:d.ethereum}}}let a,i,o,l;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:pd.type,async setup(){const d=await this.getProvider();d!=null&&d.on&&t.target&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),a||(a=this.onAccountsChanged.bind(this),d.on("accountsChanged",a)))},async connect({chainId:d,isReconnecting:u}={}){var m,p,x,g,y,N;const h=await this.getProvider();if(!h)throw new vr;let f=[];if(u)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(g=(x=(p=(m=(await h.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:m.caveats)==null?void 0:p[0])==null?void 0:x.value)==null?void 0:g.map(_=>Za(_)),f.length>0&&(f=await this.getAccounts())}catch(w){const _=w;if(_.code===Xe.code)throw new Xe(_);if(_.code===bs.code)throw _}try{!(f!=null&&f.length)&&!u&&(f=(await h.request({method:"eth_requestAccounts"})).map(v=>Za(v))),o&&(h.removeListener("connect",o),o=void 0),a||(a=this.onAccountsChanged.bind(this),h.on("accountsChanged",a)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),h.on("disconnect",l));let w=await this.getChainId();if(d&&w!==d){const _=await this.switchChain({chainId:d}).catch(v=>{if(v.code===Xe.code)throw v;return{id:w}});w=(_==null?void 0:_.id)??w}return e&&await((y=c.storage)==null?void 0:y.removeItem(`${this.id}.disconnected`)),t.target||await((N=c.storage)==null?void 0:N.setItem("injected.connected",!0)),{accounts:f,chainId:w}}catch(w){const _=w;throw _.code===Xe.code?new Xe(_):_.code===bs.code?new bs(_):_}},async disconnect(){var u,h;const d=await this.getProvider();if(!d)throw new vr;i&&(d.removeListener("chainChanged",i),i=void 0),l&&(d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d.on("connect",o));try{await hb(()=>d.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((h=c.storage)==null?void 0:h.removeItem("injected.connected"))},async getAccounts(){const d=await this.getProvider();if(!d)throw new vr;return(await d.request({method:"eth_accounts"})).map(h=>Za(h))},async getChainId(){const d=await this.getProvider();if(!d)throw new vr;const u=await d.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let d;const u=r();return typeof u.provider=="function"?d=u.provider(window):typeof u.provider=="string"?d=gi(window,u.provider):d=u.provider,d&&!d.removeListener&&("off"in d&&typeof d.off=="function"?d.removeListener=d.off:d.removeListener=()=>{}),d},async isAuthorized(){var d,u;try{if(e&&await((d=c.storage)==null?void 0:d.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(s!==void 0&&s!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),x=typeof s=="number"?s:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(y=>window.addEventListener("ethereum#initialized",()=>y(p()),{once:!0}))]:[],new Promise(y=>setTimeout(()=>y(p()),x))]))return!0}throw new vr}return!!(await db(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:u}){var p,x,g,y;const h=await this.getProvider();if(!h)throw new vr;const f=c.chains.find(N=>N.id===u);if(!f)throw new Zs(new Ql);const m=new Promise(N=>{const w=_=>{"chainId"in _&&_.chainId===u&&(c.emitter.off("change",w),N())};c.emitter.on("change",w)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:Yl(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),m]),f}catch(N){const w=N;if(w.code===4902||((x=(p=w==null?void 0:w.data)==null?void 0:p.originalError)==null?void 0:x.code)===4902)try{const{default:_,...v}=f.blockExplorers??{};let j;d!=null&&d.blockExplorerUrls?j=d.blockExplorerUrls:_&&(j=[_.url,...Object.values(v).map(R=>R.url)]);let S;(g=d==null?void 0:d.rpcUrls)!=null&&g.length?S=d.rpcUrls:S=[((y=f.rpcUrls.default)==null?void 0:y.http[0])??""];const A={blockExplorerUrls:j,chainId:Yl(u),chainName:(d==null?void 0:d.chainName)??f.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:(d==null?void 0:d.nativeCurrency)??f.nativeCurrency,rpcUrls:S};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[A]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new Xe(new Error("User rejected switch after adding network."))}),m]),f}catch(_){throw new Xe(_)}throw w.code===Xe.code?new Xe(w):new Zs(w)}},async onAccountsChanged(d){var u;if(d.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:d.map(h=>Za(h))})},onChainChanged(d){const u=Number(d);c.emitter.emit("change",{chainId:u})},async onConnect(d){const u=await this.getAccounts();if(u.length===0)return;const h=Number(d.chainId);c.emitter.emit("connect",{accounts:u,chainId:h});const f=await this.getProvider();f&&(o&&(f.removeListener("connect",o),o=void 0),a||(a=this.onAccountsChanged.bind(this),f.on("accountsChanged",a)),i||(i=this.onChainChanged.bind(this),f.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),f.on("disconnect",l)))},async onDisconnect(d){const u=await this.getProvider();d&&d.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),l&&(u.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const tR={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:gi(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return gi(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const s=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of s)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,s;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(s=t.phantom)==null?void 0:s.ethereum:gi(t,"isPhantom")}}};function gi(t,e){function s(a){return typeof e=="function"?e(a):typeof e=="string"?a[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(a=>s(a));if(r&&s(r))return r}function sR(t){if(typeof window>"u")return;const e=s=>t(s.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function rR(){const t=new Set;let e=[];const s=()=>sR(a=>{e.some(({info:i})=>i.uuid===a.info.uuid)||(e=[...e,a],t.forEach(i=>i(e,{added:[a]})))});let r=s();return{_listeners(){return t},clear(){t.forEach(a=>a([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:a}){return e.find(i=>i.info.rdns===a)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=s()},subscribe(a,{emitImmediately:i}={}){return t.add(a),i&&a(e,{added:e}),()=>t.delete(a)}}}const nR=t=>(e,s,r)=>{const a=r.subscribe;return r.subscribe=(o,l,c)=>{let d=o;if(l){const u=(c==null?void 0:c.equalityFn)||Object.is;let h=o(r.getState());d=f=>{const m=o(f);if(!u(h,m)){const p=h;l(h=m,p)}},c!=null&&c.fireImmediately&&l(h,h)}return a(d)},t(e,s,r)},aR=nR;function iR(t,e){let s;try{s=t()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=s.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>s.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>s.removeItem(a)}}const tc=t=>e=>{try{const s=t(e);return s instanceof Promise?s:{then(r){return tc(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return tc(r)(s)}}}},oR=(t,e)=>(s,r,a)=>{let i={storage:iR(()=>localStorage),partialize:x=>x,version:0,merge:(x,g)=>({...g,...x}),...e},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...x)},r,a);const u=()=>{const x=i.partialize({...r()});return d.setItem(i.name,{state:x,version:i.version})},h=a.setState;a.setState=(x,g)=>{h(x,g),u()};const f=t((...x)=>{s(...x),u()},r,a);a.getInitialState=()=>f;let m;const p=()=>{var x,g;if(!d)return;o=!1,l.forEach(N=>{var w;return N((w=r())!=null?w:f)});const y=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(x=r())!=null?x:f))||void 0;return tc(d.getItem.bind(d))(i.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==i.version){if(i.migrate)return[!0,i.migrate(N.state,N.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var w;const[_,v]=N;if(m=i.merge(v,(w=r())!=null?w:f),s(m,!0),_)return u()}).then(()=>{y==null||y(m,void 0),m=r(),o=!0,c.forEach(N=>N(m))}).catch(N=>{y==null||y(void 0,N)})};return a.persist={setOptions:x=>{i={...i,...x},x.storage&&(d=x.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},i.skipHydration||p(),m||f},lR=oR,vf=t=>{let e;const s=new Set,r=(d,u)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),s.forEach(m=>m(e,f))}},a=()=>e,l={setState:r,getState:a,getInitialState:()=>c,subscribe:d=>(s.add(d),()=>s.delete(d))},c=e=t(r,a,l);return l},el=t=>t?vf(t):vf;var gb={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,s="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(s=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new a(u,h||c,f),p=s?s+d:d;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)e.call(u,h)&&d.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=s?s+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,p=new Array(m);f<m;f++)p[f]=h[f].fn;return p},l.prototype.listenerCount=function(d){var u=s?s+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,f,m,p){var x=s?s+d:d;if(!this._events[x])return!1;var g=this._events[x],y=arguments.length,N,w;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,h),!0;case 4:return g.fn.call(g.context,u,h,f),!0;case 5:return g.fn.call(g.context,u,h,f,m),!0;case 6:return g.fn.call(g.context,u,h,f,m,p),!0}for(w=1,N=new Array(y-1);w<y;w++)N[w-1]=arguments[w];g.fn.apply(g.context,N)}else{var _=g.length,v;for(w=0;w<_;w++)switch(g[w].once&&this.removeListener(d,g[w].fn,void 0,!0),y){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,h);break;case 4:g[w].fn.call(g[w].context,u,h,f);break;default:if(!N)for(v=1,N=new Array(y-1);v<y;v++)N[v-1]=arguments[v];g[w].fn.apply(g[w].context,N)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,f){var m=s?s+d:d;if(!this._events[m])return this;if(!u)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===u&&(!f||p.once)&&(!h||p.context===h)&&o(this,m);else{for(var x=0,g=[],y=p.length;x<y;x++)(p[x].fn!==u||f&&!p[x].once||h&&p[x].context!==h)&&g.push(p[x]);g.length?this._events[m]=g.length===1?g[0]:g:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=s?s+d:d,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,t.exports=l})(gb);var cR=gb.exports;const dR=Uy(cR);class uR{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new dR})}on(e,s){this._emitter.on(e,s)}once(e,s){this._emitter.once(e,s)}off(e,s){this._emitter.off(e,s)}emit(e,...s){const r=s[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function hR(t){return new uR(t)}function fR(t,e){return JSON.parse(t,(s,r)=>{let a=r;return(a==null?void 0:a.__type)==="bigint"&&(a=BigInt(a.value)),(a==null?void 0:a.__type)==="Map"&&(a=new Map(a.value)),(e==null?void 0:e(s,a))??a})}function wf(t,e){return t.slice(0,e).join(".")||"."}function jf(t,e){const{length:s}=t;for(let r=0;r<s;++r)if(t[r]===e)return r+1;return 0}function mR(t,e){const s=typeof t=="function",r=typeof e=="function",a=[],i=[];return function(l,c){if(typeof c=="object")if(a.length){const d=jf(a,this);d===0?a[a.length]=this:(a.splice(d),i.splice(d)),i[i.length]=l;const u=jf(a,c);if(u!==0)return r?e.call(this,l,c,wf(i,u)):`[ref=${wf(i,u)}]`}else a[0]=c,i[0]=l;return s?t.call(this,l,c):c}}function pR(t,e,s,r){return JSON.stringify(t,mR((a,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(a,o))??o},r),s??void 0)}function gR(t){const{deserialize:e=fR,key:s="wagmi",serialize:r=pR,storage:a=xb}=t;function i(o){return o instanceof Promise?o.then(l=>l).catch(()=>null):o}return{...a,key:s,async getItem(o,l){const c=a.getItem(`${s}.${o}`),d=await i(c);return d?e(d)??null:l??null},async setItem(o,l){const c=`${s}.${o}`;l===null?await i(a.removeItem(c)):await i(a.setItem(c,r(l)))},async removeItem(o){await i(a.removeItem(`${s}.${o}`))}}}const xb={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function xR(){const t=typeof window<"u"&&window.localStorage?window.localStorage:xb;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,s){try{t.setItem(e,s)}catch{}}}}const sc=256;let ei=sc,ti;function bR(t=11){if(!ti||ei+t>sc*2){ti="",ei=0;for(let e=0;e<sc;e++)ti+=(256+Math.random()*256|0).toString(16).substring(1)}return ti.substring(ei,ei+++t)}function yR(t){const{multiInjectedProviderDiscovery:e=!0,storage:s=gR({storage:xR()}),syncConnectedChain:r=!0,ssr:a=!1,...i}=t,o=typeof window<"u"&&e?rR():void 0,l=el(()=>i.chains),c=el(()=>{const v=[],j=new Set;for(const S of i.connectors??[]){const A=d(S);if(v.push(A),!a&&A.rdns){const R=typeof A.rdns=="string"?[A.rdns]:A.rdns;for(const C of R)j.add(C)}}if(!a&&o){const S=o.getProviders();for(const A of S)j.has(A.info.rdns)||v.push(d(u(A)))}return v});function d(v){var A;const j=hR(bR()),S={...v({emitter:j,chains:l.getState(),storage:s,transports:i.transports}),emitter:j,uid:j.uid};return j.on("connect",w),(A=S.setup)==null||A.call(S),S}function u(v){const{info:j}=v,S=v.provider;return pd({target:{...j,id:j.rdns,provider:S}})}const h=new Map;function f(v={}){const j=v.chainId??g.getState().chainId,S=l.getState().find(R=>R.id===j);if(v.chainId&&!S)throw new Ql;{const R=h.get(g.getState().chainId);if(R&&!S)return R;if(!S)throw new Ql}{const R=h.get(j);if(R)return R}let A;if(i.client)A=i.client({chain:S});else{const R=S.id,C=l.getState().map(I=>I.id),O={},$=Object.entries(i);for(const[I,T]of $)if(!(I==="chains"||I==="client"||I==="connectors"||I==="transports"))if(typeof T=="object")if(R in T)O[I]=T[R];else{if(C.some(L=>L in T))continue;O[I]=T}else O[I]=T;A=XA({...O,chain:S,batch:O.batch??{multicall:!0},transport:I=>i.transports[R]({...I,connectors:c})})}return h.set(j,A),A}function m(){return{chainId:l.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const x="0.0.0-canary-";pi.startsWith(x)?p=Number.parseInt(pi.replace(x,"")):p=Number.parseInt(pi.split(".")[0]??"0");const g=el(aR(s?lR(m,{migrate(v,j){if(j===p)return v;const S=m(),A=y(v,S.chainId);return{...S,chainId:A}},name:"store",partialize(v){return{connections:{__type:"Map",value:Array.from(v.connections.entries()).map(([j,S])=>{const{id:A,name:R,type:C,uid:O}=S.connector;return[j,{...S,connector:{id:A,name:R,type:C,uid:O}}]})},chainId:v.chainId,current:v.current}},merge(v,j){typeof v=="object"&&v&&"status"in v&&delete v.status;const S=y(v,j.chainId);return{...j,...v,chainId:S}},skipHydration:a,storage:s,version:p}):m));g.setState(m());function y(v,j){return v&&typeof v=="object"&&"chainId"in v&&typeof v.chainId=="number"&&l.getState().some(S=>S.id===v.chainId)?v.chainId:j}r&&g.subscribe(({connections:v,current:j})=>{var S;return j?(S=v.get(j))==null?void 0:S.chainId:void 0},v=>{if(l.getState().some(S=>S.id===v))return g.setState(S=>({...S,chainId:v??S.chainId}))}),o==null||o.subscribe(v=>{const j=new Set,S=new Set;for(const R of c.getState())if(j.add(R.id),R.rdns){const C=typeof R.rdns=="string"?[R.rdns]:R.rdns;for(const O of C)S.add(O)}const A=[];for(const R of v){if(S.has(R.info.rdns))continue;const C=d(u(R));j.has(C.id)||A.push(C)}s&&!g.persist.hasHydrated()||c.setState(R=>[...R,...A],!0)});function N(v){g.setState(j=>{const S=j.connections.get(v.uid);return S?{...j,connections:new Map(j.connections).set(v.uid,{accounts:v.accounts??S.accounts,chainId:v.chainId??S.chainId,connector:S.connector})}:j})}function w(v){g.getState().status==="connecting"||g.getState().status==="reconnecting"||g.setState(j=>{const S=c.getState().find(A=>A.uid===v.uid);return S?(S.emitter.listenerCount("connect")&&S.emitter.off("connect",N),S.emitter.listenerCount("change")||S.emitter.on("change",N),S.emitter.listenerCount("disconnect")||S.emitter.on("disconnect",_),{...j,connections:new Map(j.connections).set(v.uid,{accounts:v.accounts,chainId:v.chainId,connector:S}),current:v.uid,status:"connected"}):j})}function _(v){g.setState(j=>{const S=j.connections.get(v.uid);if(S){const R=S.connector;R.emitter.listenerCount("change")&&S.connector.emitter.off("change",N),R.emitter.listenerCount("disconnect")&&S.connector.emitter.off("disconnect",_),R.emitter.listenerCount("connect")||S.connector.emitter.on("connect",w)}if(j.connections.delete(v.uid),j.connections.size===0)return{...j,connections:new Map,current:null,status:"disconnected"};const A=j.connections.values().next().value;return{...j,connections:new Map(j.connections),current:A.connector.uid}})}return{get chains(){return l.getState()},get connectors(){return c.getState()},storage:s,getClient:f,get state(){return g.getState()},setState(v){let j;typeof v=="function"?j=v(g.getState()):j=v;const S=m();typeof j!="object"&&(j=S),Object.keys(S).some(R=>!(R in j))&&(j=S),g.setState(j,!0)},subscribe(v,j,S){return g.subscribe(v,j,S?{...S,fireImmediately:S.emitImmediately}:void 0)},_internal:{mipd:o,store:g,ssr:!!a,syncConnectedChain:r,transports:i.transports,chains:{setState(v){const j=typeof v=="function"?v(l.getState()):v;if(j.length!==0)return l.setState(j,!0)},subscribe(v){return l.subscribe(v)}},connectors:{providerDetailToConnector:u,setup:d,setState(v){return c.setState(typeof v=="function"?v(c.getState()):v,!0)},subscribe(v){return c.subscribe(v)}},events:{change:N,connect:w,disconnect:_}}}}function vR(t,e){const{initialState:s,reconnectOnMount:r}=e;return s&&!t._internal.store.persist.hasHydrated()&&t.setState({...s,chainId:t.chains.some(a=>a.id===s.chainId)?s.chainId:t.chains[0].id,connections:r?s.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(a=>{var c;const i=new Set;for(const d of a??[])if(d.rdns){const u=Array.isArray(d.rdns)?d.rdns:[d.rdns];for(const h of u)i.add(h)}const o=[],l=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const d of l){if(i.has(d.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(d),h=t._internal.connectors.setup(u);o.push(h)}return[...a,...o]})),r?eR(t):t.storage&&t.setState(a=>({...a,connections:new Map}))}}}function wR(t){const{children:e,config:s,initialState:r,reconnectOnMount:a=!0}=t,{onMount:i}=vR(s,{initialState:r,reconnectOnMount:a});s._internal.ssr||i();const o=b.useRef(!0);return b.useEffect(()=>{if(o.current&&s._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const jR=b.createContext(void 0);function NR(t){const{children:e,config:s}=t,r={value:s};return b.createElement(wR,t,b.createElement(jR.Provider,r,e))}const Nf=ub({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),_f=ub({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0}),_R=yR({chains:[Nf,_f],transports:{[Nf.id]:yf(),[_f.id]:yf()}});class SR extends b.Component{constructor(){super(...arguments);Ia(this,"state",{hasError:!1})}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("ErrorBoundary caught an error:",s,r)}render(){if(this.state.hasError){const s=qe.t.bind(qe);return this.props.fallback||n.jsxs("div",{style:{padding:"2rem",textAlign:"center",fontFamily:"system-ui, sans-serif",maxWidth:"600px",margin:"0 auto"},children:[n.jsx("h1",{children:s("errorBoundary.title")}),n.jsx("p",{children:s("errorBoundary.description")}),n.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.5rem 1rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:s("errorBoundary.reload")}),!1]})}return this.props.children}}const kR=new zy,CR=()=>{try{const t=document.getElementById("root");if(!t){console.error("Root element not found");return}qy(t).render(n.jsx(SR,{children:n.jsx(NR,{config:_R,children:n.jsx(Wy,{client:kR,children:n.jsx(Hy,{children:n.jsx(XE,{})})})})}))}catch(t){console.error("Error rendering app:",t);const e=document.getElementById("root");e&&(e.innerHTML=`
        <div style="padding: 2rem; text-align: center; font-family: system-ui, sans-serif;">
          <h1>Render Error</h1>
          <p>Erro ao renderizar a aplicao: ${t instanceof Error?t.message:"Erro desconhecido"}</p>
          <pre style="background: #f5f5f5; padding: 1rem; border-radius: 4px; text-align: left;">
            ${t instanceof Error?t.stack:String(t)}
          </pre>
        </div>
      `)}};typeof window<"u"&&CR();
