var ab=Object.defineProperty;var ob=(t,e,s)=>e in t?ab(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var xi=(t,e,s)=>ob(t,typeof e!="symbol"?e+"":e,s);import{i as lb,g as cb,c as xt,r as b,j as i,V as df,R as uf,A as hf,C as ff,X as Cr,T as mf,D as pf,P as db,a as L,v as ub,b as gf,d as hb,e as fb,f as mb,F as ql,h as pr,Z as xf,k as Rt,l as hd,m as $i,n as Wo,B as ja,o as qn,p as bf,U as Sa,q as pb,s as fd,t as gb,S as Hl,u as Vs,w as xs,x as yf,y as yt,z as Hn,G as _a,L as be,E as vf,O as Na,H as wf,I as ka,J as Kn,K as jf,M as Ca,N as Sf,Q as xb,W as _f,Y as Nf,_ as kf,$ as bb,a0 as Cf,a1 as Pf,a2 as Tf,a3 as Af,a4 as Ef,a5 as Rf,a6 as Kl,a7 as Of,a8 as If,a9 as yb,aa as vb,ab as Lf,ac as Mf,ad as Df,ae as Gl,af as wb,ag as jb,ah as Sb,ai as Xt,aj as dr,ak as Jl,al as Zl,am as $f,an as _b,ao as Nb,ap as Ff,aq as Yl,ar as Vf,as as kb,at as Cb,au as Pb,av as Bf,aw as Uf,ax as Tb,ay as Ab,az as zf,aA as Eb,aB as He,aC as Pr,aD as Qe,aE as Wf,aF as qf,aG as Rb,aH as Hf,aI as Ob,aJ as Kf,aK as Ib,aL as Gf,aM as Lb,aN as Jf,aO as Mb,aP as Zf,aQ as Yf,aR as Db,aS as $b,aT as Xf,aU as Fb,aV as Vb,aW as et,aX as Qf,aY as Bb,aZ as Ub,a_ as zb,a$ as Wb,b0 as em,b1 as qb,b2 as Xl,b3 as Hb,b4 as Kb,b5 as Gb,b6 as tm,b7 as sm,b8 as rm,b9 as Jb,ba as Zb,bb as qo,bc as no,bd as Yb,be as Xb,bf as Qb,bg as ey,bh as nm,bi as ty,bj as im,bk as sy,bl as am,bm as om,bn as lm,bo as cm,bp as dm,bq as ry,br as Pa,bs as Ta,bt as Aa,bu as Ea,bv as ny,bw as um,bx as hm,by as fm,bz as iy,bA as ay,bB as oy,bC as mm,bD as Qr,bE as md,bF as ly,bG as cy,bH as dy,bI as ge,bJ as uy,bK as hy,bL as fy,bM as my,bN as py}from"./vendor-CdqXvmau.js";import"./ui-BA32w1ww.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();const K=t=>typeof t=="string",Fr=()=>{let t,e;const s=new Promise((r,n)=>{t=r,e=n});return s.resolve=t,s.reject=e,s},pd=t=>t==null?"":""+t,gy=(t,e,s)=>{t.forEach(r=>{e[r]&&(s[r]=e[r])})},xy=/###/g,gd=t=>t&&t.indexOf("###")>-1?t.replace(xy,"."):t,xd=t=>!t||K(t),en=(t,e,s)=>{const r=K(e)?e.split("."):e;let n=0;for(;n<r.length-1;){if(xd(t))return{};const a=gd(r[n]);!t[a]&&s&&(t[a]=new s),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++n}return xd(t)?{}:{obj:t,k:gd(r[n])}},bd=(t,e,s)=>{const{obj:r,k:n}=en(t,e,Object);if(r!==void 0||e.length===1){r[n]=s;return}let a=e[e.length-1],o=e.slice(0,e.length-1),l=en(t,o,Object);for(;l.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),l=en(t,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=s},by=(t,e,s,r)=>{const{obj:n,k:a}=en(t,e,Object);n[a]=n[a]||[],n[a].push(s)},ea=(t,e)=>{const{obj:s,k:r}=en(t,e);if(s)return s[r]},yy=(t,e,s)=>{const r=ea(t,s);return r!==void 0?r:ea(e,s)},pm=(t,e,s)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?K(t[r])||t[r]instanceof String||K(e[r])||e[r]instanceof String?s&&(t[r]=e[r]):pm(t[r],e[r],s):t[r]=e[r]);return t},qs=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var vy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const wy=t=>K(t)?t.replace(/[&<>"'\/]/g,e=>vy[e]):t;class jy{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Sy=[" ",",","?","!",";"],_y=new jy(20),Ny=(t,e,s)=>{e=e||"",s=s||"";const r=Sy.filter(o=>e.indexOf(o)<0&&s.indexOf(o)<0);if(r.length===0)return!0;const n=_y.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!n.test(t);if(!a){const o=t.indexOf(s);o>0&&!n.test(t.substring(0,o))&&(a=!0)}return a},Ho=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(s);let n=t;for(let a=0;a<r.length;){if(!n||typeof n!="object")return;let o,l="";for(let c=a;c<r.length;++c)if(c!==a&&(l+=s),l+=r[c],o=n[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<r.length-1)continue;a+=c-a+1;break}n=o}return n},ta=t=>t&&t.replace("_","-"),ky={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class sa{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,s)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=e||ky,this.options=s,this.debug=s.debug}log(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"log","",!0)}warn(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"warn","",!0)}error(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"error","")}deprecate(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,r,n){return n&&!this.debug?null:(K(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new sa(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new sa(this.logger,e)}}var Mt=new sa;let Ra=class{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const n=this.observers[r].get(s)||0;this.observers[r].set(s,n+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e){for(var s=arguments.length,r=new Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[l,c]=o;for(let d=0;d<c;d++)l(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,c]=o;for(let d=0;d<c;d++)l.apply(l,[e,...r])})}};class yd extends Ra{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,o=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,s],r&&(Array.isArray(r)?l.push(...r):K(r)&&a?l.push(...r.split(a)):l.push(r)));const c=ea(this.data,l);return!c&&!s&&!r&&e.indexOf(".")>-1&&(e=l[0],s=l[1],r=l.slice(2).join(".")),c||!o||!K(r)?c:Ho(this.data&&this.data[e]&&this.data[e][s],r,a)}addResource(e,s,r,n){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[e,s];r&&(l=l.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(l=e.split("."),n=s,s=l[1]),this.addNamespaces(s),bd(this.data,l,n),a.silent||this.emit("added",e,s,r,n)}addResources(e,s,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in r)(K(r[a])||Array.isArray(r[a]))&&this.addResource(e,s,a,r[a],{silent:!0});n.silent||this.emit("added",e,s,r)}addResourceBundle(e,s,r,n,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,s];e.indexOf(".")>-1&&(l=e.split("."),n=r,r=s,s=l[1]),this.addNamespaces(s);let c=ea(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?pm(c,r,a):c={...c,...r},bd(this.data,l,c),o.silent||this.emit("added",e,s,r)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,s)}:this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(n=>s[n]&&Object.keys(s[n]).length>0)}toJSON(){return this.data}}var gm={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,r,n){return t.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,s,r,n))}),e}};const vd={};class ra extends Ra{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),gy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Mt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,s);return r&&r.res!==void 0}extractFromKey(e,s){let r=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const n=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=s.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!Ny(e,r,n);if(o&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:K(a)?[a]:a};const d=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(d[0])>-1)&&(a=d.shift()),e=d.join(n)}return{key:e,namespaces:K(a)?[a]:a}}translate(e,s,r){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const n=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],s),c=l[l.length-1],d=s.lng||this.language,u=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(u){const S=s.nsSeparator||this.options.nsSeparator;return n?{res:`${c}${S}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:`${c}${S}${o}`}return n?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:o}const h=this.resolve(e,s);let f=h&&h.res;const m=h&&h.usedKey||o,p=h&&h.exactUsedKey||o,x=Object.prototype.toString.apply(f),g=["[object Number]","[object Function]","[object RegExp]"],v=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!K(f)&&typeof f!="boolean"&&typeof f!="number";if(j&&f&&w&&g.indexOf(x)<0&&!(K(v)&&Array.isArray(f))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,f,{...s,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return n?(h.res=S,h.usedParams=this.getUsedParamsDetails(s),h):S}if(a){const S=Array.isArray(f),y=S?[]:{},N=S?p:m;for(const _ in f)if(Object.prototype.hasOwnProperty.call(f,_)){const A=`${N}${a}${_}`;y[_]=this.translate(A,{...s,joinArrays:!1,ns:l}),y[_]===A&&(y[_]=f[_])}f=y}}else if(j&&K(v)&&Array.isArray(f))f=f.join(v),f&&(f=this.extendTranslation(f,e,s,r));else{let S=!1,y=!1;const N=s.count!==void 0&&!K(s.count),_=ra.hasDefaultValue(s),A=N?this.pluralResolver.getSuffix(d,s.count,s):"",O=s.ordinal&&N?this.pluralResolver.getSuffix(d,s.count,{ordinal:!1}):"",C=N&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),E=C&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${A}`]||s[`defaultValue${O}`]||s.defaultValue;!this.isValidLookup(f)&&_&&(S=!0,f=E),this.isValidLookup(f)||(y=!0,f=o);const se=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&y?void 0:f,G=_&&E!==f&&this.options.updateMissing;if(y||S||G){if(this.logger.log(G?"updateKey":"missingKey",d,c,o,G?E:f),a){const q=this.resolve(o,{...s,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let P=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let q=0;q<M.length;q++)P.push(M[q]);else this.options.saveMissingTo==="all"?P=this.languageUtils.toResolveHierarchy(s.lng||this.language):P.push(s.lng||this.language);const U=(q,V,pe)=>{const k=_&&pe!==f?pe:se;this.options.missingKeyHandler?this.options.missingKeyHandler(q,c,V,k,G,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(q,c,V,k,G,s),this.emit("missingKey",q,c,V,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?P.forEach(q=>{const V=this.pluralResolver.getSuffixes(q,s);C&&s[`defaultValue${this.options.pluralSeparator}zero`]&&V.indexOf(`${this.options.pluralSeparator}zero`)<0&&V.push(`${this.options.pluralSeparator}zero`),V.forEach(pe=>{U([q],o+pe,s[`defaultValue${pe}`]||E)})}):U(P,o,E))}f=this.extendTranslation(f,e,s,h,r),y&&f===o&&this.options.appendNamespaceToMissingKey&&(f=`${c}:${o}`),(y||S)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,S?f:void 0):f=this.options.parseMissingKeyHandler(f))}return n?(h.res=f,h.usedParams=this.getUsedParamsDetails(s),h):f}extendTranslation(e,s,r,n,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=K(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(d){const f=e.match(this.interpolator.nestingRegexp);u=f&&f.length}let h=r.replace&&!K(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||n.usedLng,r),d){const f=e.match(this.interpolator.nestingRegexp),m=f&&f.length;u<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&n&&n.res&&(r.lng=this.language||n.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];return a&&a[0]===m[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${s[0]}`),null):o.translate(...m,s)},r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=K(l)?[l]:l;return e!=null&&c&&c.length&&r.applyPostProcessor!==!1&&(e=gm.handle(c,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,n,a,o,l;return K(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(c,s),u=d.key;n=u;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=s.count!==void 0&&!K(s.count),m=f&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),p=s.context!==void 0&&(K(s.context)||typeof s.context=="number")&&s.context!=="",x=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);h.forEach(g=>{this.isValidLookup(r)||(l=g,!vd[`${x[0]}-${g}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(vd[`${x[0]}-${g}`]=!0,this.logger.warn(`key "${n}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(v=>{if(this.isValidLookup(r))return;o=v;const j=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(j,u,v,g,s);else{let S;f&&(S=this.pluralResolver.getSuffix(v,s.count,s));const y=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(j.push(u+S),s.ordinal&&S.indexOf(N)===0&&j.push(u+S.replace(N,this.options.pluralSeparator)),m&&j.push(u+y)),p){const _=`${u}${this.options.contextSeparator}${s.context}`;j.push(_),f&&(j.push(_+S),s.ordinal&&S.indexOf(N)===0&&j.push(_+S.replace(N,this.options.pluralSeparator)),m&&j.push(_+y))}}let w;for(;w=j.pop();)this.isValidLookup(r)||(a=w,r=this.getResource(v,g,w,s))}))})}),{res:r,usedKey:n,exactUsedKey:a,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,s,r,n):this.resourceStore.getResource(e,s,r,n)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!K(e.replace);let n=r?e.replace:e;if(r&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!r){n={...n};for(const a of s)delete n[a]}return n}static hasDefaultValue(e){const s="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&s===r.substring(0,s.length)&&e[r]!==void 0)return!0;return!1}}const io=t=>t.charAt(0).toUpperCase()+t.slice(1);class wd{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Mt.create("languageUtils")}getScriptPartFromCode(e){if(e=ta(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=ta(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(K(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let n=Intl.getCanonicalLocales(e)[0];if(n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n)return n}catch{}const s=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(n=>n.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),s.indexOf(r[1].toLowerCase())>-1&&(r[1]=io(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),s.indexOf(r[1].toLowerCase())>-1&&(r[1]=io(r[1].toLowerCase())),s.indexOf(r[2].toLowerCase())>-1&&(r[2]=io(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(r=>{if(s)return;const n=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(n))&&(s=n)}),!s&&this.options.supportedLngs&&e.forEach(r=>{if(s)return;const n=this.getLanguagePartFromCode(r);if(this.isSupportedCode(n))return s=n;s=this.options.supportedLngs.find(a=>{if(a===n)return a;if(!(a.indexOf("-")<0&&n.indexOf("-")<0)&&(a.indexOf("-")>0&&n.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===n||a.indexOf(n)===0&&n.length>1))return a})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),K(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let r=e[s];return r||(r=e[this.getScriptPartFromCode(s)]),r||(r=e[this.formatLanguageCode(s)]),r||(r=e[this.getLanguagePartFromCode(s)]),r||(r=e.default),r||[]}toResolveHierarchy(e,s){const r=this.getFallbackCodes(s||this.options.fallbackLng||[],e),n=[],a=o=>{o&&(this.isSupportedCode(o)?n.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return K(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):K(e)&&a(this.formatLanguageCode(e)),r.forEach(o=>{n.indexOf(o)<0&&a(this.formatLanguageCode(o))}),n}}let Cy=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Py={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Ty=["v1","v2","v3"],Ay=["v4"],jd={zero:0,one:1,two:2,few:3,many:4,other:5},Ey=()=>{const t={};return Cy.forEach(e=>{e.lngs.forEach(s=>{t[s]={numbers:e.nr,plurals:Py[e.fc]}})}),t};class Ry{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=s,this.logger=Mt.create("pluralResolver"),(!this.options.compatibilityJSON||Ay.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Ey(),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=ta(e==="dev"?"en":e),n=s.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:n});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(r,{type:n})}catch{if(!e.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,s)}return this.pluralRulesCache[a]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,s);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(n=>`${s}${n}`)}getSuffixes(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,s);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((n,a)=>jd[n]-jd[a]).map(n=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${n}`):r.numbers.map(n=>this.getSuffix(e,n,s)):[]}getSuffix(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(s)}`:this.getSuffixRetroCompatible(n,s):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,s){const r=e.noAbs?e.plurals(s):e.plurals(Math.abs(s));let n=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(n===2?n="plural":n===1&&(n=""));const a=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return this.options.compatibilityJSON==="v1"?n===1?"":typeof n=="number"?`_plural_${n.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Ty.includes(this.options.compatibilityJSON)}}const Sd=function(t,e,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=yy(t,e,s);return!a&&n&&K(s)&&(a=Ho(t,s,r),a===void 0&&(a=Ho(e,s,r))),a},ao=t=>t.replace(/\$/g,"$$$$");class Oy{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Mt.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(s=>s),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:r,useRawValueToEscape:n,prefix:a,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:m,nestingSuffix:p,nestingSuffixEscaped:x,nestingOptionsSeparator:g,maxReplaces:v,alwaysFormat:j}=e.interpolation;this.escape=s!==void 0?s:wy,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=a?qs(a):o||"{{",this.suffix=l?qs(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=f?qs(f):m||qs("$t("),this.nestingSuffix=p?qs(p):x||qs(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=v||1e3,this.alwaysFormat=j!==void 0?j:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,r)=>s&&s.source===r?(s.lastIndex=0,s):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,s,r,n){let a,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=m=>{if(m.indexOf(this.formatSeparator)<0){const v=Sd(s,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,r,{...n,...s,interpolationkey:m}):v}const p=m.split(this.formatSeparator),x=p.shift().trim(),g=p.join(this.formatSeparator).trim();return this.format(Sd(s,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),g,r,{...n,...s,interpolationkey:x})};this.resetRegExp();const u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,h=n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>ao(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?ao(this.escape(m)):ao(m)}].forEach(m=>{for(l=0;a=m.regex.exec(e);){const p=a[1].trim();if(o=d(p),o===void 0)if(typeof u=="function"){const g=u(e,a,n);o=K(g)?g:""}else if(n&&Object.prototype.hasOwnProperty.call(n,p))o="";else if(h){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),o="";else!K(o)&&!this.useRawValueToEscape&&(o=pd(o));const x=m.safeValue(o);if(e=e.replace(a[0],x),h?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=a[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,a,o;const l=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const h=c.split(new RegExp(`${u}[ ]*{`));let f=`{${h[1]}`;c=h[0],f=this.interpolate(f,o);const m=f.match(/'/g),p=f.match(/"/g);(m&&m.length%2===0&&!p||p.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),d&&(o={...d,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${u}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;n=this.nestingRegexp.exec(e);){let c=[];o={...r},o=o.replace&&!K(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let d=!1;if(n[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(n[1])){const u=n[1].split(this.formatSeparator).map(h=>h.trim());n[1]=u.shift(),c=u,d=!0}if(a=s(l.call(this,n[1].trim(),o),o),a&&n[0]===e&&!K(a))return a;K(a)||(a=pd(a)),a||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),a=""),d&&(a=c.reduce((u,h)=>this.format(u,h,r.lng,{...r,interpolationkey:n[1].trim()}),a.trim())),e=e.replace(n[0],a),this.regexp.lastIndex=0}return e}}const Iy=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const n=r[1].substring(0,r[1].length-1);e==="currency"&&n.indexOf(":")<0?s.currency||(s.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?s.range||(s.range=n.trim()):n.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=l.trim();s[u]||(s[u]=d),d==="false"&&(s[u]=!1),d==="true"&&(s[u]=!0),isNaN(d)||(s[u]=parseInt(d,10))}})}return{formatName:e,formatOptions:s}},Hs=t=>{const e={};return(s,r,n)=>{let a=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(a={...a,[n.interpolationkey]:void 0});const o=r+JSON.stringify(a);let l=e[o];return l||(l=t(ta(r),n),e[o]=l),l(s)}};class Ly{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Mt.create("formatter"),this.options=e,this.formats={number:Hs((s,r)=>{const n=new Intl.NumberFormat(s,{...r});return a=>n.format(a)}),currency:Hs((s,r)=>{const n=new Intl.NumberFormat(s,{...r,style:"currency"});return a=>n.format(a)}),datetime:Hs((s,r)=>{const n=new Intl.DateTimeFormat(s,{...r});return a=>n.format(a)}),relativetime:Hs((s,r)=>{const n=new Intl.RelativeTimeFormat(s,{...r});return a=>n.format(a,r.range||"day")}),list:Hs((s,r)=>{const n=new Intl.ListFormat(s,{...r});return a=>n.format(a)})},this.init(e)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=s.interpolation.formatSeparator||","}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=Hs(s)}format(e,s,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=s.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{const{formatName:d,formatOptions:u}=Iy(c);if(this.formats[d]){let h=l;try{const f=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},m=f.locale||f.lng||n.locale||n.lng||r;h=this.formats[d](l,m,{...u,...n,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const My=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Dy extends Ra{constructor(e,s,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=s,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=Mt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,n.backend,n)}queueLoad(e,s,r,n){const a={},o={},l={},c={};return e.forEach(d=>{let u=!0;s.forEach(h=>{const f=`${d}|${h}`;!r.reload&&this.store.hasResourceBundle(d,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,u=!1,o[f]===void 0&&(o[f]=!0),a[f]===void 0&&(a[f]=!0),c[h]===void 0&&(c[h]=!0)))}),u||(l[d]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,s,r){const n=e.split("|"),a=n[0],o=n[1];s&&this.emit("failedLoading",a,o,s),!s&&r&&this.store.addResourceBundle(a,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&r&&(this.state[e]=0);const l={};this.queue.forEach(c=>{by(c.loaded,[a],o),My(c,e),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const u=c.loaded[d];u.length&&u.forEach(h=>{l[d][h]===void 0&&(l[d][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,s,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:r,tried:n,wait:a,callback:o});return}this.readingCalls++;const l=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,r,n+1,a*2,o)},a);return}o(d,u)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const d=c(e,s);d&&typeof d.then=="function"?d.then(u=>l(null,u)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,s,l)}prepareLoading(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();K(e)&&(e=this.languageUtils.toResolveHierarchy(e)),K(s)&&(s=[s]);const a=this.queueLoad(e,s,r,n);if(!a.toLoad.length)return a.pending.length||n(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,s,r){this.prepareLoading(e,s,{},r)}reload(e,s,r){this.prepareLoading(e,s,{reload:!0},r)}loadOne(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),n=r[0],a=r[1];this.read(n,a,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${s}loading namespace ${a} for language ${n} failed`,o),!o&&l&&this.logger.log(`${s}loaded namespace ${a} for language ${n}`,l),this.loaded(e,o,l)})}saveMissing(e,s,r,n,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${r}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:a},d=this.backend.create.bind(this.backend);if(d.length<6)try{let u;d.length===5?u=d(e,s,r,n,c):u=d(e,s,r,n),u&&typeof u.then=="function"?u.then(h=>l(null,h)).catch(l):l(null,u)}catch(u){l(u)}else d(e,s,r,n,l,c)}!e||!e[0]||this.store.addResource(e[0],s,r,n)}}}const _d=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),K(t[1])&&(e.defaultValue=t[1]),K(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(r=>{e[r]=s[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Nd=t=>(K(t.ns)&&(t.ns=[t.ns]),K(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),K(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),bi=()=>{},$y=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class mn extends Ra{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Nd(e),this.services={},this.logger=Mt,this.modules={external:[]},$y(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(){var e=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(r=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(K(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const n=_d();this.options={...n,...this.options,...Nd(s)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Mt.init(a(this.modules.logger),this.options):Mt.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=Ly);const h=new wd(this.options);this.store=new yd(this.options.resources,this.options);const f=this.services;f.logger=Mt,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new Ry(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(u),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Oy(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Dy(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(m){for(var p=arguments.length,x=new Array(p>1?p-1:0),g=1;g<p;g++)x[g-1]=arguments[g];e.emit(m,...x)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new ra(this.services,this.options),this.translator.on("*",function(m){for(var p=arguments.length,x=new Array(p>1?p-1:0),g=1;g<p;g++)x[g-1]=arguments[g];e.emit(m,...x)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=bi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const c=Fr(),d=()=>{const u=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(f),r(h,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),c}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bi;const n=K(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&n.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&a.indexOf(d)<0&&a.push(d)})};n?o(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,s,r){const n=Fr();return typeof e=="function"&&(r=e,e=void 0),typeof s=="function"&&(r=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),r||(r=bi),this.services.backendConnector.reload(e,s,a=>{n.resolve(),r(a)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&gm.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let s=0;s<this.languages.length;s++){const r=this.languages[s];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,s){var r=this;this.isLanguageChangingTo=e;const n=Fr();this.emit("languageChanging",e);const a=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,d)=>{d?(a(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,n.resolve(function(){return r.t(...arguments)}),s&&s(c,function(){return r.t(...arguments)})},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const d=K(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);d&&(this.language||a(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,u=>{o(u,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),n}getFixedT(e,s,r){var n=this;const a=function(o,l){let c;if(typeof l!="object"){for(var d=arguments.length,u=new Array(d>2?d-2:0),h=2;h<d;h++)u[h-2]=arguments[h];c=n.options.overloadTranslationOptionHandler([o,l].concat(u))}else c={...l};c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||a.keyPrefix);const f=n.options.keySeparator||".";let m;return c.keyPrefix&&Array.isArray(o)?m=o.map(p=>`${c.keyPrefix}${f}${p}`):m=c.keyPrefix?`${c.keyPrefix}${f}${o}`:o,n.t(m,c)};return K(e)?a.lng=e:a.lngs=e,a.ns=s,a.keyPrefix=r,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=s.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(s.precheck){const l=s.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!n||o(a,e)))}loadNamespaces(e,s){const r=Fr();return this.options.ns?(K(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{r.resolve(),s&&s(n)}),r):(s&&s(),Promise.resolve())}loadLanguages(e,s){const r=Fr();K(e)&&(e=[e]);const n=this.options.preload||[],a=e.filter(o=>n.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=n.concat(a),this.loadResources(o=>{r.resolve(),s&&s(o)}),r):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new wd(_d());return s.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new mn(e,s)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bi;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},a=new mn(n);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r&&(a.store=new yd(this.store.data,n),a.services.resourceStore=a.store),a.translator=new ra(a.services,n),a.translator.on("*",function(l){for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];a.emit(l,...d)}),a.init(n,s),a.translator.options=n,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ze=mn.createInstance();ze.createInstance=mn.createInstance;ze.createInstance;ze.dir;ze.init;ze.loadResources;ze.reloadResources;ze.use;ze.changeLanguage;ze.getFixedT;ze.t;ze.exists;ze.setDefaultNamespace;ze.hasLoadedNamespace;ze.loadNamespaces;ze.loadLanguages;const Fy={buttons:{login:"Login",signIn:"Sign In",signUp:"Sign Up",cancel:"Cancel",delete:"Delete",save:"Save Changes",saving:"Saving...",loading:"Loading...",submit:"Submit",tryAgain:"Try Again",continue:"Continue",continueLearning:"Continue learning",send:"Send",edit:"Edit",create:"Create",update:"Update",close:"Close",next:"Next",previous:"Previous",testConnection:"Test Connection",testing:"Testing..."},labels:{email:"Email",password:"Password",confirmPassword:"Confirm Password",fullName:"Full Name",country:"Country",city:"City",languages:"Languages",language:"Language"},placeholders:{email:"m@example.com",emailDemo:"demo@example.com",enterFullName:"Enter your full name",selectCountry:"Select your country",enterCity:"Enter your city",typeLanguage:"Type a language and press Enter"},errors:{required:"This field is required",invalidUrl:"Please enter a valid URL",networkError:"Network connection error. Please check your internet connection and try again.",unexpectedError:"An unexpected error occurred. Please try again."}},Vy={forProfessionals:"For Professionals",forCompanies:"For Companies",forInvestors:"For Investors",dashboard:"Dashboard",paths:"Paths",admin:"Admin",scoreboard:"Scoreboard",achievements:"Achievements",learn:"Learn",course:"Course",path:"Path",myProfile:"My Profile"},By={login:{title:"Login",submit:"Login",ssoGoogle:"Continue with Google",ssoGithub:"Continue with GitHub",orContinueWith:"Or continue with",dontHaveAccount:"Don't have an account?",forgotPassword:"Forgot your password?",errors:{invalidCredentials:"Invalid email or password. Please check your credentials and try again.",emailNotConfirmed:"Please check your email and click the confirmation link before signing in.",tooManyAttempts:"Too many login attempts. Please wait a moment before trying again.",configError:"Authentication service configuration error. Using demo mode - try email: demo@example.com, password: demo123",authServiceError:"Authentication service error. The Supabase instance may be misconfigured.",cannotConnect:"Cannot connect to authentication service. Please check if Supabase is properly configured.",googleFailed:"Google sign-in failed. Please try again.",githubFailed:"GitHub sign-in failed. Please try again."}},signup:{title:"Create Account",submit:"Sign Up",alreadyHaveAccount:"Already have an account?",passwordMismatch:"Passwords do not match",success:"Check your email for the confirmation link!",notConfigured:"Authentication service not configured. Please contact the administrator."},forgotPassword:{title:"Forgot Password",submit:"Send Reset Link",rememberedPassword:"Remembered your password?"},updatePassword:{title:"Update Password",success:"Password updated successfully! Redirecting to login..."},logout:{button:"Log Out",signingOut:"Signing out..."}},Uy={title:"My Profile",subtitle:"Manage your personal and professional information",unsavedChanges:"You have unsaved changes",loadingProfile:"Loading profile...",failedToLoad:"Failed to load profile",sections:{personal:"Personal Information",personalDesc:"Update your basic personal details and contact information",professional:"Professional Profile",professionalDesc:"Share your work experience, skills, and career information",learning:"Learning Progress",learningDesc:"Track your learning journey and achievements",career:"Career Preferences",careerDesc:"Set your job preferences and career goals"},fields:{yearsExperience:"Years of Experience in Technology",positionCompany:"Position & Company",positionPlaceholder:"e.g., Senior Backend @ ACME",stacksDominated:"Stacks Dominated",stacksDesc:"Technologies you're proficient in",stacksPlaceholder:"e.g., Java, Python, Solidity, React",skillsToDevelop:"Skills to Develop",skillsDesc:"Areas you want to improve",skillsPlaceholder:"e.g., DeFi, Smart Contracts, Web3",linkedinUrl:"LinkedIn URL",linkedinPlaceholder:"https://linkedin.com/in/username",githubUrl:"GitHub URL",githubPlaceholder:"https://github.com/username",languagePreference:"Language Preference",selectLanguage:"Select your preferred language"},errors:{fullNameRequired:"Full name is required",countryRequired:"Country is required",invalidLinkedin:"Please enter a valid LinkedIn URL",invalidGithub:"Please enter a valid GitHub URL"},messages:{emailNote:"Email can only be changed in your account settings",validationError:"Please fix the errors before saving.",updateSuccess:"Profile updated successfully!",updateError:"Failed to update profile. Please try again."},comingSoon:{title:"Coming Soon",learning:"Learning progress tracking will be available in the next update.",career:"Career preferences will be available in the next update."}},zy={myAccount:"My Account",profile:"Profile",admin:"Admin",connectWallet:"Connect Wallet"},Wy={welcomeBack:"Welcome back",loading:"Loading...",notFound:"Not found",readMore:"Read more",readLess:"Read less",enrollToStart:"Enroll to start",enroll:"Enroll",enrolling:"Enrolling...",enrolled:"Enrolled",viewDetails:"View Details",mustLoginToEnroll:"You must be logged in to enroll",enrollSuccess:"Successfully enrolled!",enrollError:"Failed to enroll",loadError:"Failed to load",nothingToContinue:"Nothing to continue right now.",emptyTitle:"No paths yet",emptySubtitle:"Enroll in a path to get started",progressSuffix:"complete"},qy={selectToBegin:"Select a lesson to begin.",lessonInfo:"Lesson {{current}} of {{total}}  {{xp}} XP",previousLesson:"Previous lesson",completeAndContinue:"Complete and Continue",markAsCompleted:"Mark as Completed",submitAnswer:"Submit Answer",loginToTrack:"You need to be logged in to track progress",progressSaveFailed:"Failed to save progress",lessonCompleted:"Lesson marked as completed!",completionError:"Error marking lesson as completed"},Hy={paths:{title:"Learning Paths",new:"New learning path",edit:"Edit learning path",delete:"Delete learning path",deleteConfirm:'This action cannot be undone. Deleting a path will remove all associated courses, modules, and lessons. Make sure you really want to remove "{{title}}".',created:"Learning path created",updated:"Learning path updated",deleted:"Learning path deleted",validation:{titleMin:"Title must have at least 3 characters",slugMin:"Slug must have at least 3 characters",slugFormat:"Slug must be lowercase with hyphens only"}},courses:{title:"Courses",new:"New course",edit:"Edit course",delete:"Delete course",deleteConfirm:'This action cannot be undone. Make sure you really want to remove "{{title}}".',created:"Course created",updated:"Course updated",deleted:"Course deleted"},modules:{title:"Modules",new:"New module",edit:"Edit module",delete:"Delete module",deleteConfirm:'This action cannot be undone. Make sure you really want to remove "{{title}}".',created:"Module created",updated:"Module updated",deleted:"Module deleted"},lessons:{title:"Lessons",new:"New lesson",edit:"Edit lesson",delete:"Delete lesson",deleteConfirm:'This action cannot be undone. Make sure you really want to remove "{{title}}".',created:"Lesson created",updated:"Lesson updated",deleted:"Lesson deleted"}},Ky={submit:"Submit Application",selectTimeline:"Select timeline",timelineImmediate:"Immediate (next 30 days)",timelineQuarter:"This quarter"},Gy={title:"Scoreboard",subtitle:"Check out the rankings of students with the most XP",global:"Global",byPath:"By Path",rankingGlobal:"Global Ranking - All Paths",ranking:"Ranking - {{pathName}}",xp:"XP",lessons:"lessons"},Jy={title:"Achievements",subtitle:"Complete tasks and earn extra XP to climb the rankings",completed:"Completed",inProgress:"In Progress",xpEarned:"XP Earned",xpAvailable:"XP Available",xpReward:"XP Reward",progress:"Progress",all:"All",completedBadge:"Completed",locked:"Locked",overallProgress:"Overall Progress",completedOf:"of {{total}} achievements unlocked",emptyState:{title:"No Achievements Here Yet",descriptionAll:"Start your learning journey to unlock achievements and earn XP!",descriptionCategory:"Complete tasks in the {{category}} category to unlock achievements here."},sidebar:{overview:"Your Progress",nextSuggested:"Suggested Next",gettingStarted:"Getting Started",keepGoing:"Keep Going!",hoverTip:"Hover over any achievement to see detailed information here.",inProgressMessage:"You have {{count}} achievements in progress. Great momentum!",quickWinsTip:"Start with Profile category achievements for easy wins.",halfwayThere:"You're halfway there! Only {{remaining}} more to go.",allComplete:"Amazing! You've completed all achievements!"},categories:{community:"Community",profile:"Profile",learning:"Learning",social:"Social"},tasks:{telegramJoin:{title:"Join Telegram Group",description:"Join our community on Telegram and stay updated with all the news",action:"Join Telegram"},discordJoin:{title:"Join Discord",description:"Connect with other students and mentors on our Discord server",action:"Join Discord"},firstMessage:{title:"First Message",description:"Send your first message in any community channel"},emailVerify:{title:"Verify your Email",description:"Confirm your email address through the link sent",action:"Resend Email"},completeProfile:{title:"Complete your Profile",description:"Fill in all your professional profile information",action:"Go to Profile"},githubConnect:{title:"Connect your GitHub",description:"Link your GitHub account to your profile",action:"Connect GitHub"},linkedinConnect:{title:"Connect your LinkedIn",description:"Link your LinkedIn account to your profile",action:"Connect LinkedIn"},twitterFollow:{title:"Follow on Twitter",description:"Follow @ForgeCollege on Twitter to stay updated",action:"Follow on Twitter"},shareProgress:{title:"Share your Progress",description:"Share your learning journey on social media"},firstLesson:{title:"First Lesson",description:"Complete your first lesson in any path"},weekStreak:{title:"7-Day Streak",description:"Study for 7 consecutive days"},completePath:{title:"Complete a Path",description:"Finish all lessons in a learning path"},perfectQuiz:{title:"Perfect Quiz",description:"Score 100% on a quiz"}}},Zy={common:Fy,nav:Vy,auth:By,profile:Uy,profileDropdown:zy,dashboard:Wy,lessons:qy,admin:Hy,application:Ky,scoreboard:Gy,achievements:Jy},Yy={buttons:{login:"Entrar",signIn:"Entrar",signUp:"Cadastrar",cancel:"Cancelar",delete:"Excluir",save:"Salvar Alteraes",saving:"Salvando...",loading:"Carregando...",submit:"Enviar",tryAgain:"Tentar Novamente",continue:"Continuar",continueLearning:"Continuar aprendendo",send:"Enviar",edit:"Editar",create:"Criar",update:"Atualizar",close:"Fechar",next:"Prximo",previous:"Anterior",testConnection:"Testar Conexo",testing:"Testando..."},labels:{email:"E-mail",password:"Senha",confirmPassword:"Confirmar Senha",fullName:"Nome Completo",country:"Pas",city:"Cidade",languages:"Idiomas",language:"Idioma"},placeholders:{email:"m@exemplo.com",emailDemo:"demo@exemplo.com",enterFullName:"Digite seu nome completo",selectCountry:"Selecione seu pas",enterCity:"Digite sua cidade",typeLanguage:"Digite um idioma e pressione Enter"},errors:{required:"Este campo  obrigatrio",invalidUrl:"Por favor, insira uma URL vlida",networkError:"Erro de conexo de rede. Por favor, verifique sua conexo com a internet e tente novamente.",unexpectedError:"Ocorreu um erro inesperado. Por favor, tente novamente."}},Xy={forProfessionals:"Para Profissionais",forCompanies:"Para Empresas",forInvestors:"Para Investidores",dashboard:"Painel",paths:"Trilhas",admin:"Admin",scoreboard:"Placar",achievements:"Conquistas",learn:"Aprender",course:"Curso",path:"Trilha",myProfile:"Meu Perfil"},Qy={login:{title:"Entrar",submit:"Entrar",ssoGoogle:"Continuar com Google",ssoGithub:"Continuar com GitHub",orContinueWith:"Ou continue com",dontHaveAccount:"No tem uma conta?",forgotPassword:"Esqueceu sua senha?",errors:{invalidCredentials:"E-mail ou senha invlidos. Por favor, verifique suas credenciais e tente novamente.",emailNotConfirmed:"Por favor, verifique seu e-mail e clique no link de confirmao antes de fazer login.",tooManyAttempts:"Muitas tentativas de login. Por favor, aguarde um momento antes de tentar novamente.",configError:"Erro de configurao do servio de autenticao. Usando modo demo - tente e-mail: demo@exemplo.com, senha: demo123",authServiceError:"Erro no servio de autenticao. A instncia do Supabase pode estar mal configurada.",cannotConnect:"No foi possvel conectar ao servio de autenticao. Por favor, verifique se o Supabase est configurado corretamente.",googleFailed:"Login com Google falhou. Por favor, tente novamente.",githubFailed:"Login com GitHub falhou. Por favor, tente novamente."}},signup:{title:"Criar Conta",submit:"Cadastrar",alreadyHaveAccount:"J tem uma conta?",passwordMismatch:"As senhas no coincidem",success:"Verifique seu e-mail para o link de confirmao!",notConfigured:"Servio de autenticao no configurado. Por favor, contate o administrador."},forgotPassword:{title:"Esqueci a Senha",submit:"Enviar Link de Redefinio",rememberedPassword:"Lembrou sua senha?"},updatePassword:{title:"Atualizar Senha",success:"Senha atualizada com sucesso! Redirecionando para o login..."},logout:{button:"Sair",signingOut:"Saindo..."}},ev={title:"Meu Perfil",subtitle:"Gerencie suas informaes pessoais e profissionais",unsavedChanges:"Voc tem alteraes no salvas",loadingProfile:"Carregando perfil...",failedToLoad:"Falha ao carregar perfil",sections:{personal:"Informaes Pessoais",personalDesc:"Atualize seus dados pessoais bsicos e informaes de contato",professional:"Perfil Profissional",professionalDesc:"Compartilhe sua experincia de trabalho, habilidades e informaes de carreira",learning:"Progresso de Aprendizado",learningDesc:"Acompanhe sua jornada de aprendizado e conquistas",career:"Preferncias de Carreira",careerDesc:"Defina suas preferncias de trabalho e objetivos de carreira"},fields:{yearsExperience:"Anos de Experincia em Tecnologia",positionCompany:"Cargo e Empresa",positionPlaceholder:"ex: Desenvolvedor Snior @ ACME",stacksDominated:"Stacks Dominadas",stacksDesc:"Tecnologias nas quais voc  proficiente",stacksPlaceholder:"ex: Java, Python, Solidity, React",skillsToDevelop:"Habilidades a Desenvolver",skillsDesc:"reas que voc quer melhorar",skillsPlaceholder:"ex: DeFi, Smart Contracts, Web3",linkedinUrl:"URL do LinkedIn",linkedinPlaceholder:"https://linkedin.com/in/usuario",githubUrl:"URL do GitHub",githubPlaceholder:"https://github.com/usuario",languagePreference:"Preferncia de Idioma",selectLanguage:"Selecione seu idioma preferido"},errors:{fullNameRequired:"Nome completo  obrigatrio",countryRequired:"Pas  obrigatrio",invalidLinkedin:"Por favor, insira uma URL vlida do LinkedIn",invalidGithub:"Por favor, insira uma URL vlida do GitHub"},messages:{emailNote:"O e-mail s pode ser alterado nas configuraes da conta",validationError:"Por favor, corrija os erros antes de salvar.",updateSuccess:"Perfil atualizado com sucesso!",updateError:"Falha ao atualizar perfil. Por favor, tente novamente."},comingSoon:{title:"Em Breve",learning:"O acompanhamento do progresso de aprendizado estar disponvel na prxima atualizao.",career:"As preferncias de carreira estaro disponveis na prxima atualizao."}},tv={myAccount:"Minha Conta",profile:"Perfil",admin:"Admin",connectWallet:"Conectar Carteira"},sv={welcomeBack:"Bem-vindo de volta",loading:"Carregando...",notFound:"No encontrado",readMore:"Ler mais",readLess:"Ler menos",enrollToStart:"Inscreva-se para comear",enroll:"Inscrever",enrolling:"Inscrevendo...",enrolled:"Inscrito",viewDetails:"Ver Detalhes",mustLoginToEnroll:"Voc deve estar logado para se inscrever",enrollSuccess:"Inscrito com sucesso!",enrollError:"Falha ao inscrever",loadError:"Falha ao carregar",nothingToContinue:"Nada para continuar agora.",emptyTitle:"Sem trilhas ainda",emptySubtitle:"Inscreva-se em uma trilha para comear",progressSuffix:"completo"},rv={selectToBegin:"Selecione uma lio para comear.",lessonInfo:"Lio {{current}} de {{total}}  {{xp}} XP",previousLesson:"Lio anterior",completeAndContinue:"Completar e Continuar",markAsCompleted:"Marcar como Concludo",submitAnswer:"Enviar Resposta",loginToTrack:"Voc precisa estar logado para acompanhar o progresso",progressSaveFailed:"Falha ao salvar progresso",lessonCompleted:"Lio marcada como concluda!",completionError:"Erro ao marcar lio como concluda"},nv={paths:{title:"Trilhas de Aprendizado",new:"Nova trilha de aprendizado",edit:"Editar trilha de aprendizado",delete:"Excluir trilha de aprendizado",deleteConfirm:'Esta ao no pode ser desfeita. Excluir uma trilha remover todos os cursos, mdulos e lies associados. Tem certeza de que deseja remover "{{title}}"?',created:"Trilha de aprendizado criada",updated:"Trilha de aprendizado atualizada",deleted:"Trilha de aprendizado excluda",validation:{titleMin:"O ttulo deve ter pelo menos 3 caracteres",slugMin:"O slug deve ter pelo menos 3 caracteres",slugFormat:"O slug deve ser minsculo apenas com hfens"}},courses:{title:"Cursos",new:"Novo curso",edit:"Editar curso",delete:"Excluir curso",deleteConfirm:'Esta ao no pode ser desfeita. Tem certeza de que deseja remover "{{title}}"?',created:"Curso criado",updated:"Curso atualizado",deleted:"Curso excludo"},modules:{title:"Mdulos",new:"Novo mdulo",edit:"Editar mdulo",delete:"Excluir mdulo",deleteConfirm:'Esta ao no pode ser desfeita. Tem certeza de que deseja remover "{{title}}"?',created:"Mdulo criado",updated:"Mdulo atualizado",deleted:"Mdulo excludo"},lessons:{title:"Lies",new:"Nova lio",edit:"Editar lio",delete:"Excluir lio",deleteConfirm:'Esta ao no pode ser desfeita. Tem certeza de que deseja remover "{{title}}"?',created:"Lio criada",updated:"Lio atualizada",deleted:"Lio excluda"}},iv={submit:"Enviar Inscrio",selectTimeline:"Selecionar prazo",timelineImmediate:"Imediato (prximos 30 dias)",timelineQuarter:"Este trimestre"},av={title:"Scoreboard",subtitle:"Confira os rankings dos estudantes com maior XP",global:"Global",byPath:"Por Path",rankingGlobal:"Ranking Global - Todos os Paths",ranking:"Ranking - {{pathName}}",xp:"XP",lessons:"lies"},ov={title:"Achievements",subtitle:"Complete tarefas e ganhe XP extra para subir no ranking",completed:"Concludos",inProgress:"Em Progresso",xpEarned:"XP Ganho",xpAvailable:"XP Disponvel",progress:"Progresso",all:"Todos",completedBadge:" Concludo",locked:" Bloqueado",categories:{community:"Comunidade",profile:"Perfil",learning:"Aprendizado",social:"Social"},tasks:{telegramJoin:{title:"Entre no Grupo Telegram",description:"Junte-se  nossa comunidade no Telegram e fique por dentro de todas as novidades",action:"Entrar no Telegram"},discordJoin:{title:"Entre no Discord",description:"Conecte-se com outros estudantes e mentores no nosso servidor Discord",action:"Entrar no Discord"},firstMessage:{title:"Primeira Mensagem",description:"Envie sua primeira mensagem em qualquer canal da comunidade"},emailVerify:{title:"Verifique seu Email",description:"Confirme seu endereo de email atravs do link enviado",action:"Reenviar Email"},completeProfile:{title:"Complete seu Perfil",description:"Preencha todas as informaes do seu perfil profissional",action:"Ir para Perfil"},githubConnect:{title:"Conecte seu GitHub",description:"Vincule sua conta do GitHub ao seu perfil",action:"Conectar GitHub"},linkedinConnect:{title:"Conecte seu LinkedIn",description:"Vincule sua conta do LinkedIn ao seu perfil",action:"Conectar LinkedIn"},twitterFollow:{title:"Siga no Twitter",description:"Siga @ForgeCollege no Twitter para ficar atualizado",action:"Seguir no Twitter"},shareProgress:{title:"Compartilhe seu Progresso",description:"Compartilhe sua jornada de aprendizado nas redes sociais"},firstLesson:{title:"Primeira Lio",description:"Complete sua primeira lio em qualquer path"},weekStreak:{title:"Sequncia de 7 Dias",description:"Estude por 7 dias consecutivos"},completePath:{title:"Complete um Path",description:"Finalize todas as lies de um learning path"},perfectQuiz:{title:"Quiz Perfeito",description:"Acerte 100% das questes em um quiz"}}},lv={common:Yy,nav:Xy,auth:Qy,profile:ev,profileDropdown:tv,dashboard:sv,lessons:rv,admin:nv,application:iv,scoreboard:av,achievements:ov},xm="app_language",cv=()=>{const e=document.cookie.split(";").find(s=>s.trim().startsWith(`${xm}=`));return e?e.split("=")[1]:"en-US"},dv=t=>{const e=new Date;e.setFullYear(e.getFullYear()+1),document.cookie=`${xm}=${t};expires=${e.toUTCString()};path=/;SameSite=Lax`};ze.use(lb).init({resources:{"en-US":{translation:Zy},"pt-BR":{translation:lv}},lng:cv(),fallbackLng:"en-US",interpolation:{escapeValue:!1}});ze.on("languageChanged",t=>{dv(t)});const uv="modulepreload",hv=function(t){return"/"+t},kd={},Gn=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(c=>{if(c=hv(c),c in kd)return;kd[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":uv,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},fv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Gn(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class Ql extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class mv extends Ql{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Cd extends Ql{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Pd extends Ql{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ko;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ko||(Ko={}));var pv=function(t,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class gv{constructor(e,{headers:s={},customFetch:r,region:n=Ko.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=fv(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return pv(this,void 0,void 0,function*(){try{const{headers:n,method:a,body:o}=s;let l={},{region:c}=s;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:u}).catch(x=>{throw new mv(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Cd(h);if(!h.ok)throw new Pd(h);let m=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield h.json():m==="application/octet-stream"?p=yield h.blob():m==="text/event-stream"?p=h:m==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null,response:h}}catch(n){return{data:null,error:n,response:n instanceof Pd||n instanceof Cd?n.context:void 0}}})}}var Ze={},ec={},Oa={},Jn={},Ia={},La={},xv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gr=xv();const bv=gr.fetch,bm=gr.fetch.bind(gr),ym=gr.Headers,yv=gr.Request,vv=gr.Response,Tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:ym,Request:yv,Response:vv,default:bm,fetch:bv},Symbol.toStringTag,{value:"Module"})),wv=cb(Tr);var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});let jv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ma.default=jv;var vm=xt&&xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(La,"__esModule",{value:!0});const Sv=vm(wv),_v=vm(Ma);let Nv=class{constructor(e){var s,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(s=e.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Sv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=new Headers(this.headers),this.headers.set(e,s),this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,d;let u=null,h=null,f=null,m=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const j=await a.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=j:h=JSON.parse(j))}const g=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");g&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(h=[],u=null,m=200,p="OK")}catch{a.status===404&&g===""?(m=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new _v.default(u)}return{error:u,data:h,count:f,status:m,statusText:p}});return this.shouldThrowOnError||(n=n.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};La.default=Nv;var kv=xt&&xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ia,"__esModule",{value:!0});const Cv=kv(La);let Pv=class extends Cv.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ia.default=Pv;var Tv=xt&&xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jn,"__esModule",{value:!0});const Av=Tv(Ia);let Ev=class extends Av.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};Jn.default=Ev;var Rv=xt&&xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oa,"__esModule",{value:!0});const Vr=Rv(Jn);let Ov=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(s),this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Vr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:s,defaultToNull:r=!0}={}){var n;const a="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Vr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Vr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:s}={}){var r;const n="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new Vr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var s;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Vr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Oa.default=Ov;var wm=xt&&xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ec,"__esModule",{value:!0});const Iv=wm(Oa),Lv=wm(Jn);let Mv=class jm{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=new Headers(s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new Iv.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new jm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let d;r||n?(l=r?"HEAD":"GET",Object.entries(s).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",d=s);const u=new Headers(this.headers);return a&&u.set("Prefer",`count=${a}`),new Lv.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ec.default=Mv;var Ar=xt&&xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const Sm=Ar(ec);Ze.PostgrestClient=Sm.default;const _m=Ar(Oa);Ze.PostgrestQueryBuilder=_m.default;const Nm=Ar(Jn);Ze.PostgrestFilterBuilder=Nm.default;const km=Ar(Ia);Ze.PostgrestTransformBuilder=km.default;const Cm=Ar(La);Ze.PostgrestBuilder=Cm.default;const Pm=Ar(Ma);Ze.PostgrestError=Pm.default;var Dv=Ze.default={PostgrestClient:Sm.default,PostgrestQueryBuilder:_m.default,PostgrestFilterBuilder:Nm.default,PostgrestTransformBuilder:km.default,PostgrestBuilder:Cm.default,PostgrestError:Pm.default};const{PostgrestClient:$v,PostgrestQueryBuilder:vE,PostgrestFilterBuilder:wE,PostgrestTransformBuilder:jE,PostgrestBuilder:SE,PostgrestError:_E}=Dv;class Fv{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Vv="2.15.1",Bv=`realtime-js/${Vv}`,Uv="1.0.0",Go=1e4,zv=1e3,Wv=100;var tn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(tn||(tn={}));var $e;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})($e||($e={}));var Ct;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ct||(Ct={}));var Jo;(function(t){t.websocket="websocket"})(Jo||(Jo={}));var Ts;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ts||(Ts={}));class qv{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),a=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+n));o=o+n;const c=r.decode(e.slice(o,o+a));o=o+a;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class Tm{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Se||(Se={}));const Td=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=Hv(o,t,e,n),a),{})},Hv=(t,e,s,r)=>{const n=e.find(l=>l.name===t),a=n==null?void 0:n.type,o=s[t];return a&&!r.includes(a)?Am(a,o):Zo(o)},Am=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Zv(e,s)}switch(t){case Se.bool:return Kv(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return Gv(e);case Se.json:case Se.jsonb:return Jv(e);case Se.timestamp:return Yv(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Zo(e);default:return Zo(e)}},Zo=t=>t,Kv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Gv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Jv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Zv=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,s);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Am(e,l))}return t},Yv=t=>typeof t=="string"?t.replace(" ","T"):t,Em=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class oo{constructor(e,s,r={},n=Go){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ad;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ad||(Ad={}));class sn{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sn.syncState(this.state,n,a,o),this.pendingDiffs.forEach(c=>{this.state=sn.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},n=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=sn.syncDiff(this.state,n,a,o),l())}),this.onJoin((n,a,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:a,newPresences:o})}),this.onLeave((n,a,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const a=this.cloneDeep(e),o=this.transformState(s),l={},c={};return this.map(a,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=a[d];if(h){const f=u.map(g=>g.presence_ref),m=h.map(g=>g.presence_ref),p=u.filter(g=>m.indexOf(g.presence_ref)<0),x=h.filter(g=>f.indexOf(g.presence_ref)<0);p.length>0&&(l[d]=p),x.length>0&&(c[d]=x)}else l[d]=u}),this.syncDiff(a,{joins:l,leaves:c},r,n)}static syncDiff(e,s,r,n){const{joins:a,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);e[l].unshift(...f)}r(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,n(l,d,c),d.length===0&&delete e[l]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ed;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ed||(Ed={}));var rn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(rn||(rn={}));var qt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qt||(qt={}));class tc{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new oo(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new Tm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(n,a)=>{this._trigger(this._replyEventName(a),n)}),this.presence=new sn(this),this.broadcastEndpointURL=Em(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==$e.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&n!==void 0?n:[],d=!!this.bindings[rn.PRESENCE]&&this.bindings[rn.PRESENCE].length>0,u={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(qt.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(qt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){e==null||e(qt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(m=p==null?void 0:p.length)!==null&&m!==void 0?m:0,g=[];for(let v=0;v<x;v++){const j=p[v],{filter:{event:w,schema:S,table:y,filter:N}}=j,_=f&&f[v];if(_&&_.event===w&&_.schema===S&&_.table===y&&_.filter===N)g.push(Object.assign(Object.assign({},j),{id:_.id}));else{this.unsubscribe(),this.state=$e.errored,e==null||e(qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(qt.SUBSCRIBED);return}}).receive("error",f=>{this.state=$e.errored,e==null||e(qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===$e.joined&&e===rn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=$e.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new oo(this,Ct.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$e.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const n=new AbortController,a=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(a),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new oo(this,e,s,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Wv){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Ct;if(r&&[l,c,d,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(m=>{var p,x,g;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((g=(x=m.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var p,x,g,v,j,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,y=(p=m.filter)===null||p===void 0?void 0:p.event;return S&&((x=s.ids)===null||x===void 0?void 0:x.includes(S))&&(y==="*"||(y==null?void 0:y.toLocaleLowerCase())===((g=s.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const S=(j=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return S==="*"||S===((w=s==null?void 0:s.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:x,table:g,commit_timestamp:v,type:j,errors:w}=p;f=Object.assign(Object.assign({},{schema:x,table:g,commit_timestamp:v,eventType:j,new:{},old:{},errors:w}),this._getPayloadRecords(p))}m.callback(f,r)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),a={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var a;return!(((a=n.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&tc.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ct.close,{},e)}_onError(e){this._on(Ct.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Td(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Td(e.columns,e.old_record)),s}}const Rd=()=>{},yi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xv=[1e3,2e3,5e3,1e4],Qv=1e4,e0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class t0{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Go,this.transport=null,this.heartbeatIntervalMs=yi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rd,this.ref=0,this.reconnectTimer=null,this.logger=Rd,this.conn=null,this.sendBuffer=[],this.serializer=new qv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let a;return n?a=n:typeof fetch>"u"?a=(...o)=>Gn(async()=>{const{default:l}=await Promise.resolve().then(()=>Tr);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Jo.websocket}`,this.httpEndpoint=Em(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Uv}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case tn.connecting:return Ts.Connecting;case tn.open:return Ts.Open;case tn.closing:return Ts.Closing;default:return Ts.Closed}}isConnected(){return this.connectionState()===Ts.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(a=>a.topic===r);if(n)return n;{const a=new tc(`realtime:${e}`,s,this);return this.channels.push(a),a}}push(e){const{topic:s,event:r,payload:n,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${r} (${a})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(zv,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},yi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:a,ref:o}=s,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${n} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(n,a,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ct.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([e0],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:Bv};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(Ct.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Tm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,n,a,o,l,c,d;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Go,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:yi.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:u=>Xv[u-1]||Qv,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(u,h)=>h(JSON.stringify(u)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class sc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Fe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class s0 extends sc{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yo extends sc{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var r0=function(t,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const Rm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Gn(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},n0=()=>r0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gn(()=>Promise.resolve().then(()=>Tr),void 0)).Response:Response}),Xo=t=>{if(Array.isArray(t))return t.map(s=>Xo(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[n]=Xo(r)}),e},i0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Bs=function(t,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const lo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),a0=(t,e,s)=>Bs(void 0,void 0,void 0,function*(){const r=yield n0();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{const a=t.status||500,o=(n==null?void 0:n.statusCode)||a+"";e(new s0(lo(n),a,o))}).catch(n=>{e(new Yo(lo(n),n))}):e(new Yo(lo(t),t))}),o0=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?n:(i0(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r)):n.body=r,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),s))};function Zn(t,e,s,r,n,a){return Bs(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(s,o0(e,r,n,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>a0(c,l,r))})})}function na(t,e,s,r){return Bs(this,void 0,void 0,function*(){return Zn(t,"GET",e,s,r)})}function Lt(t,e,s,r,n){return Bs(this,void 0,void 0,function*(){return Zn(t,"POST",e,r,n,s)})}function Qo(t,e,s,r,n){return Bs(this,void 0,void 0,function*(){return Zn(t,"PUT",e,r,n,s)})}function l0(t,e,s,r){return Bs(this,void 0,void 0,function*(){return Zn(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Om(t,e,s,r,n){return Bs(this,void 0,void 0,function*(){return Zn(t,"DELETE",e,r,n,s)})}var We=function(t,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const c0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Od={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class d0{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Rm(n)}uploadOrUpdate(e,s,r,n){return We(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Od),n);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),h=yield(e=="PUT"?Qo:Lt)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(Fe(a))return{data:null,error:a};throw a}})}upload(e,s,r){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return We(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:Od.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield Qo(this.fetch,l.toString(),c,{headers:u});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(Fe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,s){return We(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const a=yield Lt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new sc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}update(e,s,r){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return We(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}copy(e,s,r){return We(this,void 0,void 0,function*(){try{return{data:{path:(yield Lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return We(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield Lt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return We(this,void 0,void 0,function*(){try{const n=yield Lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}download(e,s){return We(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield na(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Fe(l))return{data:null,error:l};throw l}})}info(e){return We(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield na(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Xo(r),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}exists(e){return We(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield l0(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Fe(r)&&r instanceof Yo){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],a=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";a!==""&&n.push(a);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(e){return We(this,void 0,void 0,function*(){try{return{data:yield Om(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}list(e,s,r){return We(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},c0),s),{prefix:e||""});return{data:yield Lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}listV2(e,s){return We(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Lt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const u0="2.11.0",h0={"X-Client-Info":`storage-js/${u0}`};var Ks=function(t,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class f0{constructor(e,s={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},h0),s),this.fetch=Rm(r)}listBuckets(){return Ks(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Fe(e))return{data:null,error:e};throw e}})}getBucket(e){return Ks(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Ks(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Ks(this,void 0,void 0,function*(){try{return{data:yield Qo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ks(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Ks(this,void 0,void 0,function*(){try{return{data:yield Om(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}}class m0 extends f0{constructor(e,s={},r,n){super(e,s,r,n)}from(e){return new d0(this.url,this.headers,e,this.fetch)}}const p0="2.56.0";let Jr="";typeof Deno<"u"?Jr="deno":typeof document<"u"?Jr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jr="react-native":Jr="node";const g0={"X-Client-Info":`supabase-js-${Jr}/${p0}`},x0={headers:g0},b0={schema:"public"},y0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v0={};var w0=function(t,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const j0=t=>{let e;return t?e=t:typeof fetch>"u"?e=bm:e=fetch,(...s)=>e(...s)},S0=()=>typeof Headers>"u"?ym:Headers,_0=(t,e,s)=>{const r=j0(s),n=S0();return(a,o)=>w0(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new n(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:d}))})};var N0=function(t,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};function k0(t){return t.endsWith("/")?t:t+"/"}function C0(t,e){var s,r;const{db:n,auth:a,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>N0(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Im="2.71.1",er=30*1e3,el=3,co=el*er,P0="http://localhost:9999",T0="supabase.auth.token",A0={"X-Client-Info":`gotrue-js/${Im}`},tl="X-Supabase-Api-Version",Lm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},E0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,R0=10*60*1e3;class rc extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function Q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class O0 extends rc{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function I0(t){return Q(t)&&t.name==="AuthApiError"}class Mm extends rc{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class bs extends rc{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class is extends bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L0(t){return Q(t)&&t.name==="AuthSessionMissingError"}class vi extends bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wi extends bs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ji extends bs{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M0(t){return Q(t)&&t.name==="AuthImplicitGrantRedirectError"}class Id extends bs{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sl extends bs{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function uo(t){return Q(t)&&t.name==="AuthRetryableFetchError"}class Ld extends bs{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class rl extends bs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ia="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Md=` 	
\r=`.split(""),D0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Md.length;e+=1)t[Md[e].charCodeAt(0)]=-2;for(let e=0;e<ia.length;e+=1)t[ia[e].charCodeAt(0)]=e;return t})();function Dd(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(ia[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(ia[r]),e.queuedBits-=6}}function Dm(t,e,s){const r=D0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $d(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},a=o=>{V0(o,r,s)};for(let o=0;o<t.length;o+=1)Dm(t.charCodeAt(o),n,a);return e.join("")}function $0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function F0(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}$0(r,e)}}function V0(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function B0(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Dm(t.charCodeAt(n),s,r);return new Uint8Array(e)}function U0(t){const e=[];return F0(t,s=>e.push(s)),new Uint8Array(e)}function z0(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>Dd(n,s,r)),Dd(null,s,r),e.join("")}function W0(t){return Math.round(Date.now()/1e3)+t}function q0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Nt=()=>typeof window<"u"&&typeof document<"u",js={tested:!1,writable:!1},$m=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(js.tested)return js.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),js.tested=!0,js.writable=!0}catch{js.tested=!0,js.writable=!1}return js.writable};function H0(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,a)=>{e[a]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Fm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Gn(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},K0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",tr=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Ss=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ss=async(t,e)=>{await t.removeItem(e)};class Da{constructor(){this.promise=new Da.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Da.promiseConstructor=Promise;function ho(t){const e=t.split(".");if(e.length!==3)throw new rl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!E0.test(e[r]))throw new rl("JWT not in base64url format");return{header:JSON.parse($d(e[0])),payload:JSON.parse($d(e[1])),signature:B0(e[2]),raw:{header:e[0],payload:e[1]}}}async function G0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function J0(t,e){return new Promise((r,n)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){n(o);return}}})()})}function Z0(t){return("0"+t.toString(16)).substr(-2)}function Y0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let a=0;a<56;a++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Z0).join("")}async function X0(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(a=>String.fromCharCode(a)).join("")}async function Q0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await X0(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gs(t,e,s=!1){const r=Y0();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await tr(t,`${e}-code-verifier`,n);const a=await Q0(r);return[a,r===a?"plain":"s256"]}const ew=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tw(t){const e=t.headers.get(tl);if(!e||!e.match(ew))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function sw(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function rw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Js(t){if(!nw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fo(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fd(t){return JSON.parse(JSON.stringify(t))}var iw=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Ns=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aw=[502,503,504];async function Vd(t){var e;if(!K0(t))throw new sl(Ns(t),0);if(aw.includes(t.status))throw new sl(Ns(t),t.status);let s;try{s=await t.json()}catch(a){throw new Mm(Ns(a),a)}let r;const n=tw(t);if(n&&n.getTime()>=Lm["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Ld(Ns(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new is}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Ld(Ns(s),t.status,s.weak_password.reasons);throw new O0(Ns(s),t.status||500,r)}const ow=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function re(t,e,s,r){var n;const a=Object.assign({},r==null?void 0:r.headers);a[tl]||(a[tl]=Lm["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await lw(t,e,s+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function lw(t,e,s,r,n,a){const o=ow(e,r,n,a);let l;try{l=await t(s,Object.assign({},o))}catch(c){throw console.error(c),new sl(Ns(c),0)}if(l.ok||await Vd(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Vd(c)}}function Wt(t){var e;let s=null;hw(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=W0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Bd(t){const e=Wt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function cw(t){return{data:t,error:null}}function dw(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:a}=t,o=iw(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function uw(t){return t}function hw(t){return t.access_token&&t.refresh_token&&t.expires_in}const mo=["global","local","others"];var fw=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class mw{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Fm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=mo[0]){if(mo.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mo.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:cs})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=fw(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:dw,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cs})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(a=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:""},xform:uw});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);d[`${g}Page`]=x}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Q(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Js(e);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cs})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Js(e);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:cs})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Js(e);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:cs})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Js(e.userId);try{const{data:s,error:r}=await re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Js(e.userId),Js(e.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}}function Ud(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function pw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zs={debug:!!(globalThis&&$m()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gw extends Vm{}async function xw(t,e,s){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}pw();const bw={url:P0,storageKey:T0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zd(t,e,s){return await s()}const Ys={};class pn{constructor(e){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pn.nextInstanceID,pn.nextInstanceID+=1,this.instanceID>0&&Nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},bw),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new mw({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Fm(n.fetch),this.lock=n.lock||zd,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Nt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=xw:this.lock=zd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:$m()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ud(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Ud(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=Ys[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Ys[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Im}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=H0(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Nt()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:a}=await this._getSessionFromURL(s,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),M0(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Q(s)?{error:s}:{error:new Mm("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const a=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Wt}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var s,r,n;try{let a;if("email"in e){const{email:u,password:h,options:f}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Gs(this.storage,this.storageKey)),a=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},xform:Wt})}else if("phone"in e){const{phone:u,password:h,options:f}=e;a=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Wt})}else throw new wi("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let s;if("email"in e){const{email:a,password:o,options:l}=e;s=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bd})}else if("phone"in e){const{phone:a,password:o,options:l}=e;s=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bd})}else throw new wi("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new vi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,n,a,o,l,c,d,u,h,f,m;let p,x;if("message"in e)p=e.message,x=e.signature;else{const{chain:g,wallet:v,statement:j,options:w}=e;let S;if(Nt())if(typeof v=="object")S=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const y=new URL((s=w==null?void 0:w.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),j?{statement:j}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)p=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),x=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${y.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${y.href}`,`Issued At: ${(n=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(p),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:g,error:v}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:z0(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Wt});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new vi}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(Q(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const s=await Ss(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:a,error:o}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Wt});if(await ss(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new vi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:n??null}),error:o})}catch(a){if(Q(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:a,nonce:o}=e,l=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Wt}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new vi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,a,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Gs(this.storage,this.storageKey));const{error:h}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new wi("You must provide either an email or phone number.")}catch(l){if(Q(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var s,r;try{let n,a;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:Wt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Gs(this.storage,this.storageKey)),await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:cw})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new is;const{error:n}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(Q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:a}=e,{error:o}=await re(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:a}=e,{data:o,error:l}=await re(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new wi("You must provide either an email or phone number and a type")}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<co:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Ss(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=fo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cs}):await this._useSession(async s=>{var r,n,a;const{data:o,error:l}=s;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new is}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0,xform:cs})})}catch(s){if(Q(s))return L0(s)&&(await this._removeSession(),await ss(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new is;const o=n.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Gs(this.storage,this.storageKey));const{data:d,error:u}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:cs});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new is;const s=Date.now()/1e3;let r=s,n=!0,a=null;const{payload:o}=ho(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(s){if(Q(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:l}=s;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new is;const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Nt())throw new ji("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ji(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Id("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ji("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Id("No code detected.");const{data:j,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!a||!l||!o||!d)throw new ji("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const m=f-u;m*1e3<=er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const p=f-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,u);const{data:x,error:g}=await this._getUser(a);if(g)throw g;const v={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(Q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Ss(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:a}=s;if(a)return{error:a};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(I0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await ss(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=q0(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:a},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Gs(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async a=>{var o,l,c,d,u;const{data:h,error:f}=a;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Nt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Q(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:a,error:o}=s;if(o)throw o;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await J0(async n=>(n>0&&await G0(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wt})),(n,a)=>{const o=200*Math.pow(2,n);return a&&uo(a)&&Date.now()+o-r<er})}catch(r){if(this._debug(s,"error",r),Q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Nt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ss(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Ss(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await tr(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:fo()}else if(n&&!n.user&&!n.user){const o=await Ss(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await ss(this.storage,this.storageKey+"-user"),await tr(this.storage,this.storageKey,n)):n.user=fo()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<co;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${co}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),uo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new is;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Da;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new is;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(n,"error",a),Q(a)){const o={session:null,error:a};return uo(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,s)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await tr(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const a=Fd(n);await tr(this.storage,this.storageKey,a)}else{const n=Fd(s);await tr(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await ss(this.storage,this.storageKey),await ss(this.storage,this.storageKey+"-code-verifier"),await ss(this.storage,this.storageKey+"-user"),this.userStorage&&await ss(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),er);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${er}ms, refresh threshold is ${el} ticks`),n<=el&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Vm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Gs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);n.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:a}=s;return a?{data:null,error:a}:await re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:a,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await re(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:a}=s;if(a)return{data:null,error:a};const{data:o,error:l}=await re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(Q(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:a}=s;return a?{data:null,error:a}:await re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(Q(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ho(n.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(l=>l.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+R0>n)return r;const{data:a,error:o}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=n,r=a.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};r=m.session.access_token}const{header:n,payload:a,signature:o,raw:{header:l,payload:c}}=ho(r);s!=null&&s.allowExpired||sw(a.exp);const d=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!d){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:a,header:n,signature:o},error:null}}const u=rw(n.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,U0(`${l}.${c}`)))throw new rl("Invalid JWT signature");return{data:{claims:a,header:n,signature:o},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}}pn.nextInstanceID=0;const yw=pn;class vw extends yw{constructor(e){super(e)}}var ww=function(t,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class jw{constructor(e,s,r){var n,a,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=k0(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:b0,realtime:v0,auth:Object.assign(Object.assign({},y0),{storageKey:d}),global:x0},h=C0(r??{},u);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=_0(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new $v(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new m0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new gv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return ww(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:a,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vw({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new t0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Sw=(t,e,s)=>new jw(t,e,s);function _w(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}_w()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var nc={};Object.defineProperty(nc,"__esModule",{value:!0});nc.parse=Ew;nc.serialize=Rw;const Nw=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,kw=/^[\u0021-\u003A\u003C-\u007E]*$/,Cw=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Pw=/^[\u0020-\u003A\u003D-\u007E]*$/,Tw=Object.prototype.toString,Aw=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function Ew(t,e){const s=new Aw,r=t.length;if(r<2)return s;const n=(e==null?void 0:e.decode)||Ow;let a=0;do{const o=t.indexOf("=",a);if(o===-1)break;const l=t.indexOf(";",a),c=l===-1?r:l;if(o>c){a=t.lastIndexOf(";",o-1)+1;continue}const d=Wd(t,a,o),u=qd(t,o,d),h=t.slice(d,u);if(s[h]===void 0){let f=Wd(t,o+1,c),m=qd(t,c,f);const p=n(t.slice(f,m));s[h]=p}a=c+1}while(a<r);return s}function Wd(t,e,s){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<s);return s}function qd(t,e,s){for(;e>s;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return s}function Rw(t,e,s){const r=(s==null?void 0:s.encode)||encodeURIComponent;if(!Nw.test(t))throw new TypeError(`argument name is invalid: ${t}`);const n=r(e);if(!kw.test(n))throw new TypeError(`argument val is invalid: ${e}`);let a=t+"="+n;if(!s)return a;if(s.maxAge!==void 0){if(!Number.isInteger(s.maxAge))throw new TypeError(`option maxAge is invalid: ${s.maxAge}`);a+="; Max-Age="+s.maxAge}if(s.domain){if(!Cw.test(s.domain))throw new TypeError(`option domain is invalid: ${s.domain}`);a+="; Domain="+s.domain}if(s.path){if(!Pw.test(s.path))throw new TypeError(`option path is invalid: ${s.path}`);a+="; Path="+s.path}if(s.expires){if(!Iw(s.expires)||!Number.isFinite(s.expires.valueOf()))throw new TypeError(`option expires is invalid: ${s.expires}`);a+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.partitioned&&(a+="; Partitioned"),s.priority)switch(typeof s.priority=="string"?s.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${s.priority}`)}if(s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${s.sameSite}`)}return a}function Ow(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function Iw(t){return Tw.call(t)==="[object Date]"}const Hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kd=` 	
\r=`.split("");(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Kd.length;e+=1)t[Kd[e].charCodeAt(0)]=-2;for(let e=0;e<Hd.length;e+=1)t[Hd[e].charCodeAt(0)]=e;return t})();const Lw=()=>({url:"https://fdeblavnrrnoyqivydsg.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkZWJsYXZucnJub3lxaXZ5ZHNnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0OTgxMzgsImV4cCI6MjA3MDA3NDEzOH0.iaK-5qda3SZGkSwSJRB5ejyJ1Ky8S2tPOxRAPAap_FI"});let Bm;try{Bm=Lw()}catch(t){throw console.error("Supabase config error:",t),t}let Si=null;function Oe(){if(Si)return Si;const{url:t,anonKey:e}=Bm;return Si=Sw(t,e,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce",debug:!1},global:{headers:{"X-Client-Info":"forge-college-web"}},realtime:{params:{eventsPerSecond:10}}}),Si}const Um=b.createContext(void 0);function Mw({children:t}){const[e,s]=b.useState(null),[r,n]=b.useState(null),[a,o]=b.useState(!0),l=b.useRef(!0),c=b.useMemo(()=>Oe(),[]),d=async()=>{try{o(!0),console.log("Starting sign out process...");const{error:f}=await c.auth.signOut();if(f)throw f;console.log("Supabase sign out successful"),s(null),n(null),localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("supabase.auth.refreshToken"),Object.keys(localStorage).filter(p=>p.includes("google")||p.includes("oauth")||p.includes("auth")).forEach(p=>{console.log("Removing Google/OAuth token:",p),localStorage.removeItem(p)}),document.cookie.split(";").forEach(function(p){document.cookie=p.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),sessionStorage.clear(),console.log("Local storage cleared, redirecting..."),window.location.replace("/")}catch(f){console.error("Error signing out:",f),s(null),n(null),window.location.href="/"}finally{o(!1)}},u=async()=>{try{o(!0);const{data:{session:f},error:m}=await c.auth.getSession();if(m)throw m;n(f),s((f==null?void 0:f.user)??null)}catch(f){console.error("Error refreshing session:",f)}finally{o(!1)}};b.useEffect(()=>{l.current=!0,(async()=>{try{const{data:{session:p},error:x}=await c.auth.getSession();if(x)throw x;l.current&&(n(p),s((p==null?void 0:p.user)??null),o(!1))}catch(p){console.error("Error initializing auth:",p),l.current&&o(!1)}})();const{data:{subscription:m}}=c.auth.onAuthStateChange(async(p,x)=>{var g,v,j;if(l.current)switch(console.log("Auth state changed:",p,(g=x==null?void 0:x.user)==null?void 0:g.email,"Provider:",(j=(v=x==null?void 0:x.user)==null?void 0:v.app_metadata)==null?void 0:j.provider),p){case"SIGNED_IN":case"TOKEN_REFRESHED":case"INITIAL_SESSION":x!=null&&x.user&&(n(x),s(x.user),o(!1));break;case"SIGNED_OUT":n(null),s(null),o(!1);break;default:n(x),s((x==null?void 0:x.user)??null),o(!1)}});return()=>{l.current=!1,m.unsubscribe()}},[]);const h=b.useMemo(()=>({user:e,session:r,loading:a,signOut:d,refreshSession:u}),[e,r,a,d,u]);return i.jsx(Um.Provider,{value:h,children:t})}function ic(){const t=b.useContext(Um);if(t===void 0)throw new Error("useOAuth must be used within an OAuthProvider");return t}function Ge(){const{user:t,session:e,loading:s}=ic();return{isAuthenticated:!!t&&!s,user:t||null,session:e||null,loading:s||!1}}const Dw=1,$w=1e6;let po=0;function Fw(){return po=(po+1)%Number.MAX_SAFE_INTEGER,po.toString()}const go=new Map,Gd=t=>{if(go.has(t))return;const e=setTimeout(()=>{go.delete(t),nn({type:"REMOVE_TOAST",toastId:t})},$w);go.set(t,e)},Vw=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Dw)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?Gd(s):t.toasts.forEach(r=>{Gd(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},Fi=[];let Vi={toasts:[]};function nn(t){Vi=Vw(Vi,t),Fi.forEach(e=>{e(Vi)})}function Bw({...t}){const e=Fw(),s=n=>nn({type:"UPDATE_TOAST",toast:{...n,id:e}}),r=()=>nn({type:"DISMISS_TOAST",toastId:e});return nn({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:n=>{n||r()}}}),{id:e,dismiss:r,update:s}}function zm(){const[t,e]=b.useState(Vi);return b.useEffect(()=>(Fi.push(e),()=>{const s=Fi.indexOf(e);s>-1&&Fi.splice(s,1)}),[t]),{...t,toast:Bw,dismiss:s=>nn({type:"DISMISS_TOAST",toastId:s})}}function Wm(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(s=Wm(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function qm(){for(var t,e,s=0,r="",n=arguments.length;s<n;s++)(t=arguments[s])&&(e=Wm(t))&&(r&&(r+=" "),r+=e);return r}const Jd=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Zd=qm,Er=(t,e)=>s=>{var r;if((e==null?void 0:e.variants)==null)return Zd(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:a}=e,o=Object.keys(n).map(d=>{const u=s==null?void 0:s[d],h=a==null?void 0:a[d];if(u===null)return null;const f=Jd(u)||Jd(h);return n[d][f]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(p=>{let[x,g]=p;return Array.isArray(g)?g.includes({...a,...l}[x]):{...a,...l}[x]===g})?[...d,h,f]:d},[]);return Zd(t,o,c,s==null?void 0:s.class,s==null?void 0:s.className)},ac="-",Uw=t=>{const e=Ww(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(ac);return l[0]===""&&l.length!==1&&l.shift(),Hm(l,e)||zw(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Hm=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const s=t[0],r=e.nextPart.get(s),n=r?Hm(t.slice(1),r):void 0;if(n)return n;if(e.validators.length===0)return;const a=t.join(ac);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},Yd=/^\[(.+)\]$/,zw=t=>{if(Yd.test(t)){const e=Yd.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},Ww=t=>{const{theme:e,prefix:s}=t,r={nextPart:new Map,validators:[]};return Hw(Object.entries(t.classGroups),s).forEach(([a,o])=>{nl(o,r,a,e)}),r},nl=(t,e,s,r)=>{t.forEach(n=>{if(typeof n=="string"){const a=n===""?e:Xd(e,n);a.classGroupId=s;return}if(typeof n=="function"){if(qw(n)){nl(n(r),e,s,r);return}e.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([a,o])=>{nl(o,Xd(e,a),s,r)})})},Xd=(t,e)=>{let s=t;return e.split(ac).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},qw=t=>t.isThemeGetter,Hw=(t,e)=>e?t.map(([s,r])=>{const n=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[s,n]}):t,Kw=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,r=new Map;const n=(a,o)=>{s.set(a,o),e++,e>t&&(e=0,r=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return n(a,o),o},set(a,o){s.has(a)?s.set(a,o):n(a,o)}}},Km="!",Gw=t=>{const{separator:e,experimentalParseClassName:s}=t,r=e.length===1,n=e[0],a=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let g=0;g<l.length;g++){let v=l[g];if(d===0){if(v===n&&(r||l.slice(g,g+a)===e)){c.push(l.slice(u,g)),u=g+a;continue}if(v==="/"){h=g;continue}}v==="["?d++:v==="]"&&d--}const f=c.length===0?l:l.substring(u),m=f.startsWith(Km),p=m?f.substring(1):f,x=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:x}};return s?l=>s({className:l,parseClassName:o}):o},Jw=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(r=>{r[0]==="["?(e.push(...s.sort(),r),s=[]):s.push(r)}),e.push(...s.sort()),e},Zw=t=>({cache:Kw(t.cacheSize),parseClassName:Gw(t),...Uw(t)}),Yw=/\s+/,Xw=(t,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n}=e,a=[],o=t.trim().split(Yw);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=s(d);let p=!!m,x=r(p?f.substring(0,m):f);if(!x){if(!p){l=d+(l.length>0?" "+l:l);continue}if(x=r(f),!x){l=d+(l.length>0?" "+l:l);continue}p=!1}const g=Jw(u).join(":"),v=h?g+Km:g,j=v+x;if(a.includes(j))continue;a.push(j);const w=n(x,p);for(let S=0;S<w.length;++S){const y=w[S];a.push(v+y)}l=d+(l.length>0?" "+l:l)}return l};function Qw(){let t=0,e,s,r="";for(;t<arguments.length;)(e=arguments[t++])&&(s=Gm(e))&&(r&&(r+=" "),r+=s);return r}const Gm=t=>{if(typeof t=="string")return t;let e,s="";for(let r=0;r<t.length;r++)t[r]&&(e=Gm(t[r]))&&(s&&(s+=" "),s+=e);return s};function ej(t,...e){let s,r,n,a=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return s=Zw(d),r=s.cache.get,n=s.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=Xw(c,s);return n(c,u),u}return function(){return a(Qw.apply(null,arguments))}}const _e=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},Jm=/^\[(?:([a-z-]+):)?(.+)\]$/i,tj=/^\d+\/\d+$/,sj=new Set(["px","full","screen"]),rj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ij=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ut=t=>ur(t)||sj.has(t)||tj.test(t),rs=t=>Rr(t,"length",pj),ur=t=>!!t&&!Number.isNaN(Number(t)),xo=t=>Rr(t,"number",ur),Br=t=>!!t&&Number.isInteger(Number(t)),lj=t=>t.endsWith("%")&&ur(t.slice(0,-1)),ee=t=>Jm.test(t),ns=t=>rj.test(t),cj=new Set(["length","size","percentage"]),dj=t=>Rr(t,cj,Zm),uj=t=>Rr(t,"position",Zm),hj=new Set(["image","url"]),fj=t=>Rr(t,hj,xj),mj=t=>Rr(t,"",gj),Ur=()=>!0,Rr=(t,e,s)=>{const r=Jm.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):s(r[2]):!1},pj=t=>nj.test(t)&&!ij.test(t),Zm=()=>!1,gj=t=>aj.test(t),xj=t=>oj.test(t),bj=()=>{const t=_e("colors"),e=_e("spacing"),s=_e("blur"),r=_e("brightness"),n=_e("borderColor"),a=_e("borderRadius"),o=_e("borderSpacing"),l=_e("borderWidth"),c=_e("contrast"),d=_e("grayscale"),u=_e("hueRotate"),h=_e("invert"),f=_e("gap"),m=_e("gradientColorStops"),p=_e("gradientColorStopPositions"),x=_e("inset"),g=_e("margin"),v=_e("opacity"),j=_e("padding"),w=_e("saturate"),S=_e("scale"),y=_e("sepia"),N=_e("skew"),_=_e("space"),A=_e("translate"),O=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",ee,e],$=()=>[ee,e],se=()=>["",Ut,rs],G=()=>["auto",ur,ee],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",ee],pe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>[ur,ee];return{cacheSize:500,separator:":",theme:{colors:[Ur],spacing:[Ut,rs],blur:["none","",ns,ee],brightness:k(),borderColor:[t],borderRadius:["none","","full",ns,ee],borderSpacing:$(),borderWidth:se(),contrast:k(),grayscale:V(),hueRotate:k(),invert:V(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[lj,rs],inset:E(),margin:E(),opacity:k(),padding:$(),saturate:k(),scale:k(),sepia:V(),skew:k(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[ns]}],"break-after":[{"break-after":pe()}],"break-before":[{"break-before":pe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),ee]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Br,ee]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Br,ee]}],"grid-cols":[{"grid-cols":[Ur]}],"col-start-end":[{col:["auto",{span:["full",Br,ee]},ee]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Ur]}],"row-start-end":[{row:["auto",{span:[Br,ee]},ee]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,e]}],"min-w":[{"min-w":[ee,e,"min","max","fit"]}],"max-w":[{"max-w":[ee,e,"none","full","min","max","fit","prose",{screen:[ns]},ns]}],h:[{h:[ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ns,rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xo]}],"font-family":[{font:[Ur]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",ur,xo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ut,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ut,rs]}],"underline-offset":[{"underline-offset":["auto",Ut,ee]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),uj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fj]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:M()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Ut,ee]}],"outline-w":[{outline:[Ut,rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ut,rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ns,mj]}],"shadow-color":[{shadow:[Ur]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ns,ee]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:k()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:k()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Br,ee]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ut,rs,xo]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},yj=ej(bj);function T(...t){return yj(qm(t))}function gn(){try{if(typeof window>"u")return"/auth/callback";const t=window.location.origin,e=window.location.hostname;return e.includes("localhost")||e.startsWith("127.")?`${t}/auth/callback`:e==="forge.college"?"https://app.forge.college/auth/callback":`${t}/auth/callback`}catch{return"/auth/callback"}}const vj=db,Ym=b.forwardRef(({className:t,...e},s)=>i.jsx(df,{ref:s,className:T("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Ym.displayName=df.displayName;const wj=Er("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Xm=b.forwardRef(({className:t,variant:e,...s},r)=>i.jsx(uf,{ref:r,className:T(wj({variant:e}),t),...s}));Xm.displayName=uf.displayName;const jj=b.forwardRef(({className:t,...e},s)=>i.jsx(hf,{ref:s,className:T("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));jj.displayName=hf.displayName;const Qm=b.forwardRef(({className:t,...e},s)=>i.jsx(ff,{ref:s,className:T("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(Cr,{className:"h-4 w-4"})}));Qm.displayName=ff.displayName;const ep=b.forwardRef(({className:t,...e},s)=>i.jsx(mf,{ref:s,className:T("text-sm font-semibold",t),...e}));ep.displayName=mf.displayName;const tp=b.forwardRef(({className:t,...e},s)=>i.jsx(pf,{ref:s,className:T("text-sm opacity-90",t),...e}));tp.displayName=pf.displayName;function Sj(){const{toasts:t}=zm();return i.jsxs(vj,{children:[t.map(function({id:e,title:s,description:r,action:n,...a}){return i.jsxs(Xm,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[s&&i.jsx(ep,{children:s}),r&&i.jsx(tp,{children:r})]}),n,i.jsx(Qm,{})]},e)}),i.jsx(Ym,{})]})}var Qd=["light","dark"],_j="(prefers-color-scheme: dark)",Nj=b.createContext(void 0),kj={setTheme:t=>{},themes:[]},Cj=()=>{var t;return(t=b.useContext(Nj))!=null?t:kj};b.memo(({forcedTheme:t,storageKey:e,attribute:s,enableSystem:r,enableColorScheme:n,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let d=a==="system",u=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,h=n?Qd.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(p,x=!1,g=!0)=>{let v=o?o[p]:p,j=x?p+"|| ''":`'${v}'`,w="";return n&&g&&!x&&Qd.includes(p)&&(w+=`d.style.colorScheme = '${p}';`),s==="class"?x||v?w+=`c.add(${j})`:w+="null":v&&(w+=`d[s](n,${j})`),w},m=t?`!function(){${u}${f(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${_j}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${d?"":"else{"+f(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${h}}catch(t){}}();`;return b.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var Pj=t=>{switch(t){case"success":return Ej;case"info":return Oj;case"warning":return Rj;case"error":return Ij;default:return null}},Tj=Array(12).fill(0),Aj=({visible:t,className:e})=>L.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},L.createElement("div",{className:"sonner-spinner"},Tj.map((s,r)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Ej=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Rj=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Oj=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ij=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Lj=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Mj=()=>{let[t,e]=L.useState(document.hidden);return L.useEffect(()=>{let s=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),t},il=1,Dj=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:s,...r}=t,n=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:il++,a=this.toasts.find(l=>l.id===n),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),a?this.toasts=this.toasts.map(l=>l.id===n?(this.publish({...l,...t,id:n,title:s}),{...l,...t,id:n,dismissible:o,title:s}):l):this.addToast({title:s,...r,dismissible:o,id:n}),n},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(s=>s({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let s;e.loading!==void 0&&(s=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),n=s!==void 0,a,o=r.then(async c=>{if(a=["resolve",c],L.isValidElement(c))n=!1,this.create({id:s,type:"default",message:c});else if(Fj(c)&&!c.ok){n=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:s,type:"error",message:d,description:u})}else if(e.success!==void 0){n=!1;let d=typeof e.success=="function"?await e.success(c):e.success,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:s,type:"success",message:d,description:u})}}).catch(async c=>{if(a=["reject",c],e.error!==void 0){n=!1;let d=typeof e.error=="function"?await e.error(c):e.error,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:s,type:"error",message:d,description:u})}}).finally(()=>{var c;n&&(this.dismiss(s),s=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,d)=>o.then(()=>a[0]==="reject"?d(a[1]):c(a[1])).catch(d));return typeof s!="string"&&typeof s!="number"?{unwrap:l}:Object.assign(s,{unwrap:l})},this.custom=(t,e)=>{let s=(e==null?void 0:e.id)||il++;return this.create({jsx:t(s),id:s,...e}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Je=new Dj,$j=(t,e)=>{let s=(e==null?void 0:e.id)||il++;return Je.addToast({title:t,...e,id:s}),s},Fj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Vj=$j,Bj=()=>Je.toasts,Uj=()=>Je.getActiveToasts(),ce=Object.assign(Vj,{success:Je.success,info:Je.info,warning:Je.warning,error:Je.error,custom:Je.custom,message:Je.message,promise:Je.promise,dismiss:Je.dismiss,loading:Je.loading},{getHistory:Bj,getToasts:Uj});function zj(t,{insertAt:e}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}zj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function _i(t){return t.label!==void 0}var Wj=3,qj="32px",Hj="16px",eu=4e3,Kj=356,Gj=14,Jj=20,Zj=200;function _t(...t){return t.filter(Boolean).join(" ")}function Yj(t){let[e,s]=t.split("-"),r=[];return e&&r.push(e),s&&r.push(s),r}var Xj=t=>{var e,s,r,n,a,o,l,c,d,u,h;let{invert:f,toast:m,unstyled:p,interacting:x,setHeights:g,visibleToasts:v,heights:j,index:w,toasts:S,expanded:y,removeToast:N,defaultRichColors:_,closeButton:A,style:O,cancelButtonStyle:C,actionButtonStyle:E,className:$="",descriptionClassName:se="",duration:G,position:P,gap:M,loadingIcon:U,expandByDefault:q,classNames:V,icons:pe,closeButtonAriaLabel:k="Close toast",pauseWhenPageIsHidden:R}=t,[W,le]=L.useState(null),[Te,rt]=L.useState(null),[ve,Qa]=L.useState(!1),[Mr,pi]=L.useState(!1),[Dr,eo]=L.useState(!1),[nd,Kx]=L.useState(!1),[Gx,id]=L.useState(!1),[Jx,to]=L.useState(0),[Zx,ad]=L.useState(0),$r=L.useRef(m.duration||G||eu),od=L.useRef(null),vs=L.useRef(null),Yx=w===0,Xx=w+1<=v,lt=m.type,Us=m.dismissible!==!1,Qx=m.className||"",eb=m.descriptionClassName||"",gi=L.useMemo(()=>j.findIndex(X=>X.toastId===m.id)||0,[j,m.id]),tb=L.useMemo(()=>{var X;return(X=m.closeButton)!=null?X:A},[m.closeButton,A]),ld=L.useMemo(()=>m.duration||G||eu,[m.duration,G]),so=L.useRef(0),zs=L.useRef(0),cd=L.useRef(0),Ws=L.useRef(null),[sb,rb]=P.split("-"),dd=L.useMemo(()=>j.reduce((X,we,Ce)=>Ce>=gi?X:X+we.height,0),[j,gi]),ud=Mj(),nb=m.invert||f,ro=lt==="loading";zs.current=L.useMemo(()=>gi*M+dd,[gi,dd]),L.useEffect(()=>{$r.current=ld},[ld]),L.useEffect(()=>{Qa(!0)},[]),L.useEffect(()=>{let X=vs.current;if(X){let we=X.getBoundingClientRect().height;return ad(we),g(Ce=>[{toastId:m.id,height:we,position:m.position},...Ce]),()=>g(Ce=>Ce.filter(wt=>wt.toastId!==m.id))}},[g,m.id]),L.useLayoutEffect(()=>{if(!ve)return;let X=vs.current,we=X.style.height;X.style.height="auto";let Ce=X.getBoundingClientRect().height;X.style.height=we,ad(Ce),g(wt=>wt.find(jt=>jt.toastId===m.id)?wt.map(jt=>jt.toastId===m.id?{...jt,height:Ce}:jt):[{toastId:m.id,height:Ce,position:m.position},...wt])},[ve,m.title,m.description,g,m.id]);let Qt=L.useCallback(()=>{pi(!0),to(zs.current),g(X=>X.filter(we=>we.toastId!==m.id)),setTimeout(()=>{N(m)},Zj)},[m,N,g,zs]);L.useEffect(()=>{if(m.promise&&lt==="loading"||m.duration===1/0||m.type==="loading")return;let X;return y||x||R&&ud?(()=>{if(cd.current<so.current){let we=new Date().getTime()-so.current;$r.current=$r.current-we}cd.current=new Date().getTime()})():$r.current!==1/0&&(so.current=new Date().getTime(),X=setTimeout(()=>{var we;(we=m.onAutoClose)==null||we.call(m,m),Qt()},$r.current)),()=>clearTimeout(X)},[y,x,m,lt,R,ud,Qt]),L.useEffect(()=>{m.delete&&Qt()},[Qt,m.delete]);function ib(){var X,we,Ce;return pe!=null&&pe.loading?L.createElement("div",{className:_t(V==null?void 0:V.loader,(X=m==null?void 0:m.classNames)==null?void 0:X.loader,"sonner-loader"),"data-visible":lt==="loading"},pe.loading):U?L.createElement("div",{className:_t(V==null?void 0:V.loader,(we=m==null?void 0:m.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":lt==="loading"},U):L.createElement(Aj,{className:_t(V==null?void 0:V.loader,(Ce=m==null?void 0:m.classNames)==null?void 0:Ce.loader),visible:lt==="loading"})}return L.createElement("li",{tabIndex:0,ref:vs,className:_t($,Qx,V==null?void 0:V.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[lt],(s=m==null?void 0:m.classNames)==null?void 0:s[lt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:_,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":ve,"data-promise":!!m.promise,"data-swiped":Gx,"data-removed":Mr,"data-visible":Xx,"data-y-position":sb,"data-x-position":rb,"data-index":w,"data-front":Yx,"data-swiping":Dr,"data-dismissible":Us,"data-type":lt,"data-invert":nb,"data-swipe-out":nd,"data-swipe-direction":Te,"data-expanded":!!(y||q&&ve),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${Mr?Jx:zs.current}px`,"--initial-height":q?"auto":`${Zx}px`,...O,...m.style},onDragEnd:()=>{eo(!1),le(null),Ws.current=null},onPointerDown:X=>{ro||!Us||(od.current=new Date,to(zs.current),X.target.setPointerCapture(X.pointerId),X.target.tagName!=="BUTTON"&&(eo(!0),Ws.current={x:X.clientX,y:X.clientY}))},onPointerUp:()=>{var X,we,Ce,wt;if(nd||!Us)return;Ws.current=null;let jt=Number(((X=vs.current)==null?void 0:X.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),es=Number(((we=vs.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ws=new Date().getTime()-((Ce=od.current)==null?void 0:Ce.getTime()),St=W==="x"?jt:es,ts=Math.abs(St)/ws;if(Math.abs(St)>=Jj||ts>.11){to(zs.current),(wt=m.onDismiss)==null||wt.call(m,m),rt(W==="x"?jt>0?"right":"left":es>0?"down":"up"),Qt(),Kx(!0),id(!1);return}eo(!1),le(null)},onPointerMove:X=>{var we,Ce,wt,jt;if(!Ws.current||!Us||((we=window.getSelection())==null?void 0:we.toString().length)>0)return;let es=X.clientY-Ws.current.y,ws=X.clientX-Ws.current.x,St=(Ce=t.swipeDirections)!=null?Ce:Yj(P);!W&&(Math.abs(ws)>1||Math.abs(es)>1)&&le(Math.abs(ws)>Math.abs(es)?"x":"y");let ts={x:0,y:0};W==="y"?(St.includes("top")||St.includes("bottom"))&&(St.includes("top")&&es<0||St.includes("bottom")&&es>0)&&(ts.y=es):W==="x"&&(St.includes("left")||St.includes("right"))&&(St.includes("left")&&ws<0||St.includes("right")&&ws>0)&&(ts.x=ws),(Math.abs(ts.x)>0||Math.abs(ts.y)>0)&&id(!0),(wt=vs.current)==null||wt.style.setProperty("--swipe-amount-x",`${ts.x}px`),(jt=vs.current)==null||jt.style.setProperty("--swipe-amount-y",`${ts.y}px`)}},tb&&!m.jsx?L.createElement("button",{"aria-label":k,"data-disabled":ro,"data-close-button":!0,onClick:ro||!Us?()=>{}:()=>{var X;Qt(),(X=m.onDismiss)==null||X.call(m,m)},className:_t(V==null?void 0:V.closeButton,(n=m==null?void 0:m.classNames)==null?void 0:n.closeButton)},(a=pe==null?void 0:pe.close)!=null?a:Lj):null,m.jsx||b.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:L.createElement(L.Fragment,null,lt||m.icon||m.promise?L.createElement("div",{"data-icon":"",className:_t(V==null?void 0:V.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ib():null,m.type!=="loading"?m.icon||(pe==null?void 0:pe[lt])||Pj(lt):null):null,L.createElement("div",{"data-content":"",className:_t(V==null?void 0:V.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},L.createElement("div",{"data-title":"",className:_t(V==null?void 0:V.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?L.createElement("div",{"data-description":"",className:_t(se,eb,V==null?void 0:V.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),b.isValidElement(m.cancel)?m.cancel:m.cancel&&_i(m.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||C,onClick:X=>{var we,Ce;_i(m.cancel)&&Us&&((Ce=(we=m.cancel).onClick)==null||Ce.call(we,X),Qt())},className:_t(V==null?void 0:V.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,b.isValidElement(m.action)?m.action:m.action&&_i(m.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||E,onClick:X=>{var we,Ce;_i(m.action)&&((Ce=(we=m.action).onClick)==null||Ce.call(we,X),!X.defaultPrevented&&Qt())},className:_t(V==null?void 0:V.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function tu(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Qj(t,e){let s={};return[t,e].forEach((r,n)=>{let a=n===1,o=a?"--mobile-offset":"--offset",l=a?Hj:qj;function c(d){["top","right","bottom","left"].forEach(u=>{s[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?s[`${o}-${d}`]=l:s[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),s}var e1=b.forwardRef(function(t,e){let{invert:s,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:f,style:m,visibleToasts:p=Wj,toastOptions:x,dir:g=tu(),gap:v=Gj,loadingIcon:j,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:y}=t,[N,_]=L.useState([]),A=L.useMemo(()=>Array.from(new Set([r].concat(N.filter(R=>R.position).map(R=>R.position)))),[N,r]),[O,C]=L.useState([]),[E,$]=L.useState(!1),[se,G]=L.useState(!1),[P,M]=L.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=L.useRef(null),q=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=L.useRef(null),pe=L.useRef(!1),k=L.useCallback(R=>{_(W=>{var le;return(le=W.find(Te=>Te.id===R.id))!=null&&le.delete||Je.dismiss(R.id),W.filter(({id:Te})=>Te!==R.id)})},[]);return L.useEffect(()=>Je.subscribe(R=>{if(R.dismiss){_(W=>W.map(le=>le.id===R.id?{...le,delete:!0}:le));return}setTimeout(()=>{ub.flushSync(()=>{_(W=>{let le=W.findIndex(Te=>Te.id===R.id);return le!==-1?[...W.slice(0,le),{...W[le],...R},...W.slice(le+1)]:[R,...W]})})})}),[]),L.useEffect(()=>{if(u!=="system"){M(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;let R=window.matchMedia("(prefers-color-scheme: dark)");try{R.addEventListener("change",({matches:W})=>{M(W?"dark":"light")})}catch{R.addListener(({matches:le})=>{try{M(le?"dark":"light")}catch(Te){console.error(Te)}})}},[u]),L.useEffect(()=>{N.length<=1&&$(!1)},[N]),L.useEffect(()=>{let R=W=>{var le,Te;n.every(rt=>W[rt]||W.code===rt)&&($(!0),(le=U.current)==null||le.focus()),W.code==="Escape"&&(document.activeElement===U.current||(Te=U.current)!=null&&Te.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[n]),L.useEffect(()=>{if(U.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,pe.current=!1)}},[U.current]),L.createElement("section",{ref:e,"aria-label":`${S} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((R,W)=>{var le;let[Te,rt]=R.split("-");return N.length?L.createElement("ol",{key:R,dir:g==="auto"?tu():g,tabIndex:-1,ref:U,className:l,"data-sonner-toaster":!0,"data-theme":P,"data-y-position":Te,"data-lifted":E&&N.length>1&&!a,"data-x-position":rt,style:{"--front-toast-height":`${((le=O[0])==null?void 0:le.height)||0}px`,"--width":`${Kj}px`,"--gap":`${v}px`,...m,...Qj(c,d)},onBlur:ve=>{pe.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(pe.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||pe.current||(pe.current=!0,V.current=ve.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{se||$(!1)},onDragEnd:()=>$(!1),onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},N.filter(ve=>!ve.position&&W===0||ve.position===R).map((ve,Qa)=>{var Mr,pi;return L.createElement(Xj,{key:ve.id,icons:w,index:Qa,toast:ve,defaultRichColors:h,duration:(Mr=x==null?void 0:x.duration)!=null?Mr:f,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:s,visibleToasts:p,closeButton:(pi=x==null?void 0:x.closeButton)!=null?pi:o,interacting:se,position:R,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:k,toasts:N.filter(Dr=>Dr.position==ve.position),heights:O.filter(Dr=>Dr.position==ve.position),setHeights:C,expandByDefault:a,gap:v,loadingIcon:j,expanded:E,pauseWhenPageIsHidden:y,swipeDirections:t.swipeDirections})})):null}))});const t1=({...t})=>{const{theme:e="system"}=Cj();return i.jsx(e1,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},sp=hb,rp=fb,np=mb,oc=b.forwardRef(({className:t,sideOffset:e=4,...s},r)=>i.jsx(gf,{ref:r,sideOffset:e,className:T("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));oc.displayName=gf.displayName;const ip=b.createContext({});function $a(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const lc=typeof window<"u",cc=lc?b.useLayoutEffect:b.useEffect,dc=b.createContext(null);function uc(t,e){t.indexOf(e)===-1&&t.push(e)}function hc(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const Bt=(t,e,s)=>s>e?e:s<t?t:s;let xn=()=>{};const Gt={},ap=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function op(t){return typeof t=="object"&&t!==null}const lp=t=>/^0[^.\s]+$/u.test(t);function fc(t){let e;return()=>(e===void 0&&(e=t()),e)}const tt=t=>t,s1=(t,e)=>s=>e(t(s)),Yn=(...t)=>t.reduce(s1),xr=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r};class mc{constructor(){this.subscriptions=[]}add(e){return uc(this.subscriptions,e),()=>hc(this.subscriptions,e)}notify(e,s,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](e,s,r);else for(let a=0;a<n;a++){const o=this.subscriptions[a];o&&o(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dt=t=>t*1e3,$t=t=>t/1e3;function pc(t,e){return e?t*(1e3/e):0}const cp=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,r1=1e-7,n1=12;function i1(t,e,s,r,n){let a,o,l=0;do o=e+(s-e)/2,a=cp(o,r,n)-t,a>0?s=o:e=o;while(Math.abs(a)>r1&&++l<n1);return o}function Xn(t,e,s,r){if(t===e&&s===r)return tt;const n=a=>i1(a,0,1,t,s);return a=>a===0||a===1?a:cp(n(a),e,r)}const dp=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,up=t=>e=>1-t(1-e),hp=Xn(.33,1.53,.69,.99),gc=up(hp),fp=dp(gc),mp=t=>(t*=2)<1?.5*gc(t):.5*(2-Math.pow(2,-10*(t-1))),xc=t=>1-Math.sin(Math.acos(t)),pp=up(xc),gp=dp(xc),a1=Xn(.42,0,1,1),o1=Xn(0,0,.58,1),xp=Xn(.42,0,.58,1),l1=t=>Array.isArray(t)&&typeof t[0]!="number",bp=t=>Array.isArray(t)&&typeof t[0]=="number",c1={linear:tt,easeIn:a1,easeInOut:xp,easeOut:o1,circIn:xc,circInOut:gp,circOut:pp,backIn:gc,backInOut:fp,backOut:hp,anticipate:mp},d1=t=>typeof t=="string",su=t=>{if(bp(t)){xn(t.length===4);const[e,s,r,n]=t;return Xn(e,s,r,n)}else if(d1(t))return c1[t];return t},Ni=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function u1(t,e){let s=new Set,r=new Set,n=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),t()),u(l)}const d={schedule:(u,h=!1,f=!1)=>{const p=f&&n?s:r;return h&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(l=u,n){a=!0;return}n=!0,[s,r]=[r,s],s.forEach(c),s.clear(),n=!1,a&&(a=!1,d.process(u))}};return d}const h1=40;function yp(t,e){let s=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=Ni.reduce((w,S)=>(w[S]=u1(a),w),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:m,postRender:p}=o,x=()=>{const w=Gt.useManualTiming?n.timestamp:performance.now();s=!1,Gt.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(w-n.timestamp,h1),1)),n.timestamp=w,n.isProcessing=!0,l.process(n),c.process(n),d.process(n),u.process(n),h.process(n),f.process(n),m.process(n),p.process(n),n.isProcessing=!1,s&&e&&(r=!1,t(x))},g=()=>{s=!0,r=!0,n.isProcessing||t(x)};return{schedule:Ni.reduce((w,S)=>{const y=o[S];return w[S]=(N,_=!1,A=!1)=>(s||g(),y.schedule(N,_,A)),w},{}),cancel:w=>{for(let S=0;S<Ni.length;S++)o[Ni[S]].cancel(w)},state:n,steps:o}}const{schedule:ye,cancel:Ot,state:Ve,steps:bo}=yp(typeof requestAnimationFrame<"u"?requestAnimationFrame:tt,!0);let Bi;function f1(){Bi=void 0}const Xe={now:()=>(Bi===void 0&&Xe.set(Ve.isProcessing||Gt.useManualTiming?Ve.timestamp:performance.now()),Bi),set:t=>{Bi=t,queueMicrotask(f1)}},vp=t=>e=>typeof e=="string"&&e.startsWith(t),bc=vp("--"),m1=vp("var(--"),yc=t=>m1(t)?p1.test(t.split("/*")[0].trim()):!1,p1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Or={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bn={...Or,transform:t=>Bt(0,1,t)},ki={...Or,default:1},an=t=>Math.round(t*1e5)/1e5,vc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g1(t){return t==null}const x1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wc=(t,e)=>s=>!!(typeof s=="string"&&x1.test(s)&&s.startsWith(t)||e&&!g1(s)&&Object.prototype.hasOwnProperty.call(s,e)),wp=(t,e,s)=>r=>{if(typeof r!="string")return r;const[n,a,o,l]=r.match(vc);return{[t]:parseFloat(n),[e]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},b1=t=>Bt(0,255,t),yo={...Or,transform:t=>Math.round(b1(t))},As={test:wc("rgb","red"),parse:wp("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+yo.transform(t)+", "+yo.transform(e)+", "+yo.transform(s)+", "+an(bn.transform(r))+")"};function y1(t){let e="",s="",r="",n="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),n=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),n=t.substring(4,5),e+=e,s+=s,r+=r,n+=n),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const al={test:wc("#"),parse:y1,transform:As.transform},Qn=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),as=Qn("deg"),Ft=Qn("%"),H=Qn("px"),v1=Qn("vh"),w1=Qn("vw"),ru={...Ft,parse:t=>Ft.parse(t)/100,transform:t=>Ft.transform(t*100)},rr={test:wc("hsl","hue"),parse:wp("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ft.transform(an(e))+", "+Ft.transform(an(s))+", "+an(bn.transform(r))+")"},Ie={test:t=>As.test(t)||al.test(t)||rr.test(t),parse:t=>As.test(t)?As.parse(t):rr.test(t)?rr.parse(t):al.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?As.transform(t):rr.transform(t),getAnimatableNone:t=>{const e=Ie.parse(t);return e.alpha=0,Ie.transform(e)}},j1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function S1(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(vc))==null?void 0:e.length)||0)+(((s=t.match(j1))==null?void 0:s.length)||0)>0}const jp="number",Sp="color",_1="var",N1="var(",nu="${}",k1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yn(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},n=[];let a=0;const l=e.replace(k1,c=>(Ie.test(c)?(r.color.push(a),n.push(Sp),s.push(Ie.parse(c))):c.startsWith(N1)?(r.var.push(a),n.push(_1),s.push(c)):(r.number.push(a),n.push(jp),s.push(parseFloat(c))),++a,nu)).split(nu);return{values:s,split:l,indexes:r,types:n}}function _p(t){return yn(t).values}function Np(t){const{split:e,types:s}=yn(t),r=e.length;return n=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],n[o]!==void 0){const l=s[o];l===jp?a+=an(n[o]):l===Sp?a+=Ie.transform(n[o]):a+=n[o]}return a}}const C1=t=>typeof t=="number"?0:Ie.test(t)?Ie.getAnimatableNone(t):t;function P1(t){const e=_p(t);return Np(t)(e.map(C1))}const fs={test:S1,parse:_p,createTransformer:Np,getAnimatableNone:P1};function vo(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function T1({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let n=0,a=0,o=0;if(!e)n=a=o=s;else{const l=s<.5?s*(1+e):s+e-s*e,c=2*s-l;n=vo(c,l,t+1/3),a=vo(c,l,t),o=vo(c,l,t-1/3)}return{red:Math.round(n*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function aa(t,e){return s=>s>0?e:t}const Pe=(t,e,s)=>t+(e-t)*s,wo=(t,e,s)=>{const r=t*t,n=s*(e*e-r)+r;return n<0?0:Math.sqrt(n)},A1=[al,As,rr],E1=t=>A1.find(e=>e.test(t));function iu(t){const e=E1(t);if(!e)return!1;let s=e.parse(t);return e===rr&&(s=T1(s)),s}const au=(t,e)=>{const s=iu(t),r=iu(e);if(!s||!r)return aa(t,e);const n={...s};return a=>(n.red=wo(s.red,r.red,a),n.green=wo(s.green,r.green,a),n.blue=wo(s.blue,r.blue,a),n.alpha=Pe(s.alpha,r.alpha,a),As.transform(n))},ol=new Set(["none","hidden"]);function R1(t,e){return ol.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function O1(t,e){return s=>Pe(t,e,s)}function jc(t){return typeof t=="number"?O1:typeof t=="string"?yc(t)?aa:Ie.test(t)?au:M1:Array.isArray(t)?kp:typeof t=="object"?Ie.test(t)?au:I1:aa}function kp(t,e){const s=[...t],r=s.length,n=t.map((a,o)=>jc(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)s[o]=n[o](a);return s}}function I1(t,e){const s={...t,...e},r={};for(const n in s)t[n]!==void 0&&e[n]!==void 0&&(r[n]=jc(t[n])(t[n],e[n]));return n=>{for(const a in r)s[a]=r[a](n);return s}}function L1(t,e){const s=[],r={color:0,var:0,number:0};for(let n=0;n<e.values.length;n++){const a=e.types[n],o=t.indexes[a][r[a]],l=t.values[o]??0;s[n]=l,r[a]++}return s}const M1=(t,e)=>{const s=fs.createTransformer(e),r=yn(t),n=yn(e);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?ol.has(t)&&!n.values.length||ol.has(e)&&!r.values.length?R1(t,e):Yn(kp(L1(r,n),n.values),s):aa(t,e)};function Cp(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?Pe(t,e,s):jc(t)(t,e)}const D1=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>ye.update(e,s),stop:()=>Ot(e),now:()=>Ve.isProcessing?Ve.timestamp:Xe.now()}},Pp=(t,e,s=10)=>{let r="";const n=Math.max(Math.round(e/s),2);for(let a=0;a<n;a++)r+=Math.round(t(a/(n-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},oa=2e4;function Sc(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<oa;)e+=s,r=t.next(e);return e>=oa?1/0:e}function $1(t,e=100,s){const r=s({...t,keyframes:[0,e]}),n=Math.min(Sc(r),oa);return{type:"keyframes",ease:a=>r.next(n*a).value/e,duration:$t(n)}}const F1=5;function Tp(t,e,s){const r=Math.max(e-F1,0);return pc(s-t(r),e-r)}const Ae={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jo=.001;function V1({duration:t=Ae.duration,bounce:e=Ae.bounce,velocity:s=Ae.velocity,mass:r=Ae.mass}){let n,a,o=1-e;o=Bt(Ae.minDamping,Ae.maxDamping,o),t=Bt(Ae.minDuration,Ae.maxDuration,$t(t)),o<1?(n=d=>{const u=d*o,h=u*t,f=u-s,m=ll(d,o),p=Math.exp(-h);return jo-f/m*p},a=d=>{const h=d*o*t,f=h*s+s,m=Math.pow(o,2)*Math.pow(d,2)*t,p=Math.exp(-h),x=ll(Math.pow(d,2),o);return(-n(d)+jo>0?-1:1)*((f-m)*p)/x}):(n=d=>{const u=Math.exp(-d*t),h=(d-s)*t+1;return-jo+u*h},a=d=>{const u=Math.exp(-d*t),h=(s-d)*(t*t);return u*h});const l=5/t,c=U1(n,a,l);if(t=Dt(t),isNaN(c))return{stiffness:Ae.stiffness,damping:Ae.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const B1=12;function U1(t,e,s){let r=s;for(let n=1;n<B1;n++)r=r-t(r)/e(r);return r}function ll(t,e){return t*Math.sqrt(1-e*e)}const z1=["duration","bounce"],W1=["stiffness","damping","mass"];function ou(t,e){return e.some(s=>t[s]!==void 0)}function q1(t){let e={velocity:Ae.velocity,stiffness:Ae.stiffness,damping:Ae.damping,mass:Ae.mass,isResolvedFromDuration:!1,...t};if(!ou(t,W1)&&ou(t,z1))if(t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),n=r*r,a=2*Bt(.05,1,1-(t.bounce||0))*Math.sqrt(n);e={...e,mass:Ae.mass,stiffness:n,damping:a}}else{const s=V1(t);e={...e,...s,mass:Ae.mass},e.isResolvedFromDuration=!0}return e}function la(t=Ae.visualDuration,e=Ae.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:n}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=q1({...s,velocity:-$t(s.velocity||0)}),p=f||0,x=d/(2*Math.sqrt(c*u)),g=o-a,v=$t(Math.sqrt(c/u)),j=Math.abs(g)<5;r||(r=j?Ae.restSpeed.granular:Ae.restSpeed.default),n||(n=j?Ae.restDelta.granular:Ae.restDelta.default);let w;if(x<1){const y=ll(v,x);w=N=>{const _=Math.exp(-x*v*N);return o-_*((p+x*v*g)/y*Math.sin(y*N)+g*Math.cos(y*N))}}else if(x===1)w=y=>o-Math.exp(-v*y)*(g+(p+v*g)*y);else{const y=v*Math.sqrt(x*x-1);w=N=>{const _=Math.exp(-x*v*N),A=Math.min(y*N,300);return o-_*((p+x*v*g)*Math.sinh(A)+y*g*Math.cosh(A))/y}}const S={calculatedDuration:m&&h||null,next:y=>{const N=w(y);if(m)l.done=y>=h;else{let _=y===0?p:0;x<1&&(_=y===0?Dt(p):Tp(w,y,N));const A=Math.abs(_)<=r,O=Math.abs(o-N)<=n;l.done=A&&O}return l.value=l.done?o:N,l},toString:()=>{const y=Math.min(Sc(S),oa),N=Pp(_=>S.next(y*_).value,y,30);return y+"ms "+N},toTransition:()=>{}};return S}la.applyToOptions=t=>{const e=$1(t,100,la);return t.ease=e.ease,t.duration=Dt(e.duration),t.type="keyframes",t};function cl({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},m=A=>l!==void 0&&A<l||c!==void 0&&A>c,p=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let x=s*e;const g=h+x,v=o===void 0?g:o(g);v!==g&&(x=v-h);const j=A=>-x*Math.exp(-A/r),w=A=>v+j(A),S=A=>{const O=j(A),C=w(A);f.done=Math.abs(O)<=d,f.value=f.done?v:C};let y,N;const _=A=>{m(f.value)&&(y=A,N=la({keyframes:[f.value,p(f.value)],velocity:Tp(w,A,f.value),damping:n,stiffness:a,restDelta:d,restSpeed:u}))};return _(0),{calculatedDuration:null,next:A=>{let O=!1;return!N&&y===void 0&&(O=!0,S(A),_(A)),y!==void 0&&A>=y?N.next(A-y):(!O&&S(A),f)}}}function H1(t,e,s){const r=[],n=s||Gt.mix||Cp,a=t.length-1;for(let o=0;o<a;o++){let l=n(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||tt:e;l=Yn(c,l)}r.push(l)}return r}function _c(t,e,{clamp:s=!0,ease:r,mixer:n}={}){const a=t.length;if(xn(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=H1(e,r,n),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=xr(t[h],t[h+1],u);return l[h](f)};return s?u=>d(Bt(t[0],t[a-1],u)):d}function K1(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const n=xr(0,e,r);t.push(Pe(s,1,n))}}function Ap(t){const e=[0];return K1(e,t.length-1),e}function G1(t,e){return t.map(s=>s*e)}function J1(t,e){return t.map(()=>e||xp).splice(0,t.length-1)}function on({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const n=l1(r)?r.map(su):su(r),a={done:!1,value:e[0]},o=G1(s&&s.length===e.length?s:Ap(e),t),l=_c(o,e,{ease:Array.isArray(n)?n:J1(e,n)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const Z1=t=>t!==null;function Nc(t,{repeat:e,repeatType:s="loop"},r,n=1){const a=t.filter(Z1),l=n<0||e&&s!=="loop"&&e%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const Y1={decay:cl,inertia:cl,tween:on,keyframes:on,spring:la};function Ep(t){typeof t.type=="string"&&(t.type=Y1[t.type])}class kc{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const X1=t=>t/100;class Fa extends kc{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,n;const{motionValue:s}=this.options;s&&s.updatedAt!==Xe.now()&&this.tick(Xe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(n=(r=this.options).onStop)==null||n.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ep(e);const{type:s=on,repeat:r=0,repeatDelay:n=0,repeatType:a,velocity:o=0}=e;let{keyframes:l}=e;const c=s||on;c!==on&&typeof l[0]!="number"&&(this.mixKeyframes=Yn(X1,Cp(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Sc(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=d}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:r,totalDuration:n,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:m,type:p,onUpdate:x,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-n/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?v<0:v>n;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let w=this.currentTime,S=r;if(h){const A=Math.min(this.currentTime,n)/l;let O=Math.floor(A),C=A%1;!C&&A>=1&&(C=1),C===1&&O--,O=Math.min(O,h+1),!!(O%2)&&(f==="reverse"?(C=1-C,m&&(C-=m/l)):f==="mirror"&&(S=o)),w=Bt(0,1,C)*l}const y=j?{done:!1,value:u[0]}:S.next(w);a&&(y.value=a(y.value));let{done:N}=y;!j&&c!==null&&(N=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return _&&p!==cl&&(y.value=Nc(u,this.options,g,this.speed)),x&&x(y.value),_&&this.finish(),y}then(e,s){return this.finished.then(e,s)}get duration(){return $t(this.calculatedDuration)}get time(){return $t(this.currentTime)}set time(e){var s;e=Dt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xe.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=$t(this.currentTime))}play(){var n,a;if(this.isStopped)return;const{driver:e=D1,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(n=this.options).onPlay)==null||a.call(n);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function Q1(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Es=t=>t*180/Math.PI,dl=t=>{const e=Es(Math.atan2(t[1],t[0]));return ul(e)},eS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:dl,rotateZ:dl,skewX:t=>Es(Math.atan(t[1])),skewY:t=>Es(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ul=t=>(t=t%360,t<0&&(t+=360),t),lu=dl,cu=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),du=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),tS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cu,scaleY:du,scale:t=>(cu(t)+du(t))/2,rotateX:t=>ul(Es(Math.atan2(t[6],t[5]))),rotateY:t=>ul(Es(Math.atan2(-t[2],t[0]))),rotateZ:lu,rotate:lu,skewX:t=>Es(Math.atan(t[4])),skewY:t=>Es(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function hl(t){return t.includes("scale")?1:0}function fl(t,e){if(!t||t==="none")return hl(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,n;if(s)r=tS,n=s;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=eS,n=l}if(!n)return hl(e);const a=r[e],o=n[1].split(",").map(rS);return typeof a=="function"?a(o):o[a]}const sS=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return fl(s,e)};function rS(t){return parseFloat(t.trim())}const Ir=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lr=new Set(Ir),uu=t=>t===Or||t===H,nS=new Set(["x","y","z"]),iS=Ir.filter(t=>!nS.has(t));function aS(t){const e=[];return iS.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const Os={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>fl(e,"x"),y:(t,{transform:e})=>fl(e,"y")};Os.translateX=Os.x;Os.translateY=Os.y;const Is=new Set;let ml=!1,pl=!1,gl=!1;function Rp(){if(pl){const t=Array.from(Is).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const n=aS(r);n.length&&(s.set(r,n),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const n=s.get(r);n&&n.forEach(([a,o])=>{var l;(l=r.getValue(a))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pl=!1,ml=!1,Is.forEach(t=>t.complete(gl)),Is.clear()}function Op(){Is.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(pl=!0)})}function oS(){gl=!0,Op(),Rp(),gl=!1}class Cc{constructor(e,s,r,n,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=n,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Is.add(this),ml||(ml=!0,ye.read(Op),ye.resolveKeyframes(Rp))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:n}=this;if(e[0]===null){const a=n==null?void 0:n.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&s){const l=r.readValue(s,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),n&&a===void 0&&n.set(e[0])}Q1(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Is.delete(this)}cancel(){this.state==="scheduled"&&(Is.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lS=t=>t.startsWith("--");function cS(t,e,s){lS(e)?t.style.setProperty(e,s):t.style[e]=s}const Ip=fc(()=>window.ScrollTimeline!==void 0),dS={};function uS(t,e){const s=fc(t);return()=>dS[e]??s()}const Lp=uS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zr=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,hu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zr([0,.65,.55,1]),circOut:Zr([.55,0,1,.45]),backIn:Zr([.31,.01,.66,-.59]),backOut:Zr([.33,1.53,.69,.99])};function Mp(t,e){if(t)return typeof t=="function"?Lp()?Pp(t,e):"ease-out":bp(t)?Zr(t):Array.isArray(t)?t.map(s=>Mp(s,e)||hu.easeOut):hu[t]}function hS(t,e,s,{delay:r=0,duration:n=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:s};c&&(u.offset=c);const h=Mp(l,n);Array.isArray(h)&&(u.easing=h);const f={delay:r,duration:n,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),t.animate(u,f)}function Dp(t){return typeof t=="function"&&"applyToOptions"in t}function fS({type:t,...e}){return Dp(t)&&Lp()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mS extends kc{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:r,keyframes:n,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,xn(typeof e.type!="string");const d=fS(e);this.animation=hS(s,r,n,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=Nc(n,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):cS(s,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,r;const e=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return $t(Number(e))}get time(){return $t(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Dt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Ip()?(this.animation.timeline=e,tt):s(this)}}const $p={anticipate:mp,backInOut:fp,circInOut:gp};function pS(t){return t in $p}function gS(t){typeof t.ease=="string"&&pS(t.ease)&&(t.ease=$p[t.ease])}const fu=10;class xS extends mS{constructor(e){gS(e),Ep(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:r,onComplete:n,element:a,...o}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const l=new Fa({...o,autoplay:!1}),c=Dt(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-fu).value,l.sample(c).value,fu),l.stop()}}const mu=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fs.test(t)||t==="0")&&!t.startsWith("url("));function bS(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function yS(t,e,s,r){const n=t[0];if(n===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=mu(n,e),l=mu(a,e);return!o||!l?!1:bS(t)||(s==="spring"||Dp(s))&&r}function xl(t){t.duration=0,t.type}const vS=new Set(["opacity","clipPath","filter","transform"]),wS=fc(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jS(t){var u;const{motionValue:e,name:s,repeatDelay:r,repeatType:n,damping:a,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return wS()&&s&&vS.has(s)&&(s!=="transform"||!d)&&!c&&!r&&n!=="mirror"&&a!==0&&o!=="inertia"}const SS=40;class _S extends kc{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var p;super(),this.stop=()=>{var x,g;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=Xe.now();const f={autoplay:e,delay:s,type:r,repeat:n,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:u,...h},m=(u==null?void 0:u.KeyframeResolver)||Cc;this.keyframeResolver=new m(l,(x,g,v)=>this.onKeyframesResolved(x,g,f,!v),c,d,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,s,r,n){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=Xe.now(),yS(e,a,o,l)||((Gt.instantAnimations||!c)&&(u==null||u(Nc(e,r,s))),e[0]=e[e.length-1],xl(r),r.repeat=0);const f={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>SS?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:e},m=!d&&jS(f)?new xS({...f,element:f.motionValue.owner.current}):new Fa(f);m.finished.then(()=>this.notifyFinished()).catch(tt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),oS()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const NS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kS(t){const e=NS.exec(t);if(!e)return[,];const[,s,r,n]=e;return[`--${s??r}`,n]}function Fp(t,e,s=1){const[r,n]=kS(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return ap(o)?parseFloat(o):o}return yc(n)?Fp(n,e,s+1):n}function Pc(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Vp=new Set(["width","height","top","left","right","bottom",...Ir]),CS={test:t=>t==="auto",parse:t=>t},Bp=t=>e=>e.test(t),Up=[Or,H,Ft,as,w1,v1,CS],pu=t=>Up.find(Bp(t));function PS(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lp(t):!0}const TS=new Set(["brightness","contrast","saturate","opacity"]);function AS(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(vc)||[];if(!r)return t;const n=s.replace(r,"");let a=TS.has(e)?1:0;return r!==s&&(a*=100),e+"("+a+n+")"}const ES=/\b([a-z-]*)\(.*?\)/gu,bl={...fs,getAnimatableNone:t=>{const e=t.match(ES);return e?e.map(AS).join(" "):t}},gu={...Or,transform:Math.round},RS={rotate:as,rotateX:as,rotateY:as,rotateZ:as,scale:ki,scaleX:ki,scaleY:ki,scaleZ:ki,skew:as,skewX:as,skewY:as,distance:H,translateX:H,translateY:H,translateZ:H,x:H,y:H,z:H,perspective:H,transformPerspective:H,opacity:bn,originX:ru,originY:ru,originZ:H},Tc={borderWidth:H,borderTopWidth:H,borderRightWidth:H,borderBottomWidth:H,borderLeftWidth:H,borderRadius:H,radius:H,borderTopLeftRadius:H,borderTopRightRadius:H,borderBottomRightRadius:H,borderBottomLeftRadius:H,width:H,maxWidth:H,height:H,maxHeight:H,top:H,right:H,bottom:H,left:H,padding:H,paddingTop:H,paddingRight:H,paddingBottom:H,paddingLeft:H,margin:H,marginTop:H,marginRight:H,marginBottom:H,marginLeft:H,backgroundPositionX:H,backgroundPositionY:H,...RS,zIndex:gu,fillOpacity:bn,strokeOpacity:bn,numOctaves:gu},OS={...Tc,color:Ie,backgroundColor:Ie,outlineColor:Ie,fill:Ie,stroke:Ie,borderColor:Ie,borderTopColor:Ie,borderRightColor:Ie,borderBottomColor:Ie,borderLeftColor:Ie,filter:bl,WebkitFilter:bl},zp=t=>OS[t];function Wp(t,e){let s=zp(t);return s!==bl&&(s=fs),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const IS=new Set(["auto","none","0"]);function LS(t,e,s){let r=0,n;for(;r<t.length&&!n;){const a=t[r];typeof a=="string"&&!IS.has(a)&&yn(a).values.length&&(n=t[r]),r++}if(n&&s)for(const a of e)t[a]=Wp(s,n)}class MS extends Cc{constructor(e,s,r,n,a){super(e,s,r,n,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),yc(d))){const u=Fp(d,s.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Vp.has(r)||e.length!==2)return;const[n,a]=e,o=pu(n),l=pu(a);if(o!==l)if(uu(o)&&uu(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Os[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let n=0;n<e.length;n++)(e[n]===null||PS(e[n]))&&r.push(n);r.length&&LS(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Os[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const n=s[s.length-1];n!==void 0&&e.getValue(r,n).jump(n,!1)}measureEndState(){var l;const{element:e,name:s,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const n=e.getValue(s);n&&n.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Os[s](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function qp(t,e,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const n=document.querySelectorAll(t);return n?Array.from(n):[]}return Array.from(t)}const Hp=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Kp(t){return op(t)&&"offsetHeight"in t}const xu=30,DS=t=>!isNaN(parseFloat(t)),ln={current:void 0};class $S{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const n=Xe.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Xe.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=DS(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new mc);const r=this.events[e].add(s);return e==="change"?()=>{r(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ln.current&&ln.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Xe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xu)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,xu);return pc(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tt(t,e){return new $S(t,e)}const{schedule:Ac}=yp(queueMicrotask,!1),kt={x:!1,y:!1};function Gp(){return kt.x||kt.y}function FS(t){return t==="x"||t==="y"?kt[t]?null:(kt[t]=!0,()=>{kt[t]=!1}):kt.x||kt.y?null:(kt.x=kt.y=!0,()=>{kt.x=kt.y=!1})}function Jp(t,e){const s=qp(t),r=new AbortController,n={passive:!0,...e,signal:r.signal};return[s,n,()=>r.abort()]}function bu(t){return!(t.pointerType==="touch"||Gp())}function VS(t,e,s={}){const[r,n,a]=Jp(t,s),o=l=>{if(!bu(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{bu(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,n)};return r.forEach(l=>{l.addEventListener("pointerenter",o,n)}),a}const Zp=(t,e)=>e?t===e?!0:Zp(t,e.parentElement):!1,Ec=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,BS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function US(t){return BS.has(t.tagName)||t.tabIndex!==-1}const Ui=new WeakSet;function yu(t){return e=>{e.key==="Enter"&&t(e)}}function So(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zS=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=yu(()=>{if(Ui.has(s))return;So(s,"down");const n=yu(()=>{So(s,"up")}),a=()=>So(s,"cancel");s.addEventListener("keyup",n,e),s.addEventListener("blur",a,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function vu(t){return Ec(t)&&!Gp()}function WS(t,e,s={}){const[r,n,a]=Jp(t,s),o=l=>{const c=l.currentTarget;if(!vu(l))return;Ui.add(c);const d=e(c,l),u=(m,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Ui.has(c)&&Ui.delete(c),vu(m)&&typeof d=="function"&&d(m,{success:p})},h=m=>{u(m,c===window||c===document||s.useGlobalTarget||Zp(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,n),window.addEventListener("pointercancel",f,n)};return r.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,n),Kp(l)&&(l.addEventListener("focus",d=>zS(d,n)),!US(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function Rc(t){return op(t)&&"ownerSVGElement"in t}const zi=new WeakMap;let os;const Yp=(t,e,s)=>(r,n)=>n&&n[0]?n[0][t+"Size"]:Rc(r)&&"getBBox"in r?r.getBBox()[e]:r[s],qS=Yp("inline","width","offsetWidth"),HS=Yp("block","height","offsetHeight");function KS({target:t,borderBoxSize:e}){var s;(s=zi.get(t))==null||s.forEach(r=>{r(t,{get width(){return qS(t,e)},get height(){return HS(t,e)}})})}function GS(t){t.forEach(KS)}function JS(){typeof ResizeObserver>"u"||(os=new ResizeObserver(GS))}function ZS(t,e){os||JS();const s=qp(t);return s.forEach(r=>{let n=zi.get(r);n||(n=new Set,zi.set(r,n)),n.add(e),os==null||os.observe(r)}),()=>{s.forEach(r=>{const n=zi.get(r);n==null||n.delete(e),n!=null&&n.size||os==null||os.unobserve(r)})}}const Wi=new Set;let nr;function YS(){nr=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Wi.forEach(e=>e(t))},window.addEventListener("resize",nr)}function XS(t){return Wi.add(t),nr||YS(),()=>{Wi.delete(t),!Wi.size&&typeof nr=="function"&&(window.removeEventListener("resize",nr),nr=void 0)}}function QS(t,e){return typeof t=="function"?XS(t):ZS(t,e)}function Xp(t,e){let s;const r=()=>{const{currentTime:n}=e,o=(n===null?0:n.value)/100;s!==o&&t(o),s=o};return ye.preUpdate(r,!0),()=>Ot(r)}function e_(t){return Rc(t)&&t.tagName==="svg"}function t_(...t){const e=!Array.isArray(t[0]),s=e?0:-1,r=t[0+s],n=t[1+s],a=t[2+s],o=t[3+s],l=_c(n,a,o);return e?l(r):l}const Be=t=>!!(t&&t.getVelocity);function s_(t,e,s){const r=t.get();let n=null,a=r,o;const l=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,c=()=>{n&&(n.stop(),n=null)},d=()=>{c(),n=new Fa({keyframes:[ju(t.get()),ju(a)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:o})};if(t.attach((u,h)=>(a=u,o=f=>h(wu(f,l)),ye.postRender(d),t.get()),c),Be(e)){const u=e.on("change",f=>t.set(wu(f,l))),h=t.on("destroy",u);return()=>{u(),h()}}return c}function wu(t,e){return e?t+e:t}function ju(t){return typeof t=="number"?t:parseFloat(t)}const r_=[...Up,Ie,fs],n_=t=>r_.find(Bp(t)),Va=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function i_(t=!0){const e=b.useContext(dc);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:n}=e,a=b.useId();b.useEffect(()=>{if(t)return n(a)},[t]);const o=b.useCallback(()=>t&&r&&r(a),[a,r,t]);return!s&&r?[!1,o]:[!0]}const Qp=b.createContext({strict:!1}),Su={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},br={};for(const t in Su)br[t]={isEnabled:e=>Su[t].some(s=>!!e[s])};function a_(t){for(const e in t)br[e]={...br[e],...t[e]}}const o_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ca(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||o_.has(t)}let eg=t=>!ca(t);function l_(t){typeof t=="function"&&(eg=e=>e.startsWith("on")?!ca(e):t(e))}try{l_(require("@emotion/is-prop-valid").default)}catch{}function c_(t,e,s){const r={};for(const n in t)n==="values"&&typeof t.values=="object"||(eg(n)||s===!0&&ca(n)||!e&&!ca(n)||t.draggable&&n.startsWith("onDrag"))&&(r[n]=t[n]);return r}const Ba=b.createContext({});function Ua(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vn(t){return typeof t=="string"||Array.isArray(t)}const Oc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ic=["initial",...Oc];function za(t){return Ua(t.animate)||Ic.some(e=>vn(t[e]))}function tg(t){return!!(za(t)||t.variants)}function d_(t,e){if(za(t)){const{initial:s,animate:r}=t;return{initial:s===!1||vn(s)?s:void 0,animate:vn(r)?r:void 0}}return t.inherit!==!1?e:{}}function u_(t){const{initial:e,animate:s}=d_(t,b.useContext(Ba));return b.useMemo(()=>({initial:e,animate:s}),[_u(e),_u(s)])}function _u(t){return Array.isArray(t)?t.join(" "):t}const wn={};function h_(t){for(const e in t)wn[e]=t[e],bc(e)&&(wn[e].isCSSVariable=!0)}function sg(t,{layout:e,layoutId:s}){return Lr.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!wn[t]||t==="opacity")}const f_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},m_=Ir.length;function p_(t,e,s){let r="",n=!0;for(let a=0;a<m_;a++){const o=Ir[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=Hp(l,Tc[o]);if(!c){n=!1;const u=f_[o]||o;r+=`${u}(${d}) `}s&&(e[o]=d)}}return r=r.trim(),s?r=s(e,n?"":r):n&&(r="none"),r}function Lc(t,e,s){const{style:r,vars:n,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Lr.has(c)){o=!0;continue}else if(bc(c)){n[c]=d;continue}else{const u=Hp(d,Tc[c]);c.startsWith("origin")?(l=!0,a[c]=u):r[c]=u}}if(e.transform||(o||s?r.transform=p_(e,t.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;r.transformOrigin=`${c} ${d} ${u}`}}const Mc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rg(t,e,s){for(const r in e)!Be(e[r])&&!sg(r,s)&&(t[r]=e[r])}function g_({transformTemplate:t},e){return b.useMemo(()=>{const s=Mc();return Lc(s,e,t),Object.assign({},s.vars,s.style)},[e])}function x_(t,e){const s=t.style||{},r={};return rg(r,s,t),Object.assign(r,g_(t,e)),r}function b_(t,e){const s={},r=x_(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const y_={offset:"stroke-dashoffset",array:"stroke-dasharray"},v_={offset:"strokeDashoffset",array:"strokeDasharray"};function w_(t,e,s=1,r=0,n=!0){t.pathLength=1;const a=n?y_:v_;t[a.offset]=H.transform(-r);const o=H.transform(e),l=H.transform(s);t[a.array]=`${o} ${l}`}function ng(t,{attrX:e,attrY:s,attrScale:r,pathLength:n,pathSpacing:a=1,pathOffset:o=0,...l},c,d,u){if(Lc(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),s!==void 0&&(h.y=s),r!==void 0&&(h.scale=r),n!==void 0&&w_(h,n,a,o,!1)}const ig=()=>({...Mc(),attrs:{}}),ag=t=>typeof t=="string"&&t.toLowerCase()==="svg";function j_(t,e,s,r){const n=b.useMemo(()=>{const a=ig();return ng(a,e,ag(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};rg(a,t.style,t),n.style={...a,...n.style}}return n}const S_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dc(t){return typeof t!="string"||t.includes("-")?!1:!!(S_.indexOf(t)>-1||/[A-Z]/u.test(t))}function __(t,e,s,{latestValues:r},n,a=!1){const l=(Dc(t)?j_:b_)(e,r,n,t),c=c_(e,typeof t=="string",a),d=t!==b.Fragment?{...c,...l,ref:s}:{},{children:u}=e,h=b.useMemo(()=>Be(u)?u.get():u,[u]);return b.createElement(t,{...d,children:h})}function Nu(t){const e=[{},{}];return t==null||t.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function $c(t,e,s,r){if(typeof e=="function"){const[n,a]=Nu(r);e=e(s!==void 0?s:t.custom,n,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[n,a]=Nu(r);e=e(s!==void 0?s:t.custom,n,a)}return e}function qi(t){return Be(t)?t.get():t}function N_({scrapeMotionValuesFromProps:t,createRenderState:e},s,r,n){return{latestValues:k_(s,r,n,t),renderState:e()}}function k_(t,e,s,r){const n={},a=r(t,{});for(const f in a)n[f]=qi(a[f]);let{initial:o,animate:l}=t;const c=za(t),d=tg(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Ua(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const p=$c(t,f[m]);if(p){const{transitionEnd:x,transition:g,...v}=p;for(const j in v){let w=v[j];if(Array.isArray(w)){const S=u?w.length-1:0;w=w[S]}w!==null&&(n[j]=w)}for(const j in x)n[j]=x[j]}}}return n}const og=t=>(e,s)=>{const r=b.useContext(Ba),n=b.useContext(dc),a=()=>N_(t,e,r,n);return s?a():$a(a)};function Fc(t,e,s){var a;const{style:r}=t,n={};for(const o in r)(Be(r[o])||e.style&&Be(e.style[o])||sg(o,t)||((a=s==null?void 0:s.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(n[o]=r[o]);return n}const C_=og({scrapeMotionValuesFromProps:Fc,createRenderState:Mc});function lg(t,e,s){const r=Fc(t,e,s);for(const n in t)if(Be(t[n])||Be(e[n])){const a=Ir.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=t[n]}return r}const P_=og({scrapeMotionValuesFromProps:lg,createRenderState:ig}),T_=Symbol.for("motionComponentSymbol");function ir(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function A_(t,e,s){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):ir(s)&&(s.current=r))},[e])}const Vc=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),E_="framerAppearId",cg="data-"+Vc(E_),dg=b.createContext({});function R_(t,e,s,r,n){var x,g;const{visualElement:a}=b.useContext(Ba),o=b.useContext(Qp),l=b.useContext(dc),c=b.useContext(Va).reducedMotion,d=b.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=b.useContext(dg);u&&!u.projection&&n&&(u.type==="html"||u.type==="svg")&&O_(d.current,s,n,h);const f=b.useRef(!1);b.useInsertionEffect(()=>{u&&f.current&&u.update(s,l)});const m=s[cg],p=b.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,m)));return cc(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,m)}),p.current=!1),u.enteringChildren=void 0)}),u}function O_(t,e,s,r){const{layoutId:n,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:ug(t.parent)),t.projection.setOptions({layoutId:n,layout:a,alwaysMeasureLayout:!!o||l&&ir(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function ug(t){if(t)return t.options.allowProjection!==!1?t.projection:ug(t.parent)}function _o(t,{forwardMotionProps:e=!1}={},s,r){s&&a_(s);const n=Dc(t)?P_:C_;function a(l,c){let d;const u={...b.useContext(Va),...l,layoutId:I_(l)},{isStatic:h}=u,f=u_(l),m=n(l,h);if(!h&&lc){L_();const p=M_(u);d=p.MeasureLayout,f.visualElement=R_(t,m,u,r,p.ProjectionNode)}return i.jsxs(Ba.Provider,{value:f,children:[d&&f.visualElement?i.jsx(d,{visualElement:f.visualElement,...u}):null,__(t,l,A_(m,f.visualElement,c),m,h,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=b.forwardRef(a);return o[T_]=t,o}function I_({layoutId:t}){const e=b.useContext(ip).id;return e&&t!==void 0?e+"-"+t:t}function L_(t,e){b.useContext(Qp).strict}function M_(t){const{drag:e,layout:s}=br;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function D_(t,e){if(typeof Proxy>"u")return _o;const s=new Map,r=(a,o)=>_o(a,o,t,e),n=(a,o)=>r(a,o);return new Proxy(n,{get:(a,o)=>o==="create"?r:(s.has(o)||s.set(o,_o(o,void 0,t,e)),s.get(o))})}function hg({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function $_({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function F_(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function No(t){return t===void 0||t===1}function yl({scale:t,scaleX:e,scaleY:s}){return!No(t)||!No(e)||!No(s)}function ks(t){return yl(t)||fg(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fg(t){return ku(t.x)||ku(t.y)}function ku(t){return t&&t!=="0%"}function da(t,e,s){const r=t-s,n=e*r;return s+n}function Cu(t,e,s,r,n){return n!==void 0&&(t=da(t,n,r)),da(t,s,r)+e}function vl(t,e=0,s=1,r,n){t.min=Cu(t.min,e,s,r,n),t.max=Cu(t.max,e,s,r,n)}function mg(t,{x:e,y:s}){vl(t.x,e.translate,e.scale,e.originPoint),vl(t.y,s.translate,s.scale,s.originPoint)}const Pu=.999999999999,Tu=1.0000000000001;function V_(t,e,s,r=!1){const n=s.length;if(!n)return;e.x=e.y=1;let a,o;for(let l=0;l<n;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&or(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,mg(t,o)),r&&ks(a.latestValues)&&or(t,a.latestValues))}e.x<Tu&&e.x>Pu&&(e.x=1),e.y<Tu&&e.y>Pu&&(e.y=1)}function ar(t,e){t.min=t.min+e,t.max=t.max+e}function Au(t,e,s,r,n=.5){const a=Pe(t.min,t.max,n);vl(t,e,s,a,r)}function or(t,e){Au(t.x,e.x,e.scaleX,e.scale,e.originX),Au(t.y,e.y,e.scaleY,e.scale,e.originY)}function pg(t,e){return hg(F_(t.getBoundingClientRect(),e))}function B_(t,e,s){const r=pg(t,s),{scroll:n}=e;return n&&(ar(r.x,n.offset.x),ar(r.y,n.offset.y)),r}const Eu=()=>({translate:0,scale:1,origin:0,originPoint:0}),lr=()=>({x:Eu(),y:Eu()}),Ru=()=>({min:0,max:0}),Re=()=>({x:Ru(),y:Ru()}),wl={current:null},gg={current:!1};function U_(){if(gg.current=!0,!!lc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wl.current=t.matches;t.addEventListener("change",e),e()}else wl.current=!1}const z_=new WeakMap;function W_(t,e,s){for(const r in e){const n=e[r],a=s[r];if(Be(n))t.addValue(r,n);else if(Be(a))t.addValue(r,Tt(n,{owner:t}));else if(a!==n)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=t.getStaticValue(r);t.addValue(r,Tt(o!==void 0?o:n,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const Ou=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class q_{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Xe.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ye.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=za(s),this.isVariantNode=tg(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Be(m)&&m.set(c[f])}}mount(e){var s;this.current=e,z_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),gg.current||U_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wl.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ot(this.notifyUpdate),Ot(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Lr.has(e);r&&this.onBindTransform&&this.onBindTransform();const n=s.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{n(),a&&a(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in br){const s=br[e];if(!s)continue;const{isEnabled:r,Feature:n}=s;if(!this.features[e]&&n&&r(this.props)&&(this.features[e]=new n(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Ou.length;r++){const n=Ou[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const a="on"+n,o=e[a];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=W_(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=Tt(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ap(r)||lp(r))?r=parseFloat(r):!n_(r)&&fs.test(s)&&(r=Wp(e,s)),this.setBaseTarget(e,Be(r)?r.get():r)),Be(r)?r.get():r}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var a;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=$c(this.props,s,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[e])}if(s&&r!==void 0)return r;const n=this.getBaseTargetFromProps(this.props,e);return n!==void 0&&!Be(n)?n:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new mc),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Ac.render(this.render)}}class xg extends q_{constructor(){super(...arguments),this.KeyframeResolver=MS}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Be(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function bg(t,{style:e,vars:s},r,n){const a=t.style;let o;for(o in e)a[o]=e[o];n==null||n.applyProjectionStyles(a,r);for(o in s)a.setProperty(o,s[o])}function H_(t){return window.getComputedStyle(t)}class K_ extends xg{constructor(){super(...arguments),this.type="html",this.renderInstance=bg}readValueFromInstance(e,s){var r;if(Lr.has(s))return(r=this.projection)!=null&&r.isProjecting?hl(s):sS(e,s);{const n=H_(e),a=(bc(s)?n.getPropertyValue(s):n[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:s}){return pg(e,s)}build(e,s,r){Lc(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return Fc(e,s,r)}}const yg=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function G_(t,e,s,r){bg(t,e,void 0,r);for(const n in e.attrs)t.setAttribute(yg.has(n)?n:Vc(n),e.attrs[n])}class J_ extends xg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Re}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Lr.has(s)){const r=zp(s);return r&&r.default||0}return s=yg.has(s)?s:Vc(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return lg(e,s,r)}build(e,s,r){ng(e,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,s,r,n){G_(e,s,r,n)}mount(e){this.isSVGTag=ag(e.tagName),super.mount(e)}}const Z_=(t,e)=>Dc(t)?new J_(e):new K_(e,{allowProjection:t!==b.Fragment});function hr(t,e,s){const r=t.getProps();return $c(r,e,s!==void 0?s:r.custom,t)}const jl=t=>Array.isArray(t);function Y_(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,Tt(s))}function X_(t){return jl(t)?t[t.length-1]||0:t}function Q_(t,e){const s=hr(t,e);let{transitionEnd:r={},transition:n={},...a}=s||{};a={...a,...r};for(const o in a){const l=X_(a[o]);Y_(t,o,l)}}function eN(t){return!!(Be(t)&&t.add)}function Sl(t,e){const s=t.getValue("willChange");if(eN(s))return s.add(e);if(!s&&Gt.WillChange){const r=new Gt.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function vg(t){return t.props[cg]}const tN=t=>t!==null;function sN(t,{repeat:e,repeatType:s="loop"},r){const n=t.filter(tN),a=e&&s!=="loop"&&e%2===1?0:n.length-1;return n[a]}const rN={type:"spring",stiffness:500,damping:25,restSpeed:10},nN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),iN={type:"keyframes",duration:.8},aN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oN=(t,{keyframes:e})=>e.length>2?iN:Lr.has(t)?t.startsWith("scale")?nN(e[1]):rN:aN;function lN({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:n,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Bc=(t,e,s,r={},n,a)=>o=>{const l=Pc(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Dt(c);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:n};lN(l)||Object.assign(u,oN(t,u)),u.duration&&(u.duration=Dt(u.duration)),u.repeatDelay&&(u.repeatDelay=Dt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(xl(u),u.delay===0&&(h=!0)),(Gt.instantAnimations||Gt.skipAnimations)&&(h=!0,xl(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!a&&e.get()!==void 0){const f=sN(u.keyframes,l);if(f!==void 0){ye.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new Fa(u):new _S(u)};function cN({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function wg(t,e,{delay:s=0,transitionOverride:r,type:n}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const c=[],d=n&&t.animationState&&t.animationState.getState()[n];for(const u in l){const h=t.getValue(u,t.latestValues[u]??null),f=l[u];if(f===void 0||d&&cN(d,u))continue;const m={delay:s,...Pc(a||{},u)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===p&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const v=vg(t);if(v){const j=window.MotionHandoffAnimation(v,u,ye);j!==null&&(m.startTime=j,x=!0)}}Sl(t,u),h.start(Bc(u,h,f,t.shouldReduceMotion&&Vp.has(u)?{type:!1}:m,t,x));const g=h.animation;g&&c.push(g)}return o&&Promise.all(c).then(()=>{ye.update(()=>{o&&Q_(t,o)})}),c}function jg(t,e,s,r=0,n=1){const a=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(e),o=t.size,l=(o-1)*r;return typeof s=="function"?s(a,o):n===1?a*r:l-a*r}function _l(t,e,s={}){var c;const r=hr(t,e,s.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:n=t.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(n=s.transitionOverride);const a=r?()=>Promise.all(wg(t,r,s)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=n;return dN(t,e,d,u,h,f,s)}:()=>Promise.resolve(),{when:l}=n;if(l){const[d,u]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>u())}else return Promise.all([a(),o(s.delay)])}function dN(t,e,s=0,r=0,n=0,a=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(_l(c,e,{...o,delay:s+(typeof r=="function"?0:r)+jg(t.variantChildren,c,r,n,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function uN(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const n=e.map(a=>_l(t,a,s));r=Promise.all(n)}else if(typeof e=="string")r=_l(t,e,s);else{const n=typeof e=="function"?hr(t,e,s.custom):e;r=Promise.all(wg(t,n,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Sg(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}const hN=Ic.length;function _g(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?_g(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<hN;s++){const r=Ic[s],n=t.props[r];(vn(n)||n===!1)&&(e[r]=n)}return e}const fN=[...Oc].reverse(),mN=Oc.length;function pN(t){return e=>Promise.all(e.map(({animation:s,options:r})=>uN(t,s,r)))}function gN(t){let e=pN(t),s=Iu(),r=!0;const n=c=>(d,u)=>{var f;const h=hr(t,u,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:p,...x}=h;d={...d,...x,...p}}return d};function a(c){e=c(t)}function o(c){const{props:d}=t,u=_g(t.parent)||{},h=[],f=new Set;let m={},p=1/0;for(let g=0;g<mN;g++){const v=fN[g],j=s[v],w=d[v]!==void 0?d[v]:u[v],S=vn(w),y=v===c?j.isActive:null;y===!1&&(p=g);let N=w===u[v]&&w!==d[v]&&S;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),j.protectedKeys={...m},!j.isActive&&y===null||!w&&!j.prevProp||Ua(w)||typeof w=="boolean")continue;const _=xN(j.prevProp,w);let A=_||v===c&&j.isActive&&!N&&S||g>p&&S,O=!1;const C=Array.isArray(w)?w:[w];let E=C.reduce(n(v),{});y===!1&&(E={});const{prevResolvedValues:$={}}=j,se={...$,...E},G=U=>{A=!0,f.has(U)&&(O=!0,f.delete(U)),j.needsAnimating[U]=!0;const q=t.getValue(U);q&&(q.liveStyle=!1)};for(const U in se){const q=E[U],V=$[U];if(m.hasOwnProperty(U))continue;let pe=!1;jl(q)&&jl(V)?pe=!Sg(q,V):pe=q!==V,pe?q!=null?G(U):f.add(U):q!==void 0&&f.has(U)?G(U):j.protectedKeys[U]=!0}j.prevProp=w,j.prevResolvedValues=E,j.isActive&&(m={...m,...E}),r&&t.blockInitialAnimation&&(A=!1);const P=N&&_;A&&(!P||O)&&h.push(...C.map(U=>{const q={type:v};if(typeof U=="string"&&r&&!P&&t.manuallyAnimateOnMount&&t.parent){const{parent:V}=t,pe=hr(V,U);if(V.enteringChildren&&pe){const{delayChildren:k}=pe.transition||{};q.delay=jg(V.enteringChildren,t,k)}}return{animation:U,options:q}}))}if(f.size){const g={};if(typeof d.initial!="boolean"){const v=hr(t,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(g.transition=v.transition)}f.forEach(v=>{const j=t.getBaseTarget(v),w=t.getValue(v);w&&(w.liveStyle=!0),g[v]=j??null}),h.push({animation:g})}let x=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function l(c,d){var h;if(s[c].isActive===d)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,d)}),s[c].isActive=d;const u=o(c);for(const f in s)s[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=Iu(),r=!0}}}function xN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Sg(e,t):!1}function _s(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Iu(){return{animate:_s(!0),whileInView:_s(),whileHover:_s(),whileTap:_s(),whileDrag:_s(),whileFocus:_s(),exit:_s()}}class ys{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bN extends ys{constructor(e){super(e),e.animationState||(e.animationState=gN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ua(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let yN=0;class vN extends ys{constructor(){super(...arguments),this.id=yN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const n=this.node.animationState.setActive("exit",!e);s&&!e&&n.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const wN={animation:{Feature:bN},exit:{Feature:vN}};function jn(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}function ei(t){return{point:{x:t.pageX,y:t.pageY}}}const jN=t=>e=>Ec(e)&&t(e,ei(e));function cn(t,e,s,r){return jn(t,e,jN(s),r)}const Ng=1e-4,SN=1-Ng,_N=1+Ng,kg=.01,NN=0-kg,kN=0+kg;function Ke(t){return t.max-t.min}function CN(t,e,s){return Math.abs(t-e)<=s}function Lu(t,e,s,r=.5){t.origin=r,t.originPoint=Pe(e.min,e.max,t.origin),t.scale=Ke(s)/Ke(e),t.translate=Pe(s.min,s.max,t.origin)-t.originPoint,(t.scale>=SN&&t.scale<=_N||isNaN(t.scale))&&(t.scale=1),(t.translate>=NN&&t.translate<=kN||isNaN(t.translate))&&(t.translate=0)}function dn(t,e,s,r){Lu(t.x,e.x,s.x,r?r.originX:void 0),Lu(t.y,e.y,s.y,r?r.originY:void 0)}function Mu(t,e,s){t.min=s.min+e.min,t.max=t.min+Ke(e)}function PN(t,e,s){Mu(t.x,e.x,s.x),Mu(t.y,e.y,s.y)}function Du(t,e,s){t.min=e.min-s.min,t.max=t.min+Ke(e)}function un(t,e,s){Du(t.x,e.x,s.x),Du(t.y,e.y,s.y)}function ht(t){return[t("x"),t("y")]}const Cg=({current:t})=>t?t.ownerDocument.defaultView:null,$u=(t,e)=>Math.abs(t-e);function TN(t,e){const s=$u(t.x,e.x),r=$u(t.y,e.y);return Math.sqrt(s**2+r**2)}class Pg{constructor(e,s,{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Co(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=TN(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:x}=f,{timestamp:g}=Ve;this.history.push({...x,timestamp:g});const{onStart:v,onMove:j}=this.handlers;m||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ko(m,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Co(f.type==="pointercancel"?this.lastMoveEventInfo:ko(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),x&&x(f,v)},!Ec(e))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=n||window;const l=ei(e),c=ko(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=Ve;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=s;h&&h(e,Co(c,this.history)),this.removeListeners=Yn(cn(this.contextWindow,"pointermove",this.handlePointerMove),cn(this.contextWindow,"pointerup",this.handlePointerUp),cn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ot(this.updatePoint)}}function ko(t,e){return e?{point:e(t.point)}:t}function Fu(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Co({point:t},e){return{point:t,delta:Fu(t,Tg(e)),offset:Fu(t,AN(e)),velocity:EN(e,.1)}}function AN(t){return t[0]}function Tg(t){return t[t.length-1]}function EN(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const n=Tg(t);for(;s>=0&&(r=t[s],!(n.timestamp-r.timestamp>Dt(e)));)s--;if(!r)return{x:0,y:0};const a=$t(n.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(n.x-r.x)/a,y:(n.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function RN(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?Pe(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?Pe(s,t,r.max):Math.min(t,s)),t}function Vu(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function ON(t,{top:e,left:s,bottom:r,right:n}){return{x:Vu(t.x,s,n),y:Vu(t.y,e,r)}}function Bu(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function IN(t,e){return{x:Bu(t.x,e.x),y:Bu(t.y,e.y)}}function LN(t,e){let s=.5;const r=Ke(t),n=Ke(e);return n>r?s=xr(e.min,e.max-r,t.min):r>n&&(s=xr(t.min,t.max-n,e.min)),Bt(0,1,s)}function MN(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const Nl=.35;function DN(t=Nl){return t===!1?t=0:t===!0&&(t=Nl),{x:Uu(t,"left","right"),y:Uu(t,"top","bottom")}}function Uu(t,e,s){return{min:zu(t,e),max:zu(t,s)}}function zu(t,e){return typeof t=="number"?t:t[e]||0}const $N=new WeakMap;class FN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(ei(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:p,onDragStart:x}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FS(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ht(v=>{let j=this.getAxisMotionValue(v).get()||0;if(Ft.test(j)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[v];S&&(j=Ke(S)*(parseFloat(j)/100))}}this.originPoint[v]=j}),x&&ye.postRender(()=>x(h,f)),Sl(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:x,onDrag:g}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=VN(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),g&&g(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ht(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Pg(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:Cg(this.visualElement)})}stop(e,s){const r=e||this.latestPointerEvent,n=s||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!n||!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ye.postRender(()=>l(r,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:n}=this.getProps();if(!r||!Ci(e,n,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=RN(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,n=this.constraints;e&&ir(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=ON(r.layoutBox,e):this.constraints=!1,this.elastic=DN(s),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ht(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=MN(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!ir(e))return!1;const r=e.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const a=B_(r,n.root,this.visualElement.getTransformPagePoint());let o=IN(n.layout.layoutBox,a);if(s){const l=s($_(o));this.hasMutatedConstraints=!!l,l&&(o=hg(l))}return o}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:n,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ht(u=>{if(!Ci(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=n?200:1e6,m=n?40:1e7,p={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(d).then(l)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return Sl(this.visualElement,e),r.start(Bc(e,r,0,s,this.visualElement,!1))}stopAnimation(){ht(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ht(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),n=r[s];return n||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ht(s=>{const{drag:r}=this.getProps();if(!Ci(s,r,this.currentDirection))return;const{projection:n}=this.visualElement,a=this.getAxisMotionValue(s);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[s];a.set(e[s]-Pe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!ir(s)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};ht(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();n[o]=LN({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ht(o=>{if(!Ci(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Pe(c,d,n[o]))})}addListeners(){if(!this.visualElement.current)return;$N.set(this.visualElement,this);const e=this.visualElement.current,s=cn(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ir(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,a=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),ye.read(r);const o=jn(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ht(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:a=!1,dragElastic:o=Nl,dragMomentum:l=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:n,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Ci(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function VN(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class BN extends ys{constructor(e){super(e),this.removeGroupControls=tt,this.removeListeners=tt,this.controls=new FN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wu=t=>(e,s)=>{t&&ye.postRender(()=>t(e,s))};class UN extends ys{constructor(){super(...arguments),this.removePointerDownListener=tt}onPointerDown(e){this.session=new Pg(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Cg(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:Wu(e),onStart:Wu(s),onMove:r,onEnd:(a,o)=>{delete this.session,n&&ye.postRender(()=>n(a,o))}}}mount(){this.removePointerDownListener=cn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qu(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zr={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(H.test(t))t=parseFloat(t);else return t;const s=qu(t,e.target.x),r=qu(t,e.target.y);return`${s}% ${r}%`}},zN={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,n=fs.parse(t);if(n.length>5)return r;const a=fs.createTransformer(t),o=typeof n[0]!="number"?1:0,l=s.x.scale*e.x,c=s.y.scale*e.y;n[0+o]/=l,n[1+o]/=c;const d=Pe(l,c,.5);return typeof n[2+o]=="number"&&(n[2+o]/=d),typeof n[3+o]=="number"&&(n[3+o]/=d),a(n)}};let Po=!1;class WN extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:n}=this.props,{projection:a}=e;h_(qN),a&&(s.group&&s.group.add(a),r&&r.register&&n&&r.register(a),Po&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Hi.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:n,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,Po=!0,n||e.layoutDependency!==s||s===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||ye.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ac.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:n}=e;Po=!0,n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ag(t){const[e,s]=i_(),r=b.useContext(ip);return i.jsx(WN,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(dg),isPresent:e,safeToRemove:s})}const qN={borderRadius:{...zr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zr,borderTopRightRadius:zr,borderBottomLeftRadius:zr,borderBottomRightRadius:zr,boxShadow:zN};function HN(t,e,s){const r=Be(t)?t:Tt(t);return r.start(Bc("",r,e,s)),r.animation}const KN=(t,e)=>t.depth-e.depth;class GN{constructor(){this.children=[],this.isDirty=!1}add(e){uc(this.children,e),this.isDirty=!0}remove(e){hc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KN),this.isDirty=!1,this.children.forEach(e)}}function JN(t,e){const s=Xe.now(),r=({timestamp:n})=>{const a=n-s;a>=e&&(Ot(r),t(a-e))};return ye.setup(r,!0),()=>Ot(r)}const Eg=["TopLeft","TopRight","BottomLeft","BottomRight"],ZN=Eg.length,Hu=t=>typeof t=="string"?parseFloat(t):t,Ku=t=>typeof t=="number"||H.test(t);function YN(t,e,s,r,n,a){n?(t.opacity=Pe(0,s.opacity??1,XN(r)),t.opacityExit=Pe(e.opacity??1,0,QN(r))):a&&(t.opacity=Pe(e.opacity??1,s.opacity??1,r));for(let o=0;o<ZN;o++){const l=`border${Eg[o]}Radius`;let c=Gu(e,l),d=Gu(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Ku(c)===Ku(d)?(t[l]=Math.max(Pe(Hu(c),Hu(d),r),0),(Ft.test(d)||Ft.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||s.rotate)&&(t.rotate=Pe(e.rotate||0,s.rotate||0,r))}function Gu(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const XN=Rg(0,.5,pp),QN=Rg(.5,.95,tt);function Rg(t,e,s){return r=>r<t?0:r>e?1:s(xr(t,e,r))}function Ju(t,e){t.min=e.min,t.max=e.max}function ct(t,e){Ju(t.x,e.x),Ju(t.y,e.y)}function Zu(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Yu(t,e,s,r,n){return t-=e,t=da(t,1/s,r),n!==void 0&&(t=da(t,1/n,r)),t}function ek(t,e=0,s=1,r=.5,n,a=t,o=t){if(Ft.test(e)&&(e=parseFloat(e),e=Pe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Pe(a.min,a.max,r);t===a&&(l-=e),t.min=Yu(t.min,e,s,l,n),t.max=Yu(t.max,e,s,l,n)}function Xu(t,e,[s,r,n],a,o){ek(t,e[s],e[r],e[n],e.scale,a,o)}const tk=["x","scaleX","originX"],sk=["y","scaleY","originY"];function Qu(t,e,s,r){Xu(t.x,e,tk,s?s.x:void 0,r?r.x:void 0),Xu(t.y,e,sk,s?s.y:void 0,r?r.y:void 0)}function eh(t){return t.translate===0&&t.scale===1}function Og(t){return eh(t.x)&&eh(t.y)}function th(t,e){return t.min===e.min&&t.max===e.max}function rk(t,e){return th(t.x,e.x)&&th(t.y,e.y)}function sh(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ig(t,e){return sh(t.x,e.x)&&sh(t.y,e.y)}function rh(t){return Ke(t.x)/Ke(t.y)}function nh(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class nk{constructor(){this.members=[]}add(e){uc(this.members,e),e.scheduleRender()}remove(e){if(hc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(n=>e===n);if(s===0)return!1;let r;for(let n=s;n>=0;n--){const a=this.members[n];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ik(t,e,s){let r="";const n=t.x.translate/e.x,a=t.y.translate/e.y,o=(s==null?void 0:s.z)||0;if((n||a||o)&&(r=`translate3d(${n}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:p}=s;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),p&&(r+=`skewY(${p}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const To=["","X","Y","Z"],ak=1e3;let ok=0;function Ao(t,e,s,r){const{latestValues:n}=e;n[t]&&(s[t]=n[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Lg(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=vg(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:n,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",ye,!(n||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Lg(r)}function Mg({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(o={},l=e==null?void 0:e()){this.id=ok++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(dk),this.nodes.forEach(mk),this.nodes.forEach(pk),this.nodes.forEach(uk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new GN)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new mc),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Rc(o)&&!e_(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;ye.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,u&&u(),u=JN(f,250),Hi.hasAnimatedSinceResize&&(Hi.hasAnimatedSinceResize=!1,this.nodes.forEach(oh)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||vk,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=d.getProps(),v=!this.targetLayout||!Ig(this.targetLayout,m),j=!h&&f;if(this.options.layoutRoot||this.resumeFrom||j||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...Pc(p,"layout"),onPlay:x,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,j)}else h||oh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ot(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gk),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Lg(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ih);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ah);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(fk),this.nodes.forEach(lk),this.nodes.forEach(ck)):this.nodes.forEach(ah),this.clearAllSnapshots();const l=Xe.now();Ve.delta=Bt(0,1e3/60,l-Ve.timestamp),Ve.timestamp=l,Ve.isProcessing=!0,bo.update.process(Ve),bo.preRender.process(Ve),bo.render.process(Ve),Ve.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ac.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hk),this.sharedNodes.forEach(xk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ke(this.snapshot.measuredBox.x)&&!Ke(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Og(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||ks(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),wk(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Re();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(jk))){const{scroll:u}=this.root;u&&(ar(l.x,u.offset.x),ar(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Re();if(ct(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ct(l,o),ar(l.x,h.offset.x),ar(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Re();ct(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&or(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ks(u.latestValues)&&or(c,u.latestValues)}return ks(this.latestValues)&&or(c,this.latestValues),c}removeTransform(o){const l=Re();ct(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ks(d.latestValues))continue;yl(d.latestValues)&&d.updateSnapshot();const u=Re(),h=d.measurePageBox();ct(u,h),Qu(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return ks(this.latestValues)&&Qu(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ve.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Ve.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),un(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ct(this.target,this.layout.layoutBox),mg(this.target,this.targetDelta)):ct(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),un(this.relativeTargetOrigin,this.target,m.target),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yl(this.parent.latestValues)||fg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ve.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ct(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;V_(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Re());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Zu(this.prevProjectionDelta.x,this.projectionDelta.x),Zu(this.prevProjectionDelta.y,this.projectionDelta.y)),dn(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!nh(this.projectionDelta.x,this.prevProjectionDelta.x)||!nh(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lr(),this.projectionDelta=lr(),this.projectionDeltaWithTransform=lr()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=lr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Re(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,x=m!==p,g=this.getStack(),v=!g||g.members.length<=1,j=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(yk));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const y=S/1e3;lh(h.x,o.x,y),lh(h.y,o.y,y),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(un(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bk(this.relativeTarget,this.relativeTargetOrigin,f,y),w&&rk(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Re()),ct(w,this.relativeTarget)),x&&(this.animationValues=u,YN(u,d,this.latestValues,y,j,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ot(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{Hi.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tt(0)),this.currentAnimation=HN(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ak),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Dg(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Re();const h=Ke(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Ke(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}ct(l,c),or(l,u),dn(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nk),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Ao("z",o,d,this.animationValues);for(let u=0;u<To.length;u++)Ao(`rotate${To[u]}`,o,d,this.animationValues),Ao(`skew${To[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=qi(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=qi(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ks(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=ik(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in wn){if(u[p]===void 0)continue;const{correct:x,applyTo:g,isCSSVariable:v}=wn[p],j=h==="none"?u[p]:x(u[p],d);if(g){const w=g.length;for(let S=0;S<w;S++)o[g[S]]=j}else v?this.options.visualElement.renderState.vars[p]=j:o[p]=j}this.options.layoutId&&(o.pointerEvents=d===this?qi(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(ih),this.root.sharedNodes.clear()}}}function lk(t){t.updateLayout()}function ck(t){var s;const e=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?ht(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Ke(f);f.min=r[h].min,f.max=f.min+m}):Dg(a,e.layoutBox,r)&&ht(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Ke(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=lr();dn(l,r,e.layoutBox);const c=lr();o?dn(c,t.applyTransform(n,!0),e.measuredBox):dn(c,r,e.layoutBox);const d=!Og(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=Re();un(p,e.layoutBox,f.layoutBox);const x=Re();un(x,r,m.layoutBox),Ig(p,x)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function dk(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hk(t){t.clearSnapshot()}function ih(t){t.clearMeasurements()}function ah(t){t.isLayoutDirty=!1}function fk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function oh(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mk(t){t.resolveTargetDelta()}function pk(t){t.calcProjection()}function gk(t){t.resetSkewAndRotation()}function xk(t){t.removeLeadSnapshot()}function lh(t,e,s){t.translate=Pe(e.translate,0,s),t.scale=Pe(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function ch(t,e,s,r){t.min=Pe(e.min,s.min,r),t.max=Pe(e.max,s.max,r)}function bk(t,e,s,r){ch(t.x,e.x,s.x,r),ch(t.y,e.y,s.y,r)}function yk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vk={duration:.45,ease:[.4,0,.1,1]},dh=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),uh=dh("applewebkit/")&&!dh("chrome/")?Math.round:tt;function hh(t){t.min=uh(t.min),t.max=uh(t.max)}function wk(t){hh(t.x),hh(t.y)}function Dg(t,e,s){return t==="position"||t==="preserve-aspect"&&!CN(rh(e),rh(s),.2)}function jk(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Sk=Mg({attachResizeListener:(t,e)=>jn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Eo={current:void 0},$g=Mg({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Eo.current){const t=new Sk({});t.mount(window),t.setOptions({layoutScroll:!0}),Eo.current=t}return Eo.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_k={pan:{Feature:UN},drag:{Feature:BN,ProjectionNode:$g,MeasureLayout:Ag}};function fh(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const n="onHover"+s,a=r[n];a&&ye.postRender(()=>a(e,ei(e)))}class Nk extends ys{mount(){const{current:e}=this.node;e&&(this.unmount=VS(e,(s,r)=>(fh(this.node,r,"Start"),n=>fh(this.node,n,"End"))))}unmount(){}}class kk extends ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yn(jn(this.node.current,"focus",()=>this.onFocus()),jn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mh(t,e,s){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const n="onTap"+(s==="End"?"":s),a=r[n];a&&ye.postRender(()=>a(e,ei(e)))}class Ck extends ys{mount(){const{current:e}=this.node;e&&(this.unmount=WS(e,(s,r)=>(mh(this.node,r,"Start"),(n,{success:a})=>mh(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kl=new WeakMap,Ro=new WeakMap,Pk=t=>{const e=kl.get(t.target);e&&e(t)},Tk=t=>{t.forEach(Pk)};function Ak({root:t,...e}){const s=t||document;Ro.has(s)||Ro.set(s,{});const r=Ro.get(s),n=JSON.stringify(e);return r[n]||(r[n]=new IntersectionObserver(Tk,{root:t,...e})),r[n]}function Ek(t,e,s){const r=Ak(e);return kl.set(t,s),r.observe(t),()=>{kl.delete(t),r.unobserve(t)}}const Rk={some:0,all:1};class Ok extends ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:n="some",once:a}=e,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:Rk[n]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return Ek(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(Ik(e,s))&&this.startObserver()}unmount(){}}function Ik({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const Lk={inView:{Feature:Ok},tap:{Feature:Ck},focus:{Feature:kk},hover:{Feature:Nk}},Mk={layout:{ProjectionNode:$g,MeasureLayout:Ag}},Dk={...wN,...Lk,..._k,...Mk},oe=D_(Dk,Z_),$k=50,ph=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Fk=()=>({time:0,x:ph(),y:ph()}),Vk={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function gh(t,e,s,r){const n=s[e],{length:a,position:o}=Vk[e],l=n.current,c=s.time;n.current=t[`scroll${o}`],n.scrollLength=t[`scroll${a}`]-t[`client${a}`],n.offset.length=0,n.offset[0]=0,n.offset[1]=n.scrollLength,n.progress=xr(0,n.scrollLength,n.current);const d=r-c;n.velocity=d>$k?0:pc(n.current-l,d)}function Bk(t,e,s){gh(t,"x",e,s),gh(t,"y",e,s),e.time=s}function Uk(t,e){const s={x:0,y:0};let r=t;for(;r&&r!==e;)if(Kp(r))s.x+=r.offsetLeft,s.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const n=r.getBoundingClientRect();r=r.parentElement;const a=r.getBoundingClientRect();s.x+=n.left-a.left,s.y+=n.top-a.top}else if(r instanceof SVGGraphicsElement){const{x:n,y:a}=r.getBBox();s.x+=n,s.y+=a;let o=null,l=r.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=r.parentNode;r=o}else break;return s}const Cl={start:0,center:.5,end:1};function xh(t,e,s=0){let r=0;if(t in Cl&&(t=Cl[t]),typeof t=="string"){const n=parseFloat(t);t.endsWith("px")?r=n:t.endsWith("%")?t=n/100:t.endsWith("vw")?r=n/100*document.documentElement.clientWidth:t.endsWith("vh")?r=n/100*document.documentElement.clientHeight:t=n}return typeof t=="number"&&(r=e*t),s+r}const zk=[0,0];function Wk(t,e,s,r){let n=Array.isArray(t)?t:zk,a=0,o=0;return typeof t=="number"?n=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?n=t.split(" "):n=[t,Cl[t]?t:"0"]),a=xh(n[0],s,r),o=xh(n[1],e),a-o}const qk={All:[[0,0],[1,1]]},Hk={x:0,y:0};function Kk(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function Gk(t,e,s){const{offset:r=qk.All}=s,{target:n=t,axis:a="y"}=s,o=a==="y"?"height":"width",l=n!==t?Uk(n,t):Hk,c=n===t?{width:t.scrollWidth,height:t.scrollHeight}:Kk(n),d={width:t.clientWidth,height:t.clientHeight};e[a].offset.length=0;let u=!e[a].interpolate;const h=r.length;for(let f=0;f<h;f++){const m=Wk(r[f],d[o],c[o],l[a]);!u&&m!==e[a].interpolatorOffsets[f]&&(u=!0),e[a].offset[f]=m}u&&(e[a].interpolate=_c(e[a].offset,Ap(r),{clamp:!1}),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=Bt(0,1,e[a].interpolate(e[a].current))}function Jk(t,e=t,s){if(s.x.targetOffset=0,s.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)s.x.targetOffset+=r.offsetLeft,s.y.targetOffset+=r.offsetTop,r=r.offsetParent}s.x.targetLength=e===t?e.scrollWidth:e.clientWidth,s.y.targetLength=e===t?e.scrollHeight:e.clientHeight,s.x.containerLength=t.clientWidth,s.y.containerLength=t.clientHeight}function Zk(t,e,s,r={}){return{measure:n=>{Jk(t,r.target,s),Bk(t,s,n),(r.offset||r.target)&&Gk(t,s,r)},notify:()=>e(s)}}const Wr=new WeakMap,bh=new WeakMap,Oo=new WeakMap,yh=t=>t===document.scrollingElement?window:t;function Fg(t,{container:e=document.scrollingElement,...s}={}){if(!e)return tt;let r=Oo.get(e);r||(r=new Set,Oo.set(e,r));const n=Fk(),a=Zk(e,t,n,s);if(r.add(a),!Wr.has(e)){const l=()=>{for(const h of r)h.measure(Ve.timestamp);ye.preUpdate(c)},c=()=>{for(const h of r)h.notify()},d=()=>ye.read(l);Wr.set(e,d);const u=yh(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&bh.set(e,QS(e,d)),u.addEventListener("scroll",d,{passive:!0}),d()}const o=Wr.get(e);return ye.read(o,!1,!0),()=>{var d;Ot(o);const l=Oo.get(e);if(!l||(l.delete(a),l.size))return;const c=Wr.get(e);Wr.delete(e),c&&(yh(e).removeEventListener("scroll",c),(d=bh.get(e))==null||d(),window.removeEventListener("resize",c))}}const vh=new Map;function Yk(t){const e={value:0},s=Fg(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:s}}function Vg({source:t,container:e,...s}){const{axis:r}=s;t&&(e=t);const n=vh.get(e)??new Map;vh.set(e,n);const a=s.target??"self",o=n.get(a)??{},l=r+(s.offset??[]).join(",");return o[l]||(o[l]=!s.target&&Ip()?new ScrollTimeline({source:e,axis:r}):Yk({container:e,...s})),o[l]}function Xk(t,e){const s=Vg(e);return t.attachTimeline({timeline:e.target?void 0:s,observe:r=>(r.pause(),Xp(n=>{r.time=r.duration*n},s))})}function Qk(t){return t.length===2}function eC(t,e){return Qk(t)?Fg(s=>{t(s[e.axis].progress,s)},e):Xp(t,Vg(e))}function tC(t,{axis:e="y",container:s=document.scrollingElement,...r}={}){if(!s)return tt;const n={axis:e,container:s,...r};return typeof t=="function"?eC(t,n):Xk(t,n)}const sC=()=>({scrollX:Tt(0),scrollY:Tt(0),scrollXProgress:Tt(0),scrollYProgress:Tt(0)}),Pi=t=>t?!t.current:!1;function rC({container:t,target:e,...s}={}){const r=$a(sC),n=b.useRef(null),a=b.useRef(!1),o=b.useCallback(()=>(n.current=tC((l,{x:c,y:d})=>{r.scrollX.set(c.current),r.scrollXProgress.set(c.progress),r.scrollY.set(d.current),r.scrollYProgress.set(d.progress)},{...s,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var l;(l=n.current)==null||l.call(n)}),[t,e,JSON.stringify(s.offset)]);return cc(()=>{if(a.current=!1,Pi(t)||Pi(e)){a.current=!0;return}else return o()},[o]),b.useEffect(()=>{if(a.current)return xn(!Pi(t)),xn(!Pi(e)),o()},[o]),r}function ua(t){const e=$a(()=>Tt(t)),{isStatic:s}=b.useContext(Va);if(s){const[,r]=b.useState(t);b.useEffect(()=>e.on("change",r),[])}return e}function Bg(t,e){const s=ua(e()),r=()=>s.set(e());return r(),cc(()=>{const n=()=>ye.preRender(r,!1,!0),a=t.map(o=>o.on("change",n));return()=>{a.forEach(o=>o()),Ot(r)}}),s}function nC(t){ln.current=[],t();const e=Bg(ln.current,t);return ln.current=void 0,e}function Pl(t,e,s,r){if(typeof t=="function")return nC(t);const n=typeof e=="function"?e:t_(e,s,r);return Array.isArray(t)?wh(t,n):wh([t],([a])=>n(a))}function wh(t,e){const s=$a(()=>[]);return Bg(t,()=>{s.length=0;const r=t.length;for(let n=0;n<r;n++)s[n]=t[n].get();return e(s)})}function jh(t,e={}){const{isStatic:s}=b.useContext(Va),r=()=>Be(t)?t.get():t;if(s)return Pl(r);const n=ua(r());return b.useInsertionEffect(()=>s_(n,t,e),[n,JSON.stringify(e)]),n}const Uc=({isOpen:t,onClose:e,title:s,formType:r})=>{const[n,a]=b.useState({name:"",email:"",company:"",message:"",experience:"",portfolio:"",investmentAmount:"",timeline:""});if(!t)return null;const o=c=>{c.preventDefault(),console.log("Form submitted:",n),alert("Thank you for your application! We'll be in touch soon."),e()},l=c=>{a({...n,[c.target.name]:c.target.value})};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(Cr,{size:24})})]}),i.jsxs("form",{onSubmit:o,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),i.jsx("input",{type:"text",name:"name",required:!0,value:n.name,onChange:l,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),i.jsx("input",{type:"email",name:"email",required:!0,value:n.email,onChange:l,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r!=="professional"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company/Organization *"}),i.jsx("input",{type:"text",name:"company",required:!0,value:n.company,onChange:l,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r==="professional"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Experience Level"}),i.jsxs("select",{name:"experience",value:n.experience,onChange:l,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Select your level"}),i.jsx("option",{value:"beginner",children:"Beginner (0-2 years)"}),i.jsx("option",{value:"intermediate",children:"Intermediate (2-5 years)"}),i.jsx("option",{value:"advanced",children:"Advanced (5+ years)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Portfolio/LinkedIn URL"}),i.jsx("input",{type:"url",name:"portfolio",value:n.portfolio,onChange:l,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r==="investor"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Investment Amount Range"}),i.jsxs("select",{name:"investmentAmount",value:n.investmentAmount,onChange:l,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Select range"}),i.jsx("option",{value:"10k-50k",children:"$10k - $50k"}),i.jsx("option",{value:"50k-100k",children:"$50k - $100k"}),i.jsx("option",{value:"100k-500k",children:"$100k - $500k"}),i.jsx("option",{value:"500k+",children:"$500k+"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Investment Timeline"}),i.jsxs("select",{name:"timeline",value:n.timeline,onChange:l,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Select timeline"}),i.jsx("option",{value:"immediate",children:"Immediate (next 30 days)"}),i.jsx("option",{value:"quarter",children:"This quarter"}),i.jsx("option",{value:"year",children:"This year"}),i.jsx("option",{value:"exploring",children:"Just exploring"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),i.jsx("textarea",{name:"message",rows:4,value:n.message,onChange:l,placeholder:"Tell us more about your interest...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Submit Application"})]})]})})})},z=({children:t,delay:e=0,direction:s="up",className:r=""})=>{const n={up:{y:24,x:0},down:{y:-24,x:0},left:{y:0,x:24},right:{y:0,x:-24}};return i.jsx(oe.div,{initial:{opacity:0,...n[s],filter:"blur(6px)"},whileInView:{opacity:1,y:0,x:0,filter:"blur(0px)"},viewport:{once:!0,margin:"-80px"},transition:{duration:.6,delay:e,ease:"easeOut"},className:r,children:t})},At=({children:t,className:e="",onClick:s,strength:r=6})=>{const n=b.useRef(null),a=ua(0),o=ua(0),l=jh(a,{stiffness:300,damping:20}),c=jh(o,{stiffness:300,damping:20}),d=h=>{if(!n.current)return;const f=n.current.getBoundingClientRect(),m=f.left+f.width/2,p=f.top+f.height/2;a.set((h.clientX-m)/r),o.set((h.clientY-p)/r)},u=()=>{a.set(0),o.set(0)};return i.jsx(oe.button,{ref:n,onMouseMove:d,onMouseLeave:u,onClick:s,style:{x:l,y:c},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},className:e,children:t})},yr=({children:t,speed:e=22,direction:s="left",className:r=""})=>{const n=s==="left"?"animate-marquee-left":"animate-marquee-right";return i.jsx("div",{className:`overflow-hidden whitespace-nowrap [mask-image:linear-gradient(to_right,transparent,black_10%,black_90%,transparent)] ${r}`,children:i.jsxs("div",{className:`inline-flex gap-10 ${n}`,style:{animationDuration:`${e}s`},children:[t,t]})})},zc=({title:t,codeBlock:e,steps:s})=>{const r=b.useRef(null),{scrollYProgress:n}=rC({target:r,offset:["start start","end end"]}),a=Pl(n,[0,1],[0,3]),o=Pl(n,[0,.5,1],[1,1.02,1]);return i.jsxs("section",{ref:r,className:"relative grid lg:grid-cols-2 gap-16 min-h-[200vh] px-6 max-w-7xl mx-auto py-20",children:[i.jsx("div",{className:"sticky top-24 self-start",children:i.jsxs(oe.div,{style:{rotate:a,scale:o},className:"rounded-3xl shadow-2xl p-6 bg-forge-dark text-forge-cream overflow-hidden relative border border-forge-orange/20",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-forge-orange/5 to-transparent pointer-events-none"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-forge-orange animate-pulse"}),i.jsx("span",{className:"text-forge-orange font-medium text-sm",children:"Live Code"})]}),i.jsx("pre",{className:"text-sm overflow-auto text-forge-cream/90 leading-relaxed",children:i.jsx("code",{children:e})})]})]})}),i.jsxs("div",{className:"space-y-32 py-24",children:[i.jsx(z,{children:i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-8",children:t})}),s.map((l,c)=>i.jsx(z,{delay:c*.1,children:i.jsxs("div",{className:"max-w-prose",children:[i.jsxs("h3",{className:"text-2xl lg:text-3xl font-bold text-forge-dark mb-4",children:[l.title,l.highlight&&i.jsx("span",{className:"text-forge-orange ml-2",children:l.highlight})]}),i.jsx("p",{className:"text-lg text-forge-gray leading-relaxed",children:l.description})]})},l.title))]})]})},Ye=({variant:t="hero",className:e=""})=>{const s={hero:i.jsxs(i.Fragment,{children:[i.jsx(oe.div,{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_30%,rgba(232,122,71,0.15),transparent_50%),radial-gradient(circle_at_80%_20%,rgba(45,58,46,0.1),transparent_50%),radial-gradient(circle_at_40%_70%,rgba(245,242,232,0.2),transparent_50%)]",animate:{background:["radial-gradient(circle_at_20%_30%,rgba(232,122,71,0.15),transparent_50%),radial-gradient(circle_at_80%_20%,rgba(45,58,46,0.1),transparent_50%),radial-gradient(circle_at_40%_70%,rgba(245,242,232,0.2),transparent_50%)","radial-gradient(circle_at_40%_20%,rgba(232,122,71,0.2),transparent_50%),radial-gradient(circle_at_60%_40%,rgba(45,58,46,0.15),transparent_50%),radial-gradient(circle_at_20%_80%,rgba(245,242,232,0.25),transparent_50%)","radial-gradient(circle_at_60%_60%,rgba(232,122,71,0.18),transparent_50%),radial-gradient(circle_at_20%_70%,rgba(45,58,46,0.12),transparent_50%),radial-gradient(circle_at_80%_30%,rgba(245,242,232,0.22),transparent_50%)"]},transition:{duration:8,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}}),i.jsx("div",{className:"absolute inset-0 opacity-[0.015] mix-blend-overlay [background-image:url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48ZmlsdGVyIGlkPSJub2lzZSI+PGZlVHVyYnVsZW5jZSBiYXNlRnJlcXVlbmN5PSIwLjkiIG51bU9jdGF2ZXM9IjQiIHN0aXRjaFRpbGVzPSJzdGl0Y2giLz48L2ZpbHRlcj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsdGVyPSJ1cmwoI25vaXNlKSIgb3BhY2l0eT0iMC4xIi8+PC9zdmc+')]"}),[...Array(12)].map((r,n)=>i.jsx(oe.div,{className:"absolute w-1 h-1 bg-forge-orange/20 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-30,0],opacity:[.2,.8,.2],scale:[.5,1,.5]},transition:{duration:4+Math.random()*4,repeat:1/0,delay:Math.random()*2}},n))]}),subtle:i.jsx(oe.div,{className:"absolute inset-0 bg-gradient-to-br from-forge-cream/50 to-transparent",animate:{opacity:[.3,.6,.3]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),dark:i.jsx(oe.div,{className:"absolute inset-0 bg-gradient-to-br from-forge-dark via-forge-dark to-forge-dark/90",animate:{background:["linear-gradient(135deg, #2D3A2E 0%, #2D3A2E 50%, rgba(45,58,46,0.9) 100%)","linear-gradient(135deg, rgba(45,58,46,0.95) 0%, #2D3A2E 50%, #2D3A2E 100%)"]},transition:{duration:10,repeat:1/0,repeatType:"reverse"}})};return i.jsx("div",{className:`absolute inset-0 overflow-hidden ${e}`,children:s[t]})},iC=()=>{const[t,e]=b.useState(!1),s=[{value:"6",label:"Month Program",suffix:"",icon:i.jsx(Rt,{className:"w-8 h-8"})},{value:"$6K",label:"Monthly Salary",suffix:"/mo",icon:i.jsx(hd,{className:"w-8 h-8"})},{value:"95%",label:"Job Placement",suffix:"",icon:i.jsx($i,{className:"w-8 h-8"})}],r=[{icon:i.jsx(hd,{className:"w-6 h-6"}),title:"Get Paid to Learn",description:"Receive $6,000 USDC monthly while mastering Web3 development",highlight:"$36,000"},{icon:i.jsx(Wo,{className:"w-6 h-6"}),title:"Real Projects",description:"Build actual DeFi protocols, NFT platforms, and blockchain infrastructure",highlight:"Live Code"},{icon:i.jsx(ja,{className:"w-6 h-6"}),title:"Guaranteed Placement",description:"Access our exclusive network of Web3 companies hiring developers",highlight:"95% Success"}],n=["Uniswap","Chainlink","Polygon","Solana","Ethereum Foundation","ConsenSys","Compound","Aave","OpenSea","Metamask"],a=[{quote:'"Changed my life completely. From zero to Web3 developer in 6 months."',author:"Sarah Chen"},{quote:'"The ISA model meant I could focus 100% on learning."',author:"Marcus Rodriguez"},{quote:'"Landed a $120k job right after graduation."',author:"Alex Thompson"}],o=`// Forge College Smart Contract
contract ForgeCollege {
  // Student program details
  struct Student {
    address wallet;
    uint256 stipendAmount;
    uint256 completedProjects;
    bool jobPlaced;
  }
  
  // Company sponsor mapping
  mapping(address => uint256) sponsors;
  
  // ISA terms and repayment logic
  function startLearning() public {
    // Begin 6-month program
    // Receive monthly stipend
    // Work on real projects
  }
  
  function completeProgram() public {
    // Portfolio validation
    // Job matching algorithm
    // ISA activation only on job placement
  }
}`,l=[{title:"Smart Contracts",description:"Learn to build and deploy smart contracts that power DeFi protocols, NFT marketplaces, and DAOs. Master Solidity, security best practices, and gas optimization.",highlight:"Real Impact"},{title:"DeFi Development",description:"Build actual trading protocols, yield farming platforms, and lending systems. Work with real liquidity and understand how billions flow through Web3.",highlight:"$2B+ TVL"},{title:"Job Guarantee",description:"Our ISA model means we only succeed when you do. Get placed in top Web3 companies or pay nothing. It's that simple.",highlight:"Zero Risk"}];return i.jsxs("div",{className:"min-h-screen bg-forge-cream overflow-x-hidden",children:[i.jsxs("section",{className:"relative min-h-screen flex items-center justify-center pt-28 pb-10 px-6",children:[i.jsx(Ye,{variant:"hero"}),i.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[i.jsxs(oe.h1,{initial:{opacity:0,y:30,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{duration:.8,ease:"easeOut"},className:"text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-bold text-forge-dark mb-8 leading-[0.9] tracking-tight",children:["Get Paid",i.jsx("br",{}),i.jsxs("span",{className:"inline-flex items-center",children:["to Learn.",i.jsx(oe.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:i.jsx(ql,{className:"w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 xl:w-28 xl:h-28 text-forge-orange mx-4"})})]})]}),i.jsxs(oe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-xl lg:text-2xl text-forge-gray max-w-4xl mx-auto mb-12 leading-relaxed",children:["Master Web3 development, earn $6,000 USDC monthly for 6 months,",i.jsx("br",{className:"hidden md:block"}),"and only pay us when we land you a job."]}),i.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:i.jsxs(At,{onClick:()=>e(!0),className:"inline-flex items-center gap-3 bg-forge-orange text-white px-8 py-4 rounded-full text-lg font-semibold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:["Apply to Next Cohort",i.jsx(pr,{className:"w-5 h-5"})]})})]})]}),i.jsx("section",{className:"py-12 bg-white/50 backdrop-blur-sm border-y border-forge-orange/10",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsx(z,{children:i.jsx("p",{className:"text-center text-forge-gray font-medium mb-8",children:"Learn the skills to work at companies like:"})}),i.jsx(yr,{className:"text-2xl font-bold text-forge-dark/60",children:n.map((c,d)=>i.jsx("span",{className:"mx-8 hover:text-forge-orange transition-colors",children:c},d))})]})}),i.jsx("section",{className:"py-20 px-6 bg-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs(z,{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Program by the Numbers"}),i.jsx("p",{className:"text-xl text-forge-gray",children:"Real outcomes, real careers, real impact"})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:s.map((c,d)=>i.jsx(z,{delay:d*.1,children:i.jsxs(oe.div,{className:"text-center bg-forge-cream p-8 rounded-3xl border border-forge-orange/20 group hover:border-forge-orange/40 transition-all duration-300",whileHover:{y:-5},children:[i.jsx("div",{className:"text-forge-orange mb-4 flex justify-center group-hover:scale-110 transition-transform",children:c.icon}),i.jsxs("div",{className:"text-5xl lg:text-6xl font-bold text-forge-dark mb-2",children:[c.value,i.jsx("span",{className:"text-forge-orange text-2xl lg:text-3xl",children:c.suffix})]}),i.jsx("div",{className:"text-lg text-forge-gray font-medium",children:c.label})]})},d))})]})}),i.jsx(zc,{title:"Learn by Building Real Web3 Products",codeBlock:o,steps:l}),i.jsx("section",{className:"py-20 px-6 bg-forge-cream",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs(z,{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Why Forge College?"}),i.jsx("p",{className:"text-xl text-forge-gray",children:"The only Web3 education program where you earn while you learn"})]}),i.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:r.map((c,d)=>i.jsx(z,{delay:d*.1,children:i.jsxs(oe.div,{className:"bg-white p-8 rounded-3xl border border-forge-orange/20 hover:border-forge-orange/40 transition-all duration-300 group",whileHover:{y:-8},children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-forge-orange rounded-2xl flex items-center justify-center text-white group-hover:scale-110 group-hover:bg-forge-orange-light transition-all duration-200 shadow-lg",children:c.icon}),i.jsx("span",{className:"text-sm font-bold text-forge-orange bg-forge-orange/10 px-3 py-1 rounded-full",children:c.highlight})]}),i.jsx("h3",{className:"text-2xl font-bold text-forge-dark mb-4",children:c.title}),i.jsx("p",{className:"text-lg text-forge-gray leading-relaxed",children:c.description})]})},d))})]})}),i.jsx("section",{className:"py-16 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsx(z,{className:"text-center mb-12",children:i.jsx("h3",{className:"text-2xl font-bold text-forge-dark",children:"What Our Students Say"})}),i.jsx(yr,{speed:30,className:"text-lg",children:a.map((c,d)=>i.jsxs("div",{className:"mx-8 max-w-md",children:[i.jsx("p",{className:"text-forge-gray italic mb-2",children:c.quote}),i.jsxs("p",{className:"text-forge-dark font-semibold",children:[" ",c.author]})]},d))})]})}),i.jsxs("section",{className:"py-32 px-6 bg-forge-cream relative overflow-hidden",children:[i.jsx(Ye,{variant:"subtle"}),i.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[i.jsx(z,{children:i.jsxs("h2",{className:"text-5xl lg:text-6xl font-bold text-forge-dark mb-6 leading-tight",children:["No upfront cost.",i.jsx("br",{}),"Pay only when you land a job."]})}),i.jsx(z,{delay:.2,children:i.jsx("p",{className:"text-xl text-forge-gray max-w-3xl mx-auto mb-16 leading-relaxed",children:"Our Income Share Agreement means you focus on learning, not debt. We only succeed when you do."})}),i.jsx(z,{delay:.4,children:i.jsxs(oe.div,{className:"bg-forge-dark rounded-3xl p-12 text-white relative overflow-hidden border-4 border-forge-orange",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[i.jsx(Ye,{variant:"dark"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs(oe.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"inline-flex items-center gap-2 text-forge-orange mb-6",children:[i.jsx(xf,{className:"w-6 h-6"}),i.jsx("span",{className:"font-medium",children:"Next Cohort Starting Soon"})]}),i.jsx("h3",{className:"text-4xl font-bold mb-6 text-forge-cream",children:"April 2026"}),i.jsx("p",{className:"text-xl text-forge-cream/80 mb-8",children:"Limited to 10 students"}),i.jsx(At,{onClick:()=>e(!0),className:"bg-forge-orange text-white px-12 py-4 rounded-full font-semibold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:"Secure Your Spot"})]})]})})]})]}),i.jsxs("section",{className:"py-32 px-6 bg-forge-dark text-white relative overflow-hidden",children:[i.jsx(Ye,{variant:"dark"}),i.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[i.jsx(z,{children:i.jsxs("h2",{className:"text-5xl lg:text-6xl font-bold mb-8 leading-tight text-forge-cream",children:["Ready to forge",i.jsx("br",{}),"your future?"]})}),i.jsx(z,{delay:.2,children:i.jsxs("p",{className:"text-xl text-forge-cream/80 mb-12 leading-relaxed",children:["Join the next generation of Web3 developers.",i.jsx("br",{}),"Apply now for the April 2026 cohort."]})}),i.jsx(z,{delay:.4,children:i.jsxs(At,{onClick:()=>e(!0),className:"inline-flex items-center gap-3 bg-forge-orange text-white px-12 py-6 rounded-full text-xl font-bold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:["Apply Now",i.jsx(pr,{className:"w-6 h-6"})]})}),i.jsx(z,{delay:.6,children:i.jsx("div",{className:"mt-8 text-sm text-forge-cream/60",children:"No upfront cost  Pay only when you get hired"})})]})]}),i.jsx(Uc,{isOpen:t,onClose:()=>e(!1),title:"Apply to Join the Next Cohort",formType:"professional"})]})},aC=()=>{const[t,e]=b.useState(!1),s=[{value:"95%",label:"Job Placement Rate",suffix:"",icon:i.jsx(Rt,{className:"w-8 h-8"})},{value:"6",label:"Month Training",suffix:"mo",icon:i.jsx(ja,{className:"w-8 h-8"})},{value:"Real",label:"Project Experience",suffix:"",icon:i.jsx(Wo,{className:"w-8 h-8"})}],r=[{icon:i.jsx(Rt,{className:"w-6 h-6"}),title:"Qualified Talent Pool",description:"Access developers who have completed real Web3 projects and proven their skills through hands-on experience",highlight:"Pre-vetted"},{icon:i.jsx(xf,{className:"w-6 h-6"}),title:"Fast Hiring Process",description:"Streamlined recruitment with candidates who are ready to contribute from day one",highlight:"Day 1 Ready"},{icon:i.jsx(Wo,{className:"w-6 h-6"}),title:"Project-Based Vetting",description:"Our graduates have worked on actual Web3 projects, giving you confidence in their practical abilities",highlight:"Proven Skills"}],n=[{tier:"Project Partner",highlight:"Start Here",features:["2-3 project submissions per cohort","Access to student portfolios","Hiring pipeline access"],cta:"Join as Partner"},{tier:"Curriculum Sponsor",highlight:"Most Popular",features:["Curriculum influence","Sponsor 3-5 students","Dedicated hiring events","Brand partnership benefits"],cta:"Become Sponsor",featured:!0},{tier:"Ecosystem Partner",highlight:"Full Access",features:["Full curriculum partnership","Sponsor entire cohort track","Exclusive hiring window","Advisory board seat"],cta:"Join Ecosystem"}],a=["Uniswap","Chainlink","Polygon","Solana","Ethereum Foundation","ConsenSys","Compound","Aave","OpenSea","Metamask"],o=[{quote:'"Hired 3 developers from Forge College. Best hiring decision we made this year."',author:"Sarah Kim, CTO at DeFi Protocol"},{quote:'"The candidates came with real project experience. No training period needed."',author:"Marcus Chen, Engineering Lead at Web3 Startup"},{quote:'"Forge College graduates understand the Web3 ecosystem better than traditional bootcamp grads."',author:"Elena Rodriguez, VP Engineering at NFT Platform"}],l=`// Partnership Integration Example
contract ForgePartnership {
  // Company partnership details
  struct Partner {
    address company;
    uint256 sponsoredStudents;
    bytes32[] projectIds;
    bool exclusiveHiring;
  }
  
  // Student project assignments
  mapping(address => bytes32[]) studentProjects;
  
  // Partnership benefits and ROI
  function sponsorStudent(address student) public {
    // Fund student salary during learning
    // Assign real company projects
    // Track performance metrics
  }
  
  function hireGraduate(address student) public {
    // Validate project completion
    // Execute hiring agreement
    // Activate partnership benefits
  }
  
  // Partnership ROI calculation
  function calculateROI() public view returns (uint256) {
    // Hiring success rate
    // Time to productivity
    // Cost savings vs traditional recruiting
  }
}`,c=[{title:"Real Project Experience",description:"Our students work on actual company projects during their 6-month program. This means they understand your business challenges and have proven their ability to deliver.",highlight:"Business Ready"},{title:"Reduced Hiring Risk",description:"Skip the uncertainty of traditional hiring. Our graduates have portfolios of completed projects and verified skills from working with real companies.",highlight:"Zero Risk"},{title:"Faster Time to Value",description:"Candidates hit the ground running from day one. No lengthy onboarding or training periods. They understand Web3 development and your business needs.",highlight:"Immediate Impact"}];return i.jsxs("div",{className:"min-h-screen bg-forge-cream overflow-x-hidden",children:[i.jsxs("section",{className:"relative min-h-screen flex items-center justify-center pt-28 pb-10 px-6",children:[i.jsx(Ye,{variant:"hero"}),i.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[i.jsxs(oe.h1,{initial:{opacity:0,y:30,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{duration:.8,ease:"easeOut"},className:"text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-bold text-forge-dark mb-8 leading-[0.9] tracking-tight",children:["Hire Web3-Ready",i.jsx("br",{}),i.jsxs("span",{className:"inline-flex items-center",children:["Talents.",i.jsx(oe.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:i.jsx(qn,{className:"w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 xl:w-28 xl:h-28 text-forge-orange mx-4"})})]})]}),i.jsxs(oe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-xl lg:text-2xl text-forge-gray max-w-4xl mx-auto mb-12 leading-relaxed",children:["Access skilled developers from our intensive 6-month program.",i.jsx("br",{className:"hidden md:block"}),"Pre-vetted, project-tested, and ready to build from day one."]}),i.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:i.jsxs(At,{onClick:()=>e(!0),className:"inline-flex items-center gap-3 bg-forge-orange text-white px-8 py-4 rounded-full text-lg font-semibold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:["Partner With Us",i.jsx(pr,{className:"w-5 h-5"})]})})]})]}),i.jsx("section",{className:"py-12 bg-white/50 backdrop-blur-sm border-y border-forge-orange/10",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsx(z,{children:i.jsx("p",{className:"text-center text-forge-gray font-medium mb-8",children:"Join companies already building the future workforce"})}),i.jsx(yr,{className:"text-2xl font-bold text-forge-dark/60",children:a.map((d,u)=>i.jsx("span",{className:"mx-8 hover:text-forge-orange transition-colors",children:d},u))})]})}),i.jsx("section",{className:"py-20 px-6 bg-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs(z,{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Hiring Success Metrics"}),i.jsx("p",{className:"text-xl text-forge-gray",children:"Real results from companies who partner with us"})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:s.map((d,u)=>i.jsx(z,{delay:u*.1,children:i.jsxs(oe.div,{className:"text-center bg-forge-cream p-8 rounded-3xl border border-forge-orange/20 group hover:border-forge-orange/40 transition-all duration-300",whileHover:{y:-5},children:[i.jsx("div",{className:"text-forge-orange mb-4 flex justify-center group-hover:scale-110 transition-transform",children:d.icon}),i.jsxs("div",{className:"text-5xl lg:text-6xl font-bold text-forge-dark mb-2",children:[d.value,i.jsx("span",{className:"text-forge-orange text-2xl lg:text-3xl",children:d.suffix})]}),i.jsx("div",{className:"text-lg text-forge-gray font-medium",children:d.label})]})},u))})]})}),i.jsx(zc,{title:"Why Companies Choose Forge College",codeBlock:l,steps:c}),i.jsx("section",{className:"py-20 px-6 bg-forge-cream",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs(z,{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Partnership Benefits"}),i.jsx("p",{className:"text-xl text-forge-gray",children:"Transform your hiring strategy by investing in talent development"})]}),i.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:r.map((d,u)=>i.jsx(z,{delay:u*.1,children:i.jsxs(oe.div,{className:"bg-white p-8 rounded-3xl border border-forge-orange/20 hover:border-forge-orange/40 transition-all duration-300 group",whileHover:{y:-8},children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-forge-orange rounded-2xl flex items-center justify-center text-white group-hover:scale-110 group-hover:bg-forge-orange-light transition-all duration-200 shadow-lg",children:d.icon}),i.jsx("span",{className:"text-sm font-bold text-forge-orange bg-forge-orange/10 px-3 py-1 rounded-full",children:d.highlight})]}),i.jsx("h3",{className:"text-2xl font-bold text-forge-dark mb-4",children:d.title}),i.jsx("p",{className:"text-lg text-forge-gray leading-relaxed",children:d.description})]})},u))})]})}),i.jsx("section",{className:"py-20 px-6 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs(z,{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Partnership Tiers"}),i.jsx("p",{className:"text-xl text-forge-gray",children:"Choose the partnership level that fits your hiring needs"})]}),i.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:n.map((d,u)=>i.jsx(z,{delay:u*.1,children:i.jsxs(oe.div,{className:`p-8 rounded-3xl transition-all duration-300 group relative overflow-hidden ${d.featured?"bg-forge-dark text-white border-4 border-forge-orange shadow-xl":"bg-forge-cream border border-forge-orange/20 hover:border-forge-orange/40"}`,whileHover:{y:-8,scale:d.featured?1.02:1},children:[d.featured&&i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx("span",{className:"bg-forge-orange text-white px-3 py-1 rounded-full text-sm font-bold",children:d.highlight})}),i.jsx("h3",{className:`text-2xl font-bold mb-2 ${d.featured?"text-forge-cream":"text-forge-dark"}`,children:d.tier}),i.jsx("div",{className:"mb-6",children:i.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${d.featured?"bg-forge-orange/20 text-forge-orange":"bg-forge-orange/10 text-forge-orange"}`,children:d.highlight})}),i.jsx("ul",{className:"space-y-3 mb-8",children:d.features.map((h,f)=>i.jsxs("li",{className:`flex items-start gap-3 ${d.featured?"text-forge-cream/90":"text-forge-gray"}`,children:[i.jsx(bf,{className:"w-5 h-5 text-forge-orange flex-shrink-0 mt-0.5"}),i.jsx("span",{children:h})]},f))}),i.jsx(At,{onClick:()=>e(!0),className:`w-full py-3 rounded-full font-semibold transition-all duration-200 ${d.featured,"bg-forge-orange text-white border-2 border-forge-orange hover:border-forge-orange-light"}`,children:d.cta})]})},u))})]})}),i.jsx("section",{className:"py-16 bg-forge-cream",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsx(z,{className:"text-center mb-12",children:i.jsx("h3",{className:"text-2xl font-bold text-forge-dark",children:"What Partner Companies Say"})}),i.jsx(yr,{speed:35,className:"text-lg",children:o.map((d,u)=>i.jsxs("div",{className:"mx-8 max-w-lg",children:[i.jsx("p",{className:"text-forge-gray italic mb-2",children:d.quote}),i.jsxs("p",{className:"text-forge-dark font-semibold",children:[" ",d.author]})]},u))})]})}),i.jsxs("section",{className:"py-32 px-6 bg-forge-cream relative overflow-hidden",children:[i.jsx(Ye,{variant:"subtle"}),i.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[i.jsx(z,{children:i.jsxs("h2",{className:"text-5xl lg:text-6xl font-bold text-forge-dark mb-6 leading-tight",children:["Ready to hire",i.jsx("br",{}),"the best Web3 talent?"]})}),i.jsx(z,{delay:.2,children:i.jsx("p",{className:"text-xl text-forge-gray max-w-3xl mx-auto mb-16 leading-relaxed",children:"Join leading Web3 companies who are building their teams through Forge College partnerships."})}),i.jsx(z,{delay:.4,children:i.jsxs(oe.div,{className:"bg-forge-dark rounded-3xl p-12 text-white relative overflow-hidden border-4 border-forge-orange",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[i.jsx(Ye,{variant:"dark"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs(oe.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"inline-flex items-center gap-2 text-forge-orange mb-6",children:[i.jsx(Sa,{className:"w-6 h-6"}),i.jsx("span",{className:"font-medium",children:"Next Hiring Cycle"})]}),i.jsx("h3",{className:"text-4xl font-bold mb-6 text-forge-cream",children:"April 2026"}),i.jsx("p",{className:"text-xl text-forge-cream/80 mb-8",children:"10 graduating developers ready for placement"}),i.jsx(At,{onClick:()=>e(!0),className:"bg-forge-orange text-white px-12 py-4 rounded-full font-semibold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:"Become a Partner"})]})]})})]})]}),i.jsxs("section",{className:"py-32 px-6 bg-forge-dark text-white relative overflow-hidden",children:[i.jsx(Ye,{variant:"dark"}),i.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[i.jsx(z,{children:i.jsxs("h2",{className:"text-5xl lg:text-6xl font-bold mb-8 leading-tight text-forge-cream",children:["Let's build the future",i.jsx("br",{}),"of Web3 together."]})}),i.jsx(z,{delay:.2,children:i.jsxs("p",{className:"text-xl text-forge-cream/80 mb-12 leading-relaxed",children:["Partner with Forge College and get first access",i.jsx("br",{}),"to the most skilled Web3 developers."]})}),i.jsx(z,{delay:.4,children:i.jsxs(At,{onClick:()=>e(!0),className:"inline-flex items-center gap-3 bg-forge-orange text-white px-12 py-6 rounded-full text-xl font-bold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:["Start Partnership",i.jsx(pr,{className:"w-6 h-6"})]})}),i.jsx(z,{delay:.6,children:i.jsx("div",{className:"mt-8 text-sm text-forge-cream/60",children:"Pre-vetted talent  Real project experience  Immediate impact"})})]})]}),i.jsx(Uc,{isOpen:t,onClose:()=>e(!1),title:"Partner With Forge College",formType:"company"})]})},oC=()=>{const[t,e]=b.useState(!1),s=[{value:"8-12%",label:"Target IRR",suffix:"",icon:i.jsx($i,{className:"w-8 h-8"})},{value:"3-5",label:"Year Payback",suffix:"yr",icon:i.jsx(fd,{className:"w-8 h-8"})},{value:"92%",label:"Job Placement",suffix:"",icon:i.jsx(Rt,{className:"w-8 h-8"})}],r=[{icon:i.jsx(gb,{className:"w-6 h-6"}),title:"Diversified RWA Exposure",description:"Invest in human capital through stablecoin-backed Income Share Agreements as a new asset class",highlight:"New Asset Class"},{icon:i.jsx(fd,{className:"w-6 h-6"}),title:"Transparent Metrics",description:"Access real-time performance data, repayment rates, and ROI analytics through our investor dashboard",highlight:"Live Analytics"},{icon:i.jsx(Hl,{className:"w-6 h-6"}),title:"Stable Returns",description:"Generate yield from high-demand Web3 talent with historical repayment rates exceeding traditional education loans",highlight:"Proven Model"}],n=[{metric:"$1.2T",label:"Web3 Market Cap",description:"Total value locked across DeFi and Web3 protocols"},{metric:"3.7M",label:"Developer Shortage",description:"Unfilled Web3 developer positions globally"},{metric:"$140K",label:"Average Salary",description:"Starting salary for Web3 developers"}],a=[{metric:"Target IRR",value:"8-12%",description:"Based on Web3 salary growth trends",trend:"up"},{metric:"Avg. Payback Period",value:"3-5 years",description:"Capped at 10% of income annually",trend:"neutral"},{metric:"Job Placement Rate",value:"92%",description:"Within 6 months of graduation",trend:"up"}],o=[{quarter:"Q2",title:"Fund Launch",description:"Initial investor round and first cohort funding"},{quarter:"Q3",title:"Performance Data",description:"First graduation metrics and repayment initiation"},{quarter:"Q4",title:"Secondary Market",description:"ISA trading platform and liquidity options"}],l=["Andreessen Horowitz","Coinbase Ventures","Paradigm","Sequoia","Tiger Global","Pantera Capital","Union Square Ventures","Binance Labs"],c=[{quote:'"Human capital ISAs represent the next evolution of RWA investments."',author:"Sarah Johnson, Partner at Web3 Fund"},{quote:'"The alignment of incentives in this model creates sustainable returns."',author:"Michael Chen, LP at DeFi Capital"},{quote:'"Finally, an investment that generates returns while solving real problems."',author:"Elena Rodriguez, Managing Director"}],d=`// ISA Investment Smart Contract
contract ForgeISAFund {
  // Investment and return structures
  struct Investment {
    address investor;
    uint256 amountUSDC;
    uint256 expectedReturn;
    uint256 timeframe;
    bool isActive;
  }
  
  // Student income share agreements
  mapping(address => ISATerms) studentISAs;
  
  // Performance tracking
  struct PerformanceMetrics {
    uint256 totalDeployed;
    uint256 totalReturned;
    uint256 currentIRR;
    uint256 activeISAs;
  }
  
  // Investment deployment
  function deployCapital(uint256 amount) public {
    // Fund student salaries (6 months)
    // Track investment allocation
    // Begin performance monitoring
  }
  
  // Return distribution
  function distributeReturns() public {
    // Calculate quarterly distributions
    // Process ISA collections
    // Pay investors based on stake
  }
  
  // Real-time analytics
  function getPortfolioMetrics() public view returns (PerformanceMetrics) {
    // Live IRR calculation
    // Risk-adjusted returns
    // Liquidity positions
  }
}`,u=[{title:"Human Capital as RWA",description:"Web3 has created a new asset class: human capital. Our ISA model tokenizes education investment, creating yield-generating assets backed by high-earning Web3 careers.",highlight:"Next-Gen RWA"},{title:"Aligned Incentives",description:"Unlike traditional education loans, ISAs align investor and student success. Returns are tied to job placement and salary growth, creating sustainable economics for all parties.",highlight:"Win-Win Model"},{title:"Liquidity & Scale",description:"Our roadmap includes secondary market infrastructure for ISA trading, fractional ownership, and automated portfolio management. Scale meets liquidity.",highlight:"DeFi Integration"}];return i.jsxs("div",{className:"min-h-screen bg-forge-cream overflow-x-hidden",children:[i.jsxs("section",{className:"relative min-h-screen flex items-center justify-center pt-28 pb-10 px-6",children:[i.jsx(Ye,{variant:"hero"}),i.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[i.jsxs(oe.h1,{initial:{opacity:0,y:30,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{duration:.8,ease:"easeOut"},className:"text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-bold text-forge-dark mb-8 leading-[0.9] tracking-tight",children:["Invest in",i.jsx("br",{}),i.jsxs("span",{className:"inline-flex items-center",children:["People's Future.",i.jsx(oe.div,{animate:{rotate:[0,15,-15,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:i.jsx($i,{className:"w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 xl:w-28 xl:h-28 text-forge-orange mx-4"})})]})]}),i.jsxs(oe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-xl lg:text-2xl text-forge-gray max-w-4xl mx-auto mb-12 leading-relaxed",children:["Generate stable returns by investing in Web3 talent",i.jsx("br",{className:"hidden md:block"}),"through innovative stablecoin-backed Income Share Agreements."]}),i.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:i.jsxs(At,{onClick:()=>e(!0),className:"inline-flex items-center gap-3 bg-forge-orange text-white px-8 py-4 rounded-full text-lg font-semibold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:["Join Investment Round",i.jsx(pr,{className:"w-5 h-5"})]})})]})]}),i.jsx("section",{className:"py-12 bg-white/50 backdrop-blur-sm border-y border-forge-orange/10",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsx(z,{children:i.jsx("p",{className:"text-center text-forge-gray font-medium mb-8",children:"Join institutional investors backing the future of work"})}),i.jsx(yr,{className:"text-2xl font-bold text-forge-dark/60",children:l.map((h,f)=>i.jsx("span",{className:"mx-8 hover:text-forge-orange transition-colors",children:h},f))})]})}),i.jsx("section",{className:"py-20 px-6 bg-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs(z,{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Investment Performance"}),i.jsx("p",{className:"text-xl text-forge-gray",children:"Stable returns from a growing market"})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:s.map((h,f)=>i.jsx(z,{delay:f*.1,children:i.jsxs(oe.div,{className:"text-center bg-forge-cream p-8 rounded-3xl border border-forge-orange/20 group hover:border-forge-orange/40 transition-all duration-300",whileHover:{y:-5},children:[i.jsx("div",{className:"text-forge-orange mb-4 flex justify-center group-hover:scale-110 transition-transform",children:h.icon}),i.jsxs("div",{className:"text-5xl lg:text-6xl font-bold text-forge-dark mb-2",children:[h.value,i.jsx("span",{className:"text-forge-orange text-2xl lg:text-3xl",children:h.suffix})]}),i.jsx("div",{className:"text-lg text-forge-gray font-medium",children:h.label})]})},f))})]})}),i.jsxs("section",{className:"py-20 px-6 bg-forge-dark text-white relative overflow-hidden",children:[i.jsx(Ye,{variant:"dark"}),i.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[i.jsxs(z,{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-cream mb-6",children:"Market Opportunity"}),i.jsx("p",{className:"text-xl text-forge-cream/80",children:"The Web3 talent shortage creates unprecedented opportunity"})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:n.map((h,f)=>i.jsx(z,{delay:f*.1,children:i.jsxs(oe.div,{className:"text-center p-8 rounded-3xl border border-forge-orange/20 bg-white/5 backdrop-blur-sm hover:border-forge-orange/40 transition-all duration-300 group",whileHover:{y:-5,scale:1.02},children:[i.jsx("div",{className:"text-4xl lg:text-5xl font-bold text-forge-orange mb-3 group-hover:scale-110 transition-transform",children:h.metric}),i.jsx("h3",{className:"text-xl font-bold text-forge-cream mb-2",children:h.label}),i.jsx("p",{className:"text-forge-cream/70",children:h.description})]})},f))})]})]}),i.jsx(zc,{title:"A New Asset Class is Born",codeBlock:d,steps:u}),i.jsx("section",{className:"py-20 px-6 bg-forge-cream",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs(z,{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Why Invest in Human Capital?"}),i.jsx("p",{className:"text-xl text-forge-gray",children:"Web3 has created new opportunities for yield generation"})]}),i.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:r.map((h,f)=>i.jsx(z,{delay:f*.1,children:i.jsxs(oe.div,{className:"bg-white p-8 rounded-3xl border border-forge-orange/20 hover:border-forge-orange/40 transition-all duration-300 group",whileHover:{y:-8},children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-forge-orange rounded-2xl flex items-center justify-center text-white group-hover:scale-110 group-hover:bg-forge-orange-light transition-all duration-200 shadow-lg",children:h.icon}),i.jsx("span",{className:"text-sm font-bold text-forge-orange bg-forge-orange/10 px-3 py-1 rounded-full",children:h.highlight})]}),i.jsx("h3",{className:"text-2xl font-bold text-forge-dark mb-4",children:h.title}),i.jsx("p",{className:"text-lg text-forge-gray leading-relaxed",children:h.description})]})},f))})]})}),i.jsx("section",{className:"py-20 px-6 bg-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs(z,{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Investment Metrics"}),i.jsx("p",{className:"text-xl text-forge-gray",children:"Transparent performance data you can trust"})]}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[i.jsx("div",{className:"space-y-6",children:a.map((h,f)=>i.jsx(z,{delay:f*.1,children:i.jsxs(oe.div,{className:"bg-forge-cream p-6 rounded-3xl border border-forge-orange/20 hover:border-forge-orange/40 transition-all duration-300 group",whileHover:{x:5},children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-forge-gray font-medium",children:h.metric}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-2xl font-bold text-forge-dark",children:h.value}),h.trend==="up"&&i.jsx($i,{className:"w-5 h-5 text-green-500"})]})]}),i.jsx("p",{className:"text-sm text-forge-gray/80",children:h.description})]})},f))}),i.jsx(z,{delay:.4,children:i.jsxs(oe.div,{className:"bg-forge-dark text-white p-8 rounded-3xl border-4 border-forge-orange relative overflow-hidden",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[i.jsx(Ye,{variant:"dark"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("h3",{className:"text-3xl font-bold mb-6 text-forge-cream",children:"Investment Structure"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border-l-4 border-forge-orange pl-4",children:[i.jsx("h4",{className:"font-semibold text-forge-cream",children:"Minimum Investment"}),i.jsx("p",{className:"text-forge-cream/80",children:"$10,000 USDC/USDT"})]}),i.jsxs("div",{className:"border-l-4 border-blue-400 pl-4",children:[i.jsx("h4",{className:"font-semibold text-forge-cream",children:"Fund Duration"}),i.jsx("p",{className:"text-forge-cream/80",children:"7-year fund life with extension options"})]}),i.jsxs("div",{className:"border-l-4 border-green-400 pl-4",children:[i.jsx("h4",{className:"font-semibold text-forge-cream",children:"Distribution Schedule"}),i.jsx("p",{className:"text-forge-cream/80",children:"Quarterly distributions based on collections"})]}),i.jsxs("div",{className:"border-l-4 border-purple-400 pl-4",children:[i.jsx("h4",{className:"font-semibold text-forge-cream",children:"Management Fee"}),i.jsx("p",{className:"text-forge-cream/80",children:"2% annually + 20% performance fee"})]})]}),i.jsx(At,{onClick:()=>e(!0),className:"w-full bg-forge-orange text-white py-4 rounded-full font-semibold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200 mt-8",children:"Join Investment Round"})]})]})})]})]})}),i.jsx("section",{className:"py-20 px-6 bg-forge-cream",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs(z,{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-forge-dark mb-6",children:"Roadmap to Liquidity"}),i.jsx("p",{className:"text-xl text-forge-gray",children:"Clear path to returns and secondary market access"})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:o.map((h,f)=>i.jsx(z,{delay:f*.1,children:i.jsxs(oe.div,{className:"bg-white p-8 rounded-3xl border border-forge-orange/20 hover:border-forge-orange/40 transition-all duration-300 group text-center",whileHover:{y:-5},children:[i.jsx("div",{className:"w-16 h-16 bg-forge-orange rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:i.jsx("span",{className:"text-white font-bold text-xl",children:h.quarter})}),i.jsx("h3",{className:"text-2xl font-bold text-forge-dark mb-4",children:h.title}),i.jsx("p",{className:"text-forge-gray",children:h.description})]})},f))})]})}),i.jsx("section",{className:"py-16 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsx(z,{className:"text-center mb-12",children:i.jsx("h3",{className:"text-2xl font-bold text-forge-dark",children:"What Investors Say"})}),i.jsx(yr,{speed:40,className:"text-lg",children:c.map((h,f)=>i.jsxs("div",{className:"mx-8 max-w-lg",children:[i.jsx("p",{className:"text-forge-gray italic mb-2",children:h.quote}),i.jsxs("p",{className:"text-forge-dark font-semibold",children:[" ",h.author]})]},f))})]})}),i.jsxs("section",{className:"py-32 px-6 bg-forge-cream relative overflow-hidden",children:[i.jsx(Ye,{variant:"subtle"}),i.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[i.jsx(z,{children:i.jsxs("h2",{className:"text-5xl lg:text-6xl font-bold text-forge-dark mb-6 leading-tight",children:["Ready to generate",i.jsx("br",{}),"stable returns?"]})}),i.jsx(z,{delay:.2,children:i.jsx("p",{className:"text-xl text-forge-gray max-w-3xl mx-auto mb-16 leading-relaxed",children:"Join institutional investors backing the next generation of Web3 builders through innovative ISA investments."})}),i.jsx(z,{delay:.4,children:i.jsxs(oe.div,{className:"bg-forge-dark rounded-3xl p-12 text-white relative overflow-hidden border-4 border-forge-orange",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[i.jsx(Ye,{variant:"dark"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs(oe.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"inline-flex items-center gap-2 text-forge-orange mb-6",children:[i.jsx(pb,{className:"w-6 h-6"}),i.jsx("span",{className:"font-medium",children:"Next Investment Round"})]}),i.jsx("h3",{className:"text-4xl font-bold mb-6 text-forge-cream",children:"$2M Target"}),i.jsx("p",{className:"text-xl text-forge-cream/80 mb-8",children:"Funding the April 2026 cohort"}),i.jsx(At,{onClick:()=>e(!0),className:"bg-forge-orange text-white px-12 py-4 rounded-full font-semibold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:"Invest Now"})]})]})})]})]}),i.jsxs("section",{className:"py-32 px-6 bg-forge-dark text-white relative overflow-hidden",children:[i.jsx(Ye,{variant:"dark"}),i.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[i.jsx(z,{children:i.jsxs("h2",{className:"text-5xl lg:text-6xl font-bold mb-8 leading-tight text-forge-cream",children:["Invest in impact.",i.jsx("br",{}),"Generate returns."]})}),i.jsx(z,{delay:.2,children:i.jsxs("p",{className:"text-xl text-forge-cream/80 mb-12 leading-relaxed",children:["Join the future of education funding through",i.jsx("br",{}),"innovative stablecoin-backed ISA investments."]})}),i.jsx(z,{delay:.4,children:i.jsxs(At,{onClick:()=>e(!0),className:"inline-flex items-center gap-3 bg-forge-orange text-white px-12 py-6 rounded-full text-xl font-bold shadow-xl border-2 border-forge-orange hover:border-forge-orange-light transition-all duration-200",children:["Join Investment Round",i.jsx(pr,{className:"w-6 h-6"})]})}),i.jsx(z,{delay:.6,children:i.jsx("div",{className:"mt-8 text-sm text-forge-cream/60",children:"Minimum $10K USDC  Quarterly distributions  Secondary market access"})})]})]}),i.jsx(Uc,{isOpen:t,onClose:()=>e(!1),title:"Join the Investment Round",formType:"investor"})]})},lC=()=>{const t=Vs();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},cC={signInWithPassword:async({email:t,password:e})=>(await new Promise(s=>setTimeout(s,1e3)),t==="demo@example.com"&&e==="demo123"?{data:{user:{id:"mock-user-id",email:"demo@example.com",user_metadata:{name:"Demo User"}},session:{access_token:"mock-access-token",refresh_token:"mock-refresh-token"}},error:null}:{data:{user:null,session:null},error:{message:"Invalid login credentials",status:400}}),signInWithOAuth:async({provider:t})=>(console.log(`Mock OAuth redirect for ${t}`),window.location.href=`/auth/callback?provider=${t}&mock=true`,{data:null,error:null}),signOut:async()=>({error:null}),getSession:async()=>({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})};function Sh(){return!1}const Wc=Er("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=b.forwardRef(({className:t,variant:e,size:s,asChild:r=!1,...n},a)=>{const o=r?xs:"button";return i.jsx(o,{className:T(Wc({variant:e,size:s,className:t})),ref:a,...n})});Z.displayName="Button";const ne=b.forwardRef(({className:t,type:e,...s},r)=>i.jsx("input",{type:e,className:T("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s}));ne.displayName="Input";const dC=Er("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Et=b.forwardRef(({className:t,...e},s)=>i.jsx(yf,{ref:s,className:T(dC(),t),...e}));Et.displayName=yf.displayName;const ie=b.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:T("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ie.displayName="Card";const Ne=b.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:T("flex flex-col space-y-1.5 p-6",t),...e}));Ne.displayName="CardHeader";const ke=b.forwardRef(({className:t,...e},s)=>i.jsx("h3",{ref:s,className:T("text-2xl font-semibold leading-none tracking-tight",t),...e}));ke.displayName="CardTitle";const bt=b.forwardRef(({className:t,...e},s)=>i.jsx("p",{ref:s,className:T("text-sm text-muted-foreground",t),...e}));bt.displayName="CardDescription";const ae=b.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:T("p-6 pt-0",t),...e}));ae.displayName="CardContent";const ti=b.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:T("flex items-center p-6 pt-0",t),...e}));ti.displayName="CardFooter";const uC="/",hC="/companies",fC="/investors",mC="/old/hidden/index",Ug="/login",pC="/signup",gC="/forgot-password",xC="/update-password",ft="/dashboard",Ht="/dashboard/explore",Ki="/dashboard/admin",Gi="/dashboard/scoreboard",Ji="/dashboard/achievements",Tl=t=>`/dashboard/learn/course/${t}`,_h=t=>`/dashboard/learn/path/${t}`,ut={[ft]:"Dashboard",[Ht]:"Paths",[Ki]:"Admin",[Gi]:"Scoreboard",[Ji]:"Achievements",LEARN:"Learn",COURSE:"Course",PATH:"Path",PROFILE:"My Profile",PAGE:"Page"};function bC(){const{t}=yt(),[e,s]=b.useState(""),[r,n]=b.useState(""),[a,o]=b.useState(!1),[l,c]=b.useState(null),[d,u]=b.useState(!1),h=Hn(),f=Vs(),m=async g=>{var v,j,w,S,y,N,_,A,O,C,E,$,se;g.preventDefault(),c(null),o(!0);try{Sh(),console.log("Attempting Supabase authentication...");const G=Oe(),{data:P,error:M}=await G.auth.signInWithPassword({email:e.trim(),password:r});if(console.log("Login response:",{data:!!P,error:M==null?void 0:M.message}),M){if((v=M.message)!=null&&v.includes("Invalid login credentials"))throw new Error("Invalid email or password. Please check your credentials and try again.");if((j=M.message)!=null&&j.includes("Email not confirmed"))throw new Error("Please check your email and click the confirmation link before signing in.");if((w=M.message)!=null&&w.includes("Too many requests"))throw new Error("Too many login attempts. Please wait a moment before trying again.");if((S=M.message)!=null&&S.includes("body stream already read")){console.log("Supabase error detected, falling back to mock auth...");const{data:U,error:q}=await cC.signInWithPassword({email:e.trim(),password:r});if(q)throw new Error(q.message);if(U!=null&&U.user){localStorage.setItem("mock-auth-user",JSON.stringify(U.user));const V=((N=(y=f.state)==null?void 0:y.from)==null?void 0:N.pathname)||ft;h(V,{replace:!0})}return}else throw new Error(M.message||"Login failed")}if(P!=null&&P.user){console.log("Login successful, redirecting...");const U=((A=(_=f.state)==null?void 0:_.from)==null?void 0:A.pathname)||ft;h(U,{replace:!0})}}catch(G){console.error("Login error:",G),(O=G.message)!=null&&O.includes("body stream already read")?c("Authentication service configuration error. Using demo mode - try email: demo@example.com, password: demo123"):(C=G.message)!=null&&C.includes("fetch")||(E=G.message)!=null&&E.includes("network")?c("Network connection error. Please check your internet connection and try again."):($=G.message)!=null&&$.includes("Failed to execute")?c("Authentication service error. The Supabase instance may be misconfigured."):(se=G.message)!=null&&se.includes("Supabase connection failed")?c("Cannot connect to authentication service. Please check if Supabase is properly configured."):c(G.message||"An unexpected error occurred. Please try again.")}finally{o(!1)}},p=async()=>{try{c(null),o(!0);const g=Oe(),{error:v}=await g.auth.signInWithOAuth({provider:"google",options:{redirectTo:gn()}});if(v)throw console.error("Google OAuth error:",v),new Error("Google sign-in failed. Please try again.")}catch(g){console.error("Google login error:",g),c(g.message||"Google sign-in failed. Please try again."),o(!1)}},x=async()=>{try{c(null),o(!0);const g=Oe(),{error:v}=await g.auth.signInWithOAuth({provider:"github",options:{redirectTo:gn()}});if(v)throw console.error("GitHub OAuth error:",v),new Error("GitHub sign-in failed. Please try again.")}catch(g){console.error("GitHub login error:",g),c(g.message||"GitHub sign-in failed. Please try again."),o(!1)}};return i.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-forge-cream relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-forge-orange/5 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-40 right-20 w-48 h-48 bg-forge-orange/10 rounded-full blur-2xl"})]}),i.jsxs(ie,{className:"w-full max-w-md bg-white/95 backdrop-blur-sm border border-forge-orange/20 shadow-xl relative z-10",children:[i.jsx(Ne,{children:i.jsx(ke,{className:"text-forge-dark text-2xl font-bold",children:"Login"})}),i.jsxs(ae,{children:[Sh(),i.jsx("form",{onSubmit:m,children:i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Et,{htmlFor:"email",className:"text-forge-dark font-medium",children:"Email"}),i.jsx(ne,{id:"email",type:"email",placeholder:"m@example.com",required:!0,value:e,onChange:g=>s(g.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Et,{htmlFor:"password",className:"text-forge-dark font-medium",children:"Password"}),i.jsx(ne,{id:"password",type:"password",required:!0,value:r,onChange:g=>n(g.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),l&&i.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg border border-red-200",children:l}),i.jsx(Z,{type:"submit",className:"w-full bg-forge-orange text-white hover:bg-forge-orange-light transition-all duration-200 shadow-lg hover:shadow-xl font-semibold py-3 rounded-xl",disabled:a,children:a?"Loading...":"Login"}),i.jsxs("div",{className:"relative my-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t border-forge-orange/20"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-white px-2 text-forge-gray",children:"Or continue with"})})]}),i.jsxs("div",{className:"grid gap-3",children:[i.jsxs(Z,{type:"button",variant:"outline",onClick:p,className:"w-full border-forge-orange/20 hover:border-forge-orange hover:bg-forge-orange/5 transition-all duration-200 font-medium py-3 rounded-xl group",disabled:a,children:[i.jsxs("svg",{className:"w-6 h-6 mr-3 transition-transform group-hover:scale-110",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),i.jsxs(Z,{type:"button",variant:"outline",onClick:x,className:"w-full border-forge-orange/20 hover:border-forge-orange hover:bg-forge-orange/5 transition-all duration-200 font-medium py-3 rounded-xl group",disabled:a,children:[i.jsx(_a,{className:"w-6 h-6 mr-3 transition-transform group-hover:scale-110"}),"Continue with GitHub"]})]}),i.jsxs("div",{className:"mt-4 text-center text-sm",children:[i.jsx("span",{className:"text-forge-gray",children:"Don't have an account?"})," ",i.jsx(be,{to:"/signup",className:"text-forge-orange hover:text-forge-orange-light font-medium underline transition-colors",children:"Sign up"})]}),i.jsx("div",{className:"text-center text-sm",children:i.jsx(be,{to:"/forgot-password",className:"text-forge-orange hover:text-forge-orange-light font-medium underline transition-colors",children:"Forgot your password?"})}),!1]})})]})]})]})}function yC(){const[t,e]=b.useState(""),[s,r]=b.useState(""),[n,a]=b.useState(""),[o,l]=b.useState(!1),[c,d]=b.useState(""),[u,h]=b.useState(null),f=async x=>{if(x.preventDefault(),s!==n){h("Passwords do not match");return}h(null),l(!0),d("");try{const g=Oe(),{error:v}=await g.auth.signUp({email:t,password:s});if(v)throw new Error(v.message||"Sign up failed");d("Check your email for the confirmation link!")}catch(g){g.message.includes("fetch")||g.message.includes("network")?h("Authentication service not configured. Please contact the administrator."):h(g.message)}finally{l(!1)}},m=async()=>{try{h(null),l(!0);const x=Oe(),{error:g}=await x.auth.signInWithOAuth({provider:"google",options:{redirectTo:gn()}});if(g)throw new Error(g.message||"OAuth sign-in failed")}catch(x){h(x.message),l(!1)}},p=async()=>{try{h(null),l(!0);const x=Oe(),{error:g}=await x.auth.signInWithOAuth({provider:"github",options:{redirectTo:gn()}});if(g)throw new Error(g.message||"OAuth sign-in failed")}catch(x){h(x.message),l(!1)}};return i.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-forge-cream relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-forge-orange/5 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-40 right-20 w-48 h-48 bg-forge-orange/10 rounded-full blur-2xl"})]}),i.jsxs(ie,{className:"w-full max-w-md bg-white/95 backdrop-blur-sm border border-forge-orange/20 shadow-xl relative z-10",children:[i.jsx(Ne,{children:i.jsx(ke,{className:"text-forge-dark text-2xl font-bold",children:"Create Account"})}),i.jsx(ae,{children:i.jsx("form",{onSubmit:f,children:i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Et,{htmlFor:"email",className:"text-forge-dark font-medium",children:"Email"}),i.jsx(ne,{id:"email",type:"email",placeholder:"m@example.com",required:!0,value:t,onChange:x=>e(x.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Et,{htmlFor:"password",className:"text-forge-dark font-medium",children:"Password"}),i.jsx(ne,{id:"password",type:"password",required:!0,value:s,onChange:x=>r(x.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Et,{htmlFor:"confirm-password",className:"text-forge-dark font-medium",children:"Confirm Password"}),i.jsx(ne,{id:"confirm-password",type:"password",required:!0,value:n,onChange:x=>a(x.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),u&&i.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg border border-red-200",children:u}),c&&i.jsx("p",{className:"text-green-500 text-sm bg-green-50 p-3 rounded-lg border border-green-200",children:c}),i.jsx(Z,{type:"submit",className:"w-full bg-forge-orange text-white hover:bg-forge-orange-light transition-all duration-200 shadow-lg hover:shadow-xl font-semibold py-3 rounded-xl",disabled:o,children:o?"Creating account...":"Sign Up"}),i.jsxs("div",{className:"relative my-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t border-forge-orange/20"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-white px-2 text-forge-gray",children:"Or continue with"})})]}),i.jsxs("div",{className:"grid gap-3",children:[i.jsxs(Z,{type:"button",variant:"outline",onClick:m,className:"w-full border-forge-orange/20 hover:border-forge-orange hover:bg-forge-orange/5 transition-all duration-200 font-medium py-3 rounded-xl group",disabled:o,children:[i.jsxs("svg",{className:"w-6 h-6 mr-3 transition-transform group-hover:scale-110",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),i.jsxs(Z,{type:"button",variant:"outline",onClick:p,className:"w-full border-forge-orange/20 hover:border-forge-orange hover:bg-forge-orange/5 transition-all duration-200 font-medium py-3 rounded-xl group",disabled:o,children:[i.jsx(_a,{className:"w-6 h-6 mr-3 transition-transform group-hover:scale-110"}),"Continue with GitHub"]})]}),i.jsxs("div",{className:"mt-4 text-center text-sm",children:[i.jsx("span",{className:"text-forge-gray",children:"Already have an account?"})," ",i.jsx(be,{to:"/login",className:"text-forge-orange hover:text-forge-orange-light font-medium underline transition-colors",children:"Login"})]})]})})})]})]})}function vC(){const[t,e]=b.useState(""),[s,r]=b.useState(!1),[n,a]=b.useState(""),[o,l]=b.useState(null),c=async d=>{d.preventDefault(),l(null),a(""),r(!0);try{const u=Oe(),{error:h}=await u.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/update-password`});if(h)throw new Error(h.message||"Failed to send reset email");a("Check your email for a password reset link.")}catch(u){l(u.message)}finally{r(!1)}};return i.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-forge-cream relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-forge-orange/5 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-40 right-20 w-48 h-48 bg-forge-orange/10 rounded-full blur-2xl"})]}),i.jsxs(ie,{className:"w-full max-w-md bg-white/95 backdrop-blur-sm border border-forge-orange/20 shadow-xl relative z-10",children:[i.jsx(Ne,{children:i.jsx(ke,{className:"text-forge-dark text-2xl font-bold",children:"Forgot Password"})}),i.jsx(ae,{children:i.jsx("form",{onSubmit:c,children:i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Et,{htmlFor:"email",className:"text-forge-dark font-medium",children:"Email"}),i.jsx(ne,{id:"email",type:"email",placeholder:"m@example.com",required:!0,value:t,onChange:d=>e(d.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),o&&i.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg border border-red-200",children:o}),n&&i.jsx("p",{className:"text-green-500 text-sm bg-green-50 p-3 rounded-lg border border-green-200",children:n}),i.jsx(Z,{type:"submit",className:"w-full bg-forge-orange text-white hover:bg-forge-orange-light transition-all duration-200 shadow-lg hover:shadow-xl font-semibold py-3 rounded-xl",disabled:s,children:s?"Sending...":"Send Reset Link"}),i.jsxs("div",{className:"mt-4 text-center text-sm",children:[i.jsx("span",{className:"text-forge-gray",children:"Remembered your password?"})," ",i.jsx(be,{to:"/login",className:"text-forge-orange hover:text-forge-orange-light font-medium underline transition-colors",children:"Login"})]})]})})})]})]})}const Io=768;function wC(){const[t,e]=b.useState(void 0);return b.useEffect(()=>{const s=window.matchMedia(`(max-width: ${Io-1}px)`),r=()=>{e(window.innerWidth<Io)};return s.addEventListener("change",r),e(window.innerWidth<Io),()=>s.removeEventListener("change",r)},[]),!!t}const gt=b.forwardRef(({className:t,orientation:e="horizontal",decorative:s=!0,...r},n)=>i.jsx(vf,{ref:n,decorative:s,orientation:e,className:T("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));gt.displayName=vf.displayName;const jC=Sf,SC=wf,zg=b.forwardRef(({className:t,...e},s)=>i.jsx(Na,{className:T("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:s}));zg.displayName=Na.displayName;const _C=Er("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Wg=b.forwardRef(({side:t="right",className:e,children:s,...r},n)=>i.jsxs(SC,{children:[i.jsx(zg,{}),i.jsxs(ka,{ref:n,className:T(_C({side:t}),e),...r,children:[i.jsx(Kn,{className:"sr-only",children:"Menu"}),s,i.jsxs(jf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Cr,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wg.displayName=ka.displayName;const NC=b.forwardRef(({className:t,...e},s)=>i.jsx(Kn,{ref:s,className:T("text-lg font-semibold text-foreground",t),...e}));NC.displayName=Kn.displayName;const kC=b.forwardRef(({className:t,...e},s)=>i.jsx(Ca,{ref:s,className:T("text-sm text-muted-foreground",t),...e}));kC.displayName=Ca.displayName;function Nh({className:t,...e}){return i.jsx("div",{className:T("animate-pulse rounded-md bg-muted",t),...e})}const CC="sidebar:state",PC=60*60*24*7,TC="16rem",AC="18rem",EC="3rem",RC="b",qg=b.createContext(null);function si(){const t=b.useContext(qg);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const Hg=b.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:s,className:r,style:n,children:a,...o},l)=>{const c=wC(),[d,u]=b.useState(!1),[h,f]=b.useState(t),m=e??h,p=b.useCallback(j=>{const w=typeof j=="function"?j(m):j;s?s(w):f(w),document.cookie=`${CC}=${w}; path=/; max-age=${PC}`},[s,m]),x=b.useCallback(()=>c?u(j=>!j):p(j=>!j),[c,p,u]);b.useEffect(()=>{const j=w=>{w.key===RC&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),x())};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[x]);const g=m?"expanded":"collapsed",v=b.useMemo(()=>({state:g,open:m,setOpen:p,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:x}),[g,m,p,c,d,u,x]);return i.jsx(qg.Provider,{value:v,children:i.jsx(sp,{delayDuration:0,children:i.jsx("div",{style:{"--sidebar-width":TC,"--sidebar-width-icon":EC,...n},className:T("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...o,children:a})})})});Hg.displayName="SidebarProvider";const Kg=b.forwardRef(({side:t="left",variant:e="sidebar",collapsible:s="offcanvas",className:r,children:n,...a},o)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=si();return s==="none"?i.jsx("div",{className:T("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...a,children:n}):l?i.jsx(jC,{open:d,onOpenChange:u,...a,children:i.jsx(Wg,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":AC},side:t,children:i.jsx("div",{className:"flex h-full w-full flex-col",children:n})})}):i.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?s:"","data-variant":e,"data-side":t,children:[i.jsx("div",{className:T("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),i.jsx("div",{className:T("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...a,children:i.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:n})})]})});Kg.displayName="Sidebar";const Gg=b.forwardRef(({className:t,onClick:e,...s},r)=>{const{toggleSidebar:n,state:a}=si();return i.jsxs(Z,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:T("h-7 w-7",t),onClick:o=>{e==null||e(o),n()},...s,children:[i.jsx(xb,{className:T("transition-transform duration-200",a==="collapsed"?"rotate-180":"")}),i.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Gg.displayName="SidebarTrigger";const Jg=b.forwardRef(({className:t,...e},s)=>{const{toggleSidebar:r}=si();return i.jsx("button",{ref:s,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:T("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});Jg.displayName="SidebarRail";const Zg=b.forwardRef(({className:t,...e},s)=>i.jsx("main",{ref:s,className:T("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));Zg.displayName="SidebarInset";const OC=b.forwardRef(({className:t,...e},s)=>i.jsx(ne,{ref:s,"data-sidebar":"input",className:T("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));OC.displayName="SidebarInput";const Yg=b.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,"data-sidebar":"header",className:T("flex flex-col gap-2 p-2",t),...e}));Yg.displayName="SidebarHeader";const Xg=b.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,"data-sidebar":"footer",className:T("flex flex-col gap-2 p-2",t),...e}));Xg.displayName="SidebarFooter";const IC=b.forwardRef(({className:t,...e},s)=>i.jsx(gt,{ref:s,"data-sidebar":"separator",className:T("mx-2 w-auto bg-sidebar-border",t),...e}));IC.displayName="SidebarSeparator";const Qg=b.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,"data-sidebar":"content",className:T("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));Qg.displayName="SidebarContent";const ex=b.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,"data-sidebar":"group",className:T("relative flex w-full min-w-0 flex-col p-2",t),...e}));ex.displayName="SidebarGroup";const LC=b.forwardRef(({className:t,asChild:e=!1,...s},r)=>{const n=e?xs:"div";return i.jsx(n,{ref:r,"data-sidebar":"group-label",className:T("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...s})});LC.displayName="SidebarGroupLabel";const MC=b.forwardRef(({className:t,asChild:e=!1,...s},r)=>{const n=e?xs:"button";return i.jsx(n,{ref:r,"data-sidebar":"group-action",className:T("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...s})});MC.displayName="SidebarGroupAction";const tx=b.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,"data-sidebar":"group-content",className:T("w-full text-sm",t),...e}));tx.displayName="SidebarGroupContent";const sx=b.forwardRef(({className:t,...e},s)=>i.jsx("ul",{ref:s,"data-sidebar":"menu",className:T("flex w-full min-w-0 flex-col gap-1",t),...e}));sx.displayName="SidebarMenu";const Cs=b.forwardRef(({className:t,...e},s)=>i.jsx("li",{ref:s,"data-sidebar":"menu-item",className:T("group/menu-item relative",t),...e}));Cs.displayName="SidebarMenuItem";const DC=Er("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ps=b.forwardRef(({asChild:t=!1,isActive:e=!1,variant:s="default",size:r="default",tooltip:n,className:a,...o},l)=>{const c=t?xs:"button",{isMobile:d,state:u}=si(),h=i.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:T(DC({variant:s,size:r}),a),...o});return n?(typeof n=="string"&&(n={children:n}),i.jsxs(rp,{children:[i.jsx(np,{asChild:!0,children:h}),i.jsx(oc,{side:"right",align:"center",hidden:u!=="collapsed"||d,...n})]})):h});Ps.displayName="SidebarMenuButton";const $C=b.forwardRef(({className:t,asChild:e=!1,showOnHover:s=!1,...r},n)=>{const a=e?xs:"button";return i.jsx(a,{ref:n,"data-sidebar":"menu-action",className:T("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});$C.displayName="SidebarMenuAction";const FC=b.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,"data-sidebar":"menu-badge",className:T("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));FC.displayName="SidebarMenuBadge";const VC=b.forwardRef(({className:t,showIcon:e=!1,...s},r)=>{const n=b.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return i.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:T("rounded-md h-8 flex gap-2 px-2 items-center",t),...s,children:[e&&i.jsx(Nh,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),i.jsx(Nh,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":n}})]})});VC.displayName="SidebarMenuSkeleton";const BC=b.forwardRef(({className:t,...e},s)=>i.jsx("ul",{ref:s,"data-sidebar":"menu-sub",className:T("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));BC.displayName="SidebarMenuSub";const UC=b.forwardRef(({...t},e)=>i.jsx("li",{ref:e,...t}));UC.displayName="SidebarMenuSubItem";const zC=b.forwardRef(({asChild:t=!1,size:e="md",isActive:s,className:r,...n},a)=>{const o=t?xs:"a";return i.jsx(o,{ref:a,"data-sidebar":"menu-sub-button","data-size":e,"data-active":s,className:T("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...n})});zC.displayName="SidebarMenuSubButton";const WC=yb,qC=vb,HC=b.forwardRef(({className:t,inset:e,children:s,...r},n)=>i.jsxs(_f,{ref:n,className:T("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[s,i.jsx(Nf,{className:"ml-auto h-4 w-4"})]}));HC.displayName=_f.displayName;const KC=b.forwardRef(({className:t,...e},s)=>i.jsx(kf,{ref:s,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));KC.displayName=kf.displayName;const rx=b.forwardRef(({className:t,sideOffset:e=4,...s},r)=>i.jsx(bb,{children:i.jsx(Cf,{ref:r,sideOffset:e,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));rx.displayName=Cf.displayName;const Yr=b.forwardRef(({className:t,inset:e,...s},r)=>i.jsx(Pf,{ref:r,className:T("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...s}));Yr.displayName=Pf.displayName;const GC=b.forwardRef(({className:t,children:e,checked:s,...r},n)=>i.jsxs(Tf,{ref:n,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Af,{children:i.jsx(Ef,{className:"h-4 w-4"})})}),e]}));GC.displayName=Tf.displayName;const JC=b.forwardRef(({className:t,children:e,...s},r)=>i.jsxs(Rf,{ref:r,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Af,{children:i.jsx(Kl,{className:"h-2 w-2 fill-current"})})}),e]}));JC.displayName=Rf.displayName;const nx=b.forwardRef(({className:t,inset:e,...s},r)=>i.jsx(Of,{ref:r,className:T("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...s}));nx.displayName=Of.displayName;const Al=b.forwardRef(({className:t,...e},s)=>i.jsx(If,{ref:s,className:T("-mx-1 my-1 h-px bg-muted",t),...e}));Al.displayName=If.displayName;const qc=b.forwardRef(({className:t,...e},s)=>i.jsx(Lf,{ref:s,className:T("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));qc.displayName=Lf.displayName;const Hc=b.forwardRef(({className:t,...e},s)=>i.jsx(Mf,{ref:s,className:T("aspect-square h-full w-full",t),...e}));Hc.displayName=Mf.displayName;const Kc=b.forwardRef(({className:t,...e},s)=>i.jsx(Df,{ref:s,className:T("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Kc.displayName=Df.displayName;function El(){var d,u;const{t}=yt(),{user:e}=Ge(),{signOut:s,loading:r}=ic();let n=null;const a=!!((d=e==null?void 0:e.app_metadata)!=null&&d.is_admin||n!=null&&n.is_admin),o=async()=>{try{await s()}catch(h){console.error("Error during logout:",h),window.location.href="/"}},l=h=>h?h.substring(0,2).toUpperCase():"U",c=()=>{var h,f;return(h=e==null?void 0:e.user_metadata)!=null&&h.full_name?e.user_metadata.full_name:(f=e==null?void 0:e.user_metadata)!=null&&f.name?e.user_metadata.name:e!=null&&e.email?e.email.split("@")[0]:"User"};return e?i.jsxs(WC,{children:[i.jsx(qC,{asChild:!0,children:i.jsxs(Z,{variant:"ghost",className:"w-full justify-start gap-2 px-2",children:[i.jsxs(qc,{className:"h-8 w-8",children:[i.jsx(Hc,{src:(u=e==null?void 0:e.user_metadata)==null?void 0:u.avatar_url}),i.jsx(Kc,{children:l(e==null?void 0:e.email)})]}),i.jsxs("div",{className:"flex flex-col items-start text-left group-data-[collapsible=icon]:hidden",children:[i.jsx("span",{className:"text-sm font-medium",children:c()}),i.jsx("span",{className:"text-xs text-muted-foreground",children:e==null?void 0:e.email})]})]})}),i.jsxs(rx,{align:"end",className:"w-56",children:[i.jsx(nx,{children:t("profileDropdown.myAccount")}),i.jsx(Al,{}),i.jsx(Yr,{asChild:!0,children:i.jsxs(be,{to:"/dashboard/profile",children:[i.jsx(Gl,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:t("profileDropdown.profile")})]})}),a&&i.jsx(Yr,{asChild:!0,children:i.jsxs(be,{to:"/dashboard/admin",children:[i.jsx(Hl,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:t("profileDropdown.admin")})]})}),i.jsxs(Yr,{children:[i.jsx(wb,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:t("profileDropdown.connectWallet")})]}),i.jsx(Al,{}),i.jsxs(Yr,{onClick:o,disabled:r,children:[i.jsx(jb,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:t(r?"auth.logout.signingOut":"auth.logout.button")})]})]})]}):null}const Gc=b.forwardRef(({...t},e)=>i.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));Gc.displayName="Breadcrumb";const Jc=b.forwardRef(({className:t,...e},s)=>i.jsx("ol",{ref:s,className:T("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));Jc.displayName="BreadcrumbList";const cr=b.forwardRef(({className:t,...e},s)=>i.jsx("li",{ref:s,className:T("inline-flex items-center gap-1.5",t),...e}));cr.displayName="BreadcrumbItem";const ha=b.forwardRef(({asChild:t,className:e,...s},r)=>{const n=t?xs:"a";return i.jsx(n,{ref:r,className:T("transition-colors hover:text-foreground",e),...s})});ha.displayName="BreadcrumbLink";const fa=b.forwardRef(({className:t,...e},s)=>i.jsx("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:T("font-normal text-foreground",t),...e}));fa.displayName="BreadcrumbPage";const hn=({children:t,className:e,...s})=>i.jsx("li",{role:"presentation","aria-hidden":"true",className:T("[&>svg]:size-3.5",e),...s,children:t??i.jsx(Nf,{})});hn.displayName="BreadcrumbSeparator";function ZC(){const{toggleSidebar:t}=si();return i.jsx("button",{className:"md:hidden p-2 rounded-lg border border-forge-orange/20 bg-forge-cream/90 text-forge-dark hover:text-forge-orange shadow-sm","aria-label":"Open menu",onClick:t,children:i.jsx($f,{size:22})})}function YC(){var m;const{user:t,loading:e}=Ge(),s=Vs(),r=s.pathname===ft,n=s.pathname.startsWith(Ht),a=s.pathname.startsWith(Ki),o=s.pathname.startsWith(Gi),l=s.pathname.startsWith(Ji),[c,d]=b.useState(null);let u=null;const h=!!((m=t==null?void 0:t.app_metadata)!=null&&m.is_admin||u!=null&&u.is_admin),f=b.useMemo(()=>{const p=s.pathname.split("/").filter(Boolean),x=[];if(x.push({label:ut[ft],to:ft}),p.length<=1)return x;const g=p[1];if(g==="explore")x.push({label:ut[Ht]});else if(g==="profile")x.push({label:ut.PROFILE});else if(g==="scoreboard")x.push({label:ut[Gi]});else if(g==="achievements")x.push({label:ut[Ji]});else if(g==="admin"){x.push({label:ut[Ki]});const v=p[2];if(v){const w={paths:"Learning Paths",courses:"Courses",modules:"Modules",lessons:"Lessons"}[v];w&&x.push({label:w})}}else if(g==="learn"){const v=p[2];v==="course"?(x.push({label:ut.LEARN,to:Ht}),x.push({label:ut.COURSE})):v==="path"&&(x.push({label:ut.LEARN,to:Ht}),x.push({label:ut.PATH}))}return x},[s.pathname]);return e?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-forge-orange mx-auto mb-4"}),i.jsx("p",{className:"text-forge-gray",children:"Loading dashboard..."})]})}):i.jsxs(Hg,{defaultOpen:!1,children:[i.jsxs(Kg,{collapsible:"icon",children:[i.jsx(Jg,{}),i.jsx(Yg,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx(be,{to:"/dashboard",className:"flex items-center gap-3",children:i.jsx("img",{src:"https://cdn.builder.io/api/v1/assets/a59c9d8d677c4c99bcaffef64866607b/forgecollege-2c35f0?format=webp&width=800",alt:"Forge College",className:"h-10 w-auto"})}),i.jsx(Gg,{className:"h-8 w-8 bg-gray-50 hover:bg-gray-100 rounded-lg transition-all duration-200 text-gray-600 hover:text-gray-800"})]})}),i.jsx(Qg,{children:i.jsx(ex,{children:i.jsx(tx,{children:i.jsxs(sx,{children:[i.jsx(Cs,{children:i.jsx(Ps,{asChild:!0,isActive:r,tooltip:"Dashboard",children:i.jsxs(be,{to:ft,children:[i.jsx(Sb,{}),i.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:ut[ft]})]})})}),i.jsx(Cs,{children:i.jsx(Ps,{asChild:!0,isActive:n,tooltip:"Paths",children:i.jsxs(be,{to:Ht,children:[i.jsx(Xt,{}),i.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:"Paths"})]})})}),i.jsx(Cs,{children:i.jsx(Ps,{asChild:!0,isActive:o,tooltip:"Scoreboard",children:i.jsxs(be,{to:Gi,children:[i.jsx(qn,{}),i.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:"Scoreboard"})]})})}),i.jsx(Cs,{children:i.jsx(Ps,{asChild:!0,isActive:l,tooltip:"Achievements",children:i.jsxs(be,{to:Ji,children:[i.jsx(dr,{}),i.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:"Achievements"})]})})}),h&&i.jsx(Cs,{children:i.jsx(Ps,{asChild:!0,isActive:a,tooltip:"Admin",children:i.jsxs(be,{to:Ki,children:[i.jsx(Hl,{}),i.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:"Admin"})]})})}),i.jsx(Cs,{children:i.jsxs(rp,{children:[i.jsx(np,{asChild:!0,children:i.jsxs(Ps,{disabled:!0,children:[i.jsx(Jl,{}),i.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:"Real-World Project"})]})}),i.jsx(oc,{side:"right",children:"Coming soon!"})]})})]})})})}),i.jsx(Xg,{className:"p-2",children:i.jsx(El,{})})]}),i.jsxs(Zg,{children:[i.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6 border-b bg-white border-forge-cream",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ZC,{}),c?i.jsx("div",{className:"hidden md:block",children:c}):i.jsx("div",{className:"hidden md:block",children:i.jsx(Gc,{children:i.jsx(Jc,{children:f.map((p,x)=>{const g=x===f.length-1;return i.jsxs(L.Fragment,{children:[i.jsx(cr,{children:g||!p.to?i.jsx(fa,{children:p.label}):i.jsx(ha,{asChild:!0,children:i.jsx(be,{to:p.to,children:p.label})})}),!g&&i.jsx(hn,{})]},`${p.label}-${x}`)})})})})]}),i.jsx("div",{className:"flex items-center space-x-4"})]}),i.jsxs("div",{className:"px-6 py-8 relative",children:[i.jsxs("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:[i.jsx("div",{className:"absolute -top-6 right-6 w-32 h-32 bg-forge-cream rounded-full blur-2xl"}),i.jsx("div",{className:"absolute bottom-0 left-10 w-24 h-24 bg-forge-orange/10 rounded-full blur-2xl"})]}),i.jsx(Zl,{context:{setHeaderBreadcrumb:d}})]})]})]})}function XC(){const[t,e]=b.useState(""),[s,r]=b.useState(""),[n,a]=b.useState(!1),[o,l]=b.useState(""),[c,d]=b.useState(null),u=Hn(),h=async f=>{if(f.preventDefault(),t!==s){d("Passwords do not match");return}d(null),a(!0),l("");try{const m=Oe(),{error:p}=await m.auth.updateUser({password:t});if(p)throw new Error(p.message||"Failed to update password");l("Password updated successfully! Redirecting to login..."),setTimeout(()=>u("/login"),3e3)}catch(m){d(m.message)}finally{a(!1)}};return i.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-forge-cream relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-forge-orange/5 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-40 right-20 w-48 h-48 bg-forge-orange/10 rounded-full blur-2xl"})]}),i.jsxs(ie,{className:"w-full max-w-md bg-white/95 backdrop-blur-sm border border-forge-orange/20 shadow-xl relative z-10",children:[i.jsx(Ne,{children:i.jsx(ke,{className:"text-forge-dark text-2xl font-bold",children:"Update Your Password"})}),i.jsx(ae,{children:i.jsx("form",{onSubmit:h,children:i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Et,{htmlFor:"password",className:"text-forge-dark font-medium",children:"New Password"}),i.jsx(ne,{id:"password",type:"password",required:!0,value:t,onChange:f=>e(f.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Et,{htmlFor:"confirm-password",className:"text-forge-dark font-medium",children:"Confirm New Password"}),i.jsx(ne,{id:"confirm-password",type:"password",required:!0,value:s,onChange:f=>r(f.target.value),className:"border-forge-orange/20 focus:border-forge-orange focus:ring-forge-orange/20"})]}),c&&i.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg border border-red-200",children:c}),o&&i.jsx("p",{className:"text-green-500 text-sm bg-green-50 p-3 rounded-lg border border-green-200",children:o}),i.jsx(Z,{type:"submit",className:"w-full bg-forge-orange text-white hover:bg-forge-orange-light transition-all duration-200 shadow-lg hover:shadow-xl font-semibold py-3 rounded-xl",disabled:n,children:n?"Updating...":"Update Password"})]})})})]})]})}const QC=kb,ix=b.forwardRef(({className:t,...e},s)=>i.jsx(_b,{ref:s,className:T("border-b",t),...e}));ix.displayName="AccordionItem";const ax=b.forwardRef(({className:t,children:e,...s},r)=>i.jsx(Nb,{className:"flex",children:i.jsxs(Ff,{ref:r,className:T("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...s,children:[e,i.jsx(Yl,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ax.displayName=Ff.displayName;const ox=b.forwardRef(({className:t,children:e,...s},r)=>i.jsx(Vf,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:i.jsx("div",{className:T("pb-4 pt-0",t),children:e})}));ox.displayName=Vf.displayName;function e2({course:t,currentLessonId:e,onLessonClick:s}){const{user:r}=Ge(),[n,a]=b.useState({});b.useEffect(()=>{if(!r)return;(async()=>{const d=t.modules.flatMap(m=>m.lessons.map(p=>p.id)),{data:u,error:h}=await supabase.from("user_progress").select("lesson_id, status").eq("user_id",r.id).in("lesson_id",d);if(h){console.error("Error fetching progress:",h);return}const f={};u.forEach(m=>{f[m.lesson_id]=m.status}),d.forEach(m=>{f[m]||(f[m]="not_started")}),a(f)})()},[r,t]);const o=c=>{switch(n[c]||"not_started"){case"completed":return i.jsx(bf,{className:"h-4 w-4 text-green-600"});case"in_progress":return i.jsx(Cb,{className:"h-4 w-4 text-blue-600"});default:return i.jsx(Kl,{className:"h-4 w-4 text-gray-400"})}},l=c=>{const d=c.lessons.length;return{completed:c.lessons.filter(h=>n[h.id]==="completed").length,total:d}};return i.jsxs("div",{className:"p-4",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:t.title}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t.description}),i.jsx(QC,{type:"multiple",defaultValue:t.modules.map(c=>c.id),className:"w-full",children:t.modules.map(c=>{const d=l(c);return i.jsxs(ix,{value:c.id,children:[i.jsx(ax,{children:i.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[i.jsx("span",{children:c.title}),i.jsxs("span",{className:"text-sm text-gray-500",children:[d.completed,"/",d.total]})]})}),i.jsx(ox,{children:i.jsx("ul",{children:c.lessons.map(u=>i.jsx("li",{children:i.jsxs("button",{onClick:()=>s(u),className:`w-full text-left p-2 rounded-md flex items-center gap-2 transition-colors ${u.id===e?"bg-blue-100 border-l-4 border-blue-500":"hover:bg-gray-100"}`,children:[o(u.id),i.jsx("span",{className:"flex-1",children:u.title}),i.jsxs("span",{className:"text-xs text-gray-500",children:[u.xp_value," XP"]})]})},u.id))})})]},c.id)})})]})}function t2({content:t}){return i.jsx("div",{className:"prose max-w-none",children:i.jsx(Pb,{children:t})})}function s2({videoUrl:t}){const s=(r=>{const n=new RegExp("^(?:https?:\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtube\\.com|youtu\\.be)\\/^(?:watch\\?v=|embed\\/|v\\/|)([^&?%]{11})"),a=r.match(n);return a&&a[1]?`https://www.youtube.com/embed/${a[1]}`:null})(t);return s?i.jsx("div",{className:"relative",style:{paddingBottom:"56.25%",height:0},children:i.jsx("iframe",{src:s,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute top-0 left-0 w-full h-full",title:"YouTube video player"})}):i.jsx("div",{className:"text-red-500",children:"Invalid YouTube video URL provided."})}const lx=b.forwardRef(({className:t,...e},s)=>i.jsx(Bf,{className:T("grid gap-2",t),...e,ref:s}));lx.displayName=Bf.displayName;const cx=b.forwardRef(({className:t,...e},s)=>i.jsx(Uf,{ref:s,className:T("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(Tb,{className:"flex items-center justify-center",children:i.jsx(Kl,{className:"h-2.5 w-2.5 fill-current text-current"})})}));cx.displayName=Uf.displayName;function r2({quizData:t}){const[e,s]=b.useState(0),[r,n]=b.useState(null),[a,o]=b.useState(!1),[l,c]=b.useState(0),d=t[e],u=()=>{r===d.correctAnswer&&c(l+1),o(!0)},h=()=>{o(!1),n(null),e<t.length-1?s(e+1):alert(`Quiz Finished! Your score: ${l}/${t.length}`)};return d?i.jsxs(ie,{className:"w-full max-w-2xl mx-auto",children:[i.jsxs(Ne,{children:[i.jsx(ke,{children:"Quiz"}),i.jsxs(bt,{children:["Question ",e+1," of ",t.length]})]}),i.jsxs(ae,{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:d.question}),i.jsx(lx,{onValueChange:n,value:r,children:d.options.map((f,m)=>i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(cx,{value:f,id:`option-${m}`,disabled:a}),i.jsx(Et,{htmlFor:`option-${m}`,children:f})]},m))}),!a&&i.jsx(Z,{onClick:u,disabled:!r,className:"mt-6",children:"Submit Answer"}),a&&i.jsxs("div",{className:"mt-6",children:[r===d.correctAnswer?i.jsx("p",{className:"text-green-600 font-semibold",children:"Correct!"}):i.jsxs("p",{className:"text-red-600 font-semibold",children:["Incorrect. The correct answer was: ",d.correctAnswer]}),i.jsx(Z,{onClick:h,className:"mt-4",children:e<t.length-1?"Next Question":"Finish Quiz"})]})]})]}):i.jsx("div",{className:"text-red-500",children:"No quiz data available."})}function n2({lesson:t,course:e,onLessonChange:s}){const{user:r}=Ge(),[n,a]=b.useState(!1),o=Oe();if(!t)return i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsx("p",{children:"Select a lesson to begin."})});const c=e?e.modules.flatMap(p=>p.lessons):[],d=c.findIndex(p=>p.id===t.id),u=d>0?c[d-1]:null,h=d<c.length-1?c[d+1]:null,f=async()=>{if(!r){ce.error("You need to be logged in to track progress");return}a(!0);try{const{error:p}=await o.from("user_progress").upsert({user_id:r.id,lesson_id:t.id,status:"completed",completed_at:new Date().toISOString()},{onConflict:"user_id,lesson_id"});if(p)throw new Error(p.message||"Failed to save progress");ce.success("Lesson marked as completed!"),h&&s(h)}catch(p){console.error("Error marking lesson as complete:",p),ce.error("Error marking lesson as completed")}finally{a(!1)}},m=()=>{switch(t.lesson_type){case"text":return i.jsx(t2,{content:t.content});case"video":return i.jsx(s2,{videoUrl:t.content});case"quiz":return i.jsx(r2,{quizData:typeof t.content=="string"?JSON.parse(t.content):t.content});default:return i.jsxs("div",{className:"text-red-500",children:["Unsupported lesson type: ",t.lesson_type]})}};return i.jsxs("div",{className:"flex-1 flex flex-col p-6 bg-white",children:[i.jsxs("header",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:t.title}),i.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Lesson ",d+1," of ",c.length,"  ",t.xp_value," XP"]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:m()}),i.jsxs("footer",{className:"mt-6 border-t pt-4 flex justify-between",children:[i.jsx(Z,{variant:"outline",onClick:()=>u&&s(u),disabled:!u,children:"Previous lesson"}),i.jsx(Z,{onClick:f,disabled:n,children:n?"Saving...":h?"Complete and Continue":"Mark as Completed"})]})]})}const Xs={};function i2({courseTitle:t,lessonTitle:e,lessonType:s,lessonContent:r}){let n="";return typeof r=="string"?n=r:r&&(n=JSON.stringify(r)),`${`Course: ${t||""}
Lesson: ${e||""}
Type: ${s||""}`.trim()}

${n}`.slice(0,8e3)}function a2(t){const e=b.useMemo(()=>i2(t),[t.courseTitle,t.lessonTitle,t.lessonType,t.lessonContent]),[s,r]=b.useState([]),[n,a]=b.useState([]),[o,l]=b.useState(""),[c,d]=b.useState(!1),[u,h]=b.useState(!1),f=b.useRef(null),m=Xs==null?void 0:Xs.VITE_OPENAI_API_KEY,p=(Xs==null?void 0:Xs.VITE_OPENAI_MODEL)||"gpt-4o-mini",x=async()=>{var v,j,w,S;if(!m)return null;try{const y=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({model:p,messages:[{role:"system",content:"You are an expert course assistant. Generate three concise, distinct, helpful questions based on the provided lesson context. Return ONLY a JSON array of three strings."},{role:"user",content:`Lesson context (may be truncated):

${e}`}],temperature:.7,max_tokens:256})}),N=await y.text();if(!y.ok)return console.error("AI suggest client error:",N),null;let _="";try{_=((S=(w=(j=(v=JSON.parse(N))==null?void 0:v.choices)==null?void 0:j[0])==null?void 0:w.message)==null?void 0:S.content)||""}catch{_=""}const A=_.replace(/```[a-z]*\n?/gi,"").replace(/```/g,"").trim();let O=[];const C=A.match(/\[[\s\S]*\]/);if(C)try{const E=JSON.parse(C[0]);Array.isArray(E)&&(O=E)}catch{}return O.length||(O=A.split(`
`).map(E=>E.replace(/^[-*\d.\s]+/,"").replace(/^\"|\",?$/g,"").replace(/,$/,"").trim()).filter(Boolean)),O.map(E=>E.replace(/^\"|\"$/g,"").trim()).slice(0,3)}catch(y){return console.error("AI suggest client exception:",y),null}};b.useEffect(()=>{(async()=>{h(!0),r([]);try{const j=await fetch("/api/ai-chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:"suggest",lessonContext:e})});if(!j.ok){console.error("AI suggest error status:",j.status,j.statusText);const S=await x();S&&r(S);return}let w=null;try{w=await j.json()}catch{console.error("AI suggest parse error (json)");return}Array.isArray(w==null?void 0:w.suggestions)&&r(w.suggestions)}catch(j){console.error("AI suggest exception:",j);const w=await x();w&&r(w)}finally{h(!1)}})()},[e]),b.useEffect(()=>{var v;(v=f.current)==null||v.scrollTo({top:f.current.scrollHeight,behavior:"smooth"})},[n]);const g=async v=>{var w,S,y;if(!v.trim())return;const j={role:"user",content:v.trim()};a(N=>[...N,j]),l(""),d(!0);try{const N=await fetch("/api/ai-chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:"chat",lessonContext:e,messages:[{role:"user",content:v.trim()}]})});if(!N.ok){if(m)try{const C=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({model:p,messages:[{role:"system",content:'You are "AI Instructor", a concise, friendly tutor for software and blockchain courses.'},{role:"system",content:`Lesson context: ${e}`},{role:"user",content:v.trim()}],temperature:.5,max_tokens:700})});if(C.ok){const E=await C.json().catch(()=>null),$=((y=(S=(w=E==null?void 0:E.choices)==null?void 0:w[0])==null?void 0:S.message)==null?void 0:y.content)||"";a(se=>[...se,{role:"assistant",content:$||"No reply"}]);return}}catch(C){console.error("AI chat client exception:",C)}const O=`Error: ${N.status} ${N.statusText}`;a(C=>[...C,{role:"assistant",content:O}]);return}let _=null;try{_=await N.json()}catch{_=null}const A=(_==null?void 0:_.reply)||"Sorry, I could not generate an answer.";a(O=>[...O,{role:"assistant",content:A}])}catch(N){console.error("AI chat exception:",N),a(_=>[..._,{role:"assistant",content:"There was an error contacting the AI service."}])}finally{d(!1)}};return i.jsxs(ie,{className:"h-full max-h-full flex flex-col text-xs",children:[i.jsx(Ne,{className:"pb-3",children:i.jsxs(ke,{className:"text-sm flex items-center gap-2",children:[i.jsx(Ab,{className:"h-4 w-4 text-forge-dark"}),i.jsx("span",{children:"AI Instructor"})]})}),i.jsxs(ae,{className:"flex-1 min-h-0 flex flex-col gap-3 text-xs",children:[i.jsxs("div",{ref:f,className:"flex-1 min-h-0 overflow-y-auto rounded-md border p-3 bg-white flex flex-col gap-2",children:[u&&i.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Loading suggestions..."}),!!s.length&&!u&&i.jsx("div",{className:"grid gap-2",children:s.map((v,j)=>i.jsxs("button",{type:"button",onClick:()=>g(v),className:"w-full text-left border rounded-lg p-3 bg-white hover:bg-forge-cream transition-colors shadow-sm",children:[i.jsx("div",{className:"text-[10px] text-muted-foreground mb-1",children:"Suggestion"}),i.jsx("div",{className:"text-xs",children:v})]},j))}),i.jsx("div",{className:"flex-1"}),n.length===0&&i.jsx("div",{className:"text-xs text-muted-foreground",children:"Hint: Click on a suggested question or ask yours."}),n.map((v,j)=>i.jsxs("div",{className:v.role==="user"?"text-right":"text-left",children:[i.jsx("div",{className:"text-[10px] uppercase tracking-wide mb-1 text-muted-foreground",children:v.role==="user"?"Me:":"Instructor:"}),i.jsx("div",{className:"inline-block rounded-lg px-3 py-2 text-xs break-words whitespace-pre-wrap text-left "+(v.role==="user"?"bg-forge-orange text-white max-w-[70%]":"bg-forge-cream text-forge-dark"),children:v.content})]},j)),c&&i.jsx("div",{className:"text-xs text-muted-foreground",children:"Thinking..."})]}),i.jsxs("form",{onSubmit:v=>{v.preventDefault(),g(o)},className:"flex gap-2",children:[i.jsx(ne,{placeholder:"Ask me about this lesson...",value:o,onChange:v=>l(v.target.value)}),i.jsx(Z,{type:"submit",disabled:c,children:"Send"})]})]})]})}function o2(){const{courseId:t}=zf(),[e,s]=b.useState(null),r=Oe(),{setHeaderBreadcrumb:n}=Eb(),{data:a,isLoading:o}=He({queryKey:["courseView",t],enabled:!!t,queryFn:async()=>{const{data:l,error:c}=await r.from("courses").select(`
          id, title, description,
          modules:modules(id, title, order,
            lessons:lessons(id, title, content, lesson_type, order, xp_value)
          )
        `).eq("id",t).single();if(c)throw new Error(c.message||"Failed to load course");const d=l,u={id:d.id,title:d.title,description:d.description,modules:(d.modules??[]).slice().sort((h,f)=>(h.order??0)-(f.order??0)).map(h=>({id:h.id,title:h.title,lessons:(h.lessons??[]).slice().sort((f,m)=>(f.order??0)-(m.order??0)).map(f=>({id:f.id,title:f.title,content:f.content,lesson_type:f.lesson_type,xp_value:f.xp_value??0}))}))};return u.modules.length&&u.modules[0].lessons.length&&s(u.modules[0].lessons[0]),u}});return b.useEffect(()=>{if(!a)return;const l=i.jsx(Gc,{children:i.jsxs(Jc,{children:[i.jsx(cr,{children:i.jsx(ha,{asChild:!0,children:i.jsx(be,{to:ft,children:"Dashboard"})})}),i.jsx(hn,{}),i.jsx(cr,{children:i.jsx(ha,{asChild:!0,children:i.jsx(be,{to:Ht,children:"Paths"})})}),i.jsx(hn,{}),i.jsx(cr,{children:i.jsx(fa,{children:a.title})}),e&&i.jsxs(i.Fragment,{children:[i.jsx(hn,{}),i.jsx(cr,{children:i.jsx(fa,{children:e.title})})]})]})});return n(l),()=>n(null)},[a==null?void 0:a.title,e==null?void 0:e.title,n]),i.jsxs("div",{className:"flex gap-6",children:[i.jsx("div",{className:"w-80 shrink-0 border rounded-md bg-white",children:o||!a?i.jsx("div",{className:"p-4 text-gray-500",children:"Loading course..."}):i.jsx(e2,{course:a,currentLessonId:e==null?void 0:e.id,onLessonClick:s})}),i.jsx("div",{className:"flex-1 border rounded-md bg-white min-h-[60vh]",children:i.jsx(n2,{lesson:e,course:a??null,onLessonChange:s})}),i.jsx("div",{className:"w-96 shrink-0 hidden md:block sticky top-6 self-start h-[calc(100vh-7rem)] max-h-[calc(100vh-7rem)]",children:i.jsx(a2,{courseTitle:a==null?void 0:a.title,lessonTitle:e==null?void 0:e.title,lessonType:e==null?void 0:e.lesson_type,lessonContent:e==null?void 0:e.content})})]})}const kh=(t,e)=>{const s="relative group inline-flex items-center justify-center overflow-hidden rounded-2xl font-semibold transition-all duration-200 transform hover:scale-[1.02]",r={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},n={primary:"bg-forge-orange text-white hover:bg-forge-orange-light shadow-lg hover:shadow-xl",secondary:"bg-forge-dark text-white hover:bg-forge-dark/90 shadow-lg hover:shadow-xl",outline:"border-2 border-forge-orange text-forge-orange hover:bg-forge-orange hover:text-white",ghost:"text-forge-dark hover:bg-forge-cream/50"};return`${s} ${r[e]} ${n[t]}`},fr=({children:t,variant:e="primary",size:s="md",icon:r,withGradient:n=!1,withIcon:a=!1,className:o,asChild:l=!1,...c})=>{var f,m;const d=n&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-forge-orange to-forge-orange-light opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),h=r||a&&!r&&i.jsx(ql,{size:16});if(l&&b.isValidElement(t)){const p=t,x=T(kh(e,s),(f=p.props)==null?void 0:f.className,o);return b.cloneElement(p,{...c,className:x},i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"relative z-10 inline-flex items-center gap-2",children:[h,(m=p.props)==null?void 0:m.children]}),d]}))}return i.jsxs("button",{className:T(kh(e,s),o),...c,children:[i.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[h,t]}),d]})},Me={dashboardHome:{badge:"Welcome back",headlineSuffix:", ready to continue your journey?",exploreCta:"View all paths"},availablePaths:{loadingError:"Error loading learning paths",mustLoginToEnroll:"You must be logged in to enroll",enrolledBadge:"Enrolled",enroll:"Enroll",enrolling:"Enrolling...",enrollSuccess:"Enrolled successfully!",enrollError:"Error while enrolling",continueLearning:"Continue learning",viewDetails:"View details",courses:t=>`${t} course${t!==1?"s":""}`},pathOverview:{notFound:"Learning path not found.",badge:"Path",continue:"Continue",enroll:"Enroll",enrolling:"Enrolling..."}};function l2(){const{pathId:t}=zf(),{user:e}=Ge(),s=Pr(),r=Oe(),{data:n,isLoading:a,error:o}=He({queryKey:["pathOverview",t,e==null?void 0:e.id],enabled:!!t,queryFn:async()=>{const{data:u,error:h}=await r.from("learning_paths").select("id, title, description, courses(id, title, description)").eq("id",t).single();if(h)throw h;const f={id:u.id,title:u.title,description:u.description,courses:(u.courses||[]).map(p=>({id:p.id,title:p.title,description:p.description}))};let m=!1;if(e){const{data:p,error:x}=await r.from("user_enrollments").select("learning_path_id").eq("user_id",e.id).eq("learning_path_id",t).eq("is_active",!0).maybeSingle();x||(m=!!p)}return{path:f,isEnrolled:m}}}),l=Qe({mutationFn:async()=>{if(!e||!t)throw new Error("Not authenticated");const{error:u}=await r.from("user_enrollments").insert({user_id:e.id,learning_path_id:t});if(u)throw new Error(u.message||"Failed to enroll")},onSuccess:()=>{ce.success(Me.pathOverview.continue),s.invalidateQueries({queryKey:["availablePaths"]}),s.invalidateQueries({queryKey:["myPaths"]}),s.invalidateQueries({queryKey:["pathOverview"]})},onError:()=>ce.error(Me.availablePaths.enrollError)});if(a)return i.jsx("div",{className:"space-y-4",children:[...Array(2)].map((u,h)=>i.jsx(ie,{children:i.jsx(ae,{className:"p-6",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),i.jsx("div",{className:"h-20 bg-gray-100 rounded"})]})})},h))});if(o&&console.error("Supabase error loading path overview:",o),!n)return i.jsx("div",{className:"text-gray-500",children:Me.pathOverview.notFound});const{path:c,isEnrolled:d}=n;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("header",{children:[i.jsx("div",{className:"inline-flex items-center px-2 py-1 rounded bg-forge-orange/10 text-forge-orange text-xs font-medium",children:Me.pathOverview.badge}),i.jsx("h1",{className:"text-3xl font-bold mt-2 text-forge-dark",children:c.title}),c.description&&i.jsx("p",{className:"mt-2 text-forge-gray",children:c.description})]}),d?i.jsx("div",{children:i.jsx(fr,{asChild:!0,withGradient:!0,children:i.jsx(be,{to:c.courses[0]?Tl(c.courses[0].id):"#",children:Me.pathOverview.continue})})}):i.jsx("div",{children:i.jsx(fr,{onClick:()=>l.mutate(),disabled:!e||l.isPending,withGradient:!0,children:l.isPending?Me.pathOverview.enrolling:Me.pathOverview.enroll})}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Courses"}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:c.courses.map(u=>i.jsxs(ie,{className:"border-forge-cream",children:[i.jsxs(Ne,{children:[i.jsx(ke,{className:"text-forge-dark",children:u.title}),u.description&&i.jsx(bt,{className:"text-forge-gray",children:u.description})]}),i.jsx(ae,{children:i.jsx(fr,{asChild:!0,variant:"outline",className:"w-full",children:i.jsx(be,{to:Tl(u.id),children:Me.availablePaths.viewDetails})})})]},u.id))})]})]})}function dx({limit:t,className:e}){const{user:s}=Ge(),[r,n]=b.useState(null),a=Pr(),o=Oe(),{data:l=[],isLoading:c}=He({queryKey:["availablePaths",s==null?void 0:s.id],enabled:!0,staleTime:6e4,refetchOnWindowFocus:!1,keepPreviousData:!0,queryFn:async()=>{const{data:f,error:m}=await o.from("learning_paths").select(`
          id, title, description,
          courses!inner(id)
        `);if(m)throw m;let p=[];if(s){const{data:x,error:g}=await o.from("user_enrollments").select("learning_path_id").eq("user_id",s.id).eq("is_active",!0);g?console.error("Error fetching enrollments:",g):p=(x||[]).map(v=>v.learning_path_id)}return(f||[]).map(x=>({id:x.id,title:x.title,description:x.description,isEnrolled:p.includes(x.id),courseCount:x.courses.length}))}}),d=Qe({mutationFn:async f=>{if(!s)throw new Error("Not authenticated");const{error:m}=await o.from("user_enrollments").insert({user_id:s.id,learning_path_id:f});if(m)throw new Error(m.message||"Failed to enroll");return f},onMutate:f=>{n(f)},onSuccess:()=>{ce.success(Me.availablePaths.enrollSuccess),a.invalidateQueries({queryKey:["availablePaths"]}),a.invalidateQueries({queryKey:["myPaths"]})},onError:f=>{console.error("Error enrolling:",f),ce.error(Me.availablePaths.enrollError)},onSettled:()=>n(null)}),u=async f=>{if(!s){ce.error(Me.availablePaths.mustLoginToEnroll);return}d.mutate(f)};if(c)return i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(t||3)].map((f,m)=>i.jsx(ie,{children:i.jsx(ae,{className:"p-6",children:i.jsxs("div",{className:"animate-pulse space-y-2",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded"}),i.jsx("div",{className:"h-8 bg-gray-200 rounded mt-4"})]})})},m))});const h=typeof t=="number"&&t>0?l.slice(0,t):l;return i.jsx("div",{className:e,children:i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 items-stretch",children:h.map(f=>i.jsxs(ie,{className:`relative overflow-hidden border-forge-cream/80 hover:shadow-md transition-shadow h-full min-h-[300px] flex flex-col ${f.isEnrolled?"ring-1 ring-forge-orange/20":""}`,children:[f.isEnrolled&&i.jsxs("div",{className:"absolute top-2 right-2 bg-forge-orange text-white px-1.5 py-0.5 rounded-full text-[10px] font-medium flex items-center gap-1 shadow-sm",children:[i.jsx(ql,{className:"h-3 w-3"}),Me.availablePaths.enrolledBadge]}),i.jsxs(Ne,{className:"space-y-2",children:[i.jsxs(ke,{className:"flex items-start gap-2 text-forge-dark tracking-normal text-lg md:text-xl leading-tight line-clamp-2 break-words",children:[i.jsx(Xt,{className:"h-4 w-4 mt-0.5 text-forge-orange shrink-0"}),i.jsx("span",{children:f.title})]}),i.jsx(bt,{className:"text-[13px] text-forge-gray line-clamp-3 min-h-[3.75rem]",children:f.description}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-forge-gray",children:[i.jsx(Sa,{className:"h-3.5 w-3.5 text-forge-orange"}),Me.availablePaths.courses(f.courseCount||0)]})]}),i.jsx(ae,{className:"space-y-2 mt-auto",children:f.isEnrolled?i.jsx(fr,{className:"w-full text-sm py-2",size:"sm",withGradient:!0,asChild:!0,children:i.jsx(be,{to:_h(f.id),children:Me.availablePaths.continueLearning})}):i.jsxs(i.Fragment,{children:[i.jsx(fr,{onClick:()=>u(f.id),disabled:r===f.id||!s,className:"w-full text-sm py-2",variant:"outline",size:"sm",children:r===f.id?Me.availablePaths.enrolling:Me.availablePaths.enroll}),s&&i.jsx(fr,{variant:"ghost",size:"sm",className:"w-full",asChild:!0,children:i.jsx(be,{to:_h(f.id),children:Me.availablePaths.viewDetails})})]})})]},f.id))})})}function c2({className:t="",variant:e="default",children:s}){const{signOut:r,loading:n}=ic(),a=async()=>{try{await r()}catch(o){console.error("Error signing out:",o)}};return e==="minimal"?i.jsx("button",{onClick:a,disabled:n,className:`text-sm text-gray-600 hover:text-gray-900 disabled:opacity-50 ${t}`,children:s||"Sign out"}):e==="icon"?i.jsx("button",{onClick:a,disabled:n,className:`p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full disabled:opacity-50 ${t}`,title:"Sign out",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}):i.jsx("button",{onClick:a,disabled:n,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-forge-orange hover:bg-forge-orange-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-forge-orange disabled:opacity-50 disabled:cursor-not-allowed ${t}`,children:n?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing out..."]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),s||"Sign out"]})})}const d2=()=>{const{t}=yt(),[e,s]=b.useState(!1),r=Vs(),{user:n,loading:a}=Ge();if(a)return null;const o=r.pathname.startsWith("/dashboard"),l=r.pathname==="/login"||r.pathname==="/signup"||r.pathname==="/forgot-password"||r.pathname==="/login-oauth";if(o)return null;if(l)return i.jsx("nav",{className:"fixed top-4 left-0 right-0 z-50",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:i.jsx("div",{className:"flex justify-start items-center h-20",children:i.jsx(be,{to:"/",className:"flex items-center space-x-3",children:i.jsx("img",{src:"https://cdn.builder.io/api/v1/assets/a59c9d8d677c4c99bcaffef64866607b/forgecollege-2c35f0?format=webp&width=800",alt:"Forge College",className:"h-12 w-auto",style:{minWidth:"120px"}})})})})});const c=[{path:"/old/hidden/index",label:t("nav.forProfessionals")},{path:"/companies",label:t("nav.forCompanies")},{path:"/investors",label:t("nav.forInvestors")}];return i.jsx("nav",{className:"fixed top-4 left-0 right-0 z-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[i.jsxs("div",{className:"flex justify-between items-center h-20",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"md:hidden",children:i.jsx("button",{onClick:()=>s(!e),className:"text-forge-dark hover:text-forge-orange transition-colors p-2 bg-forge-cream/95 backdrop-blur-sm rounded-xl border border-forge-orange/20 shadow-lg","aria-label":e?"Close menu":"Open menu",children:e?i.jsx(Cr,{size:24}):i.jsx($f,{size:24})})}),i.jsx(be,{to:"/",className:"flex items-center space-x-3",children:i.jsx("img",{src:"https://cdn.builder.io/api/v1/assets/a59c9d8d677c4c99bcaffef64866607b/forgecollege-2c35f0?format=webp&width=800",alt:"Forge College",className:"h-12 w-auto",style:{minWidth:"120px"}})})]}),i.jsx("div",{className:"hidden md:flex items-center bg-forge-cream/95 backdrop-blur-sm rounded-2xl border border-forge-orange/20 shadow-lg overflow-hidden",children:c.map((d,u)=>i.jsxs("div",{className:"flex items-center",children:[i.jsxs(be,{to:d.path,className:`px-6 py-3 text-sm font-semibold transition-all duration-300 relative group ${r.pathname===d.path?"text-white":"text-forge-gray hover:text-forge-dark"}`,children:[r.pathname===d.path&&i.jsx("div",{className:"absolute inset-0 bg-forge-orange rounded-full m-1 -z-10"}),r.pathname!==d.path&&i.jsx("div",{className:"absolute inset-0 bg-forge-dark/20 rounded-full m-1 -z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),d.label]}),u<c.length-1&&i.jsx("div",{className:"h-6 w-px bg-forge-gray/30"})]},d.path))}),i.jsx("div",{className:"hidden md:flex items-center space-x-3",children:n?i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(be,{to:"/dashboard",className:"bg-forge-dark text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-forge-dark/80 transition-colors shadow-lg",children:t("nav.dashboard")}),i.jsx(El,{})]}):i.jsxs(i.Fragment,{children:[i.jsx(be,{to:"/login",className:"text-forge-orange transition-colors px-4 py-2 rounded-lg text-sm font-medium hover:bg-forge-cream/50",children:t("common.buttons.signIn")}),i.jsx(be,{to:"/signup",className:"bg-forge-orange text-white px-6 py-3 rounded-full text-sm font-semibold hover:bg-forge-orange-dark transition-colors shadow-lg border border-forge-orange",children:t("common.buttons.signUp")})]})}),i.jsx("div",{className:"md:hidden w-6"})]}),e&&i.jsxs("div",{className:"md:hidden py-6 bg-forge-cream/95 backdrop-blur-sm rounded-2xl mx-4 mt-4 border border-forge-orange/20 shadow-lg overflow-hidden",children:[c.map((d,u)=>i.jsxs("div",{children:[i.jsxs(be,{to:d.path,onClick:()=>s(!1),className:`block py-4 px-6 text-base font-semibold transition-colors relative group ${r.pathname===d.path?"text-white":"text-forge-gray hover:text-forge-dark"}`,children:[r.pathname===d.path&&i.jsx("div",{className:"absolute inset-0 bg-forge-orange rounded-full m-1 -z-10"}),r.pathname!==d.path&&i.jsx("div",{className:"absolute inset-0 bg-forge-dark/20 rounded-full m-1 -z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),d.label]}),u<c.length-1&&i.jsx("div",{className:"h-px bg-forge-gray/30 mx-6"})]},d.path)),n?i.jsxs("div",{className:"pt-4 mt-4 space-y-3 px-4",children:[i.jsx(be,{to:"/dashboard",onClick:()=>s(!1),className:"block text-center py-3 px-6 rounded-lg text-base font-medium bg-forge-dark text-white hover:bg-forge-dark/80 transition-colors shadow-lg",children:t("nav.dashboard")}),i.jsx("div",{children:i.jsx(El,{})}),i.jsx(c2,{className:"w-full py-3 rounded-lg"})]}):i.jsxs("div",{className:"pt-4 mt-4 space-y-3 px-4",children:[i.jsx(be,{to:"/login",onClick:()=>s(!1),className:"block text-center py-3 px-6 rounded-lg text-base font-medium text-forge-orange hover:bg-forge-orange/10 transition-colors",children:t("common.buttons.signIn")}),i.jsx(be,{to:"/signup",onClick:()=>s(!1),className:"block text-center py-3 px-6 rounded-full text-base font-semibold bg-forge-orange text-white hover:bg-forge-orange-dark transition-colors shadow-lg border border-forge-orange",children:t("common.buttons.signUp")})]})]})]})})};function u2(){return i.jsxs("div",{children:[i.jsx(d2,{}),i.jsx("main",{children:i.jsx(Zl,{})})]})}function h2({className:t}){const{user:e}=Ge(),[s,r]=b.useState(null),{isLoading:n}=He({queryKey:["continueLearning",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:o}=await supabase.from("user_progress").select("lesson_id").eq("user_id",e.id).order("completed_at",{ascending:!1}).limit(1).maybeSingle();if(!o)return null;const{data:l,error:c}=await supabase.from("lessons").select("modules(courses(id, title, description))").eq("id",o.lesson_id).single();if(c||!l)return null;const d=Array.isArray(l.modules)?l.modules[0]:l.modules,u=d?Array.isArray(d.courses)?d.courses[0]:d.courses:null;if(!u)return null;const h={id:u.id,title:u.title,description:u.description};return r(h),h}}),a=i.jsxs(ie,{className:`bg-blue-50/60 border-blue-100 mb-8 h-full min-h-[220px] flex flex-col ${t||""}`,children:[i.jsxs(Ne,{children:[i.jsx(ke,{className:"text-2xl",children:"Pick up where you left off"}),i.jsx(bt,{children:"You were studying:"})]}),i.jsx(ae,{children:i.jsx("div",{className:"h-10 w-2/3 bg-blue-100 animate-pulse rounded"})})]});return n?a:s?i.jsxs(ie,{className:`bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200 mb-8 h-full min-h-[220px] flex flex-col ${t||""}`,children:[i.jsxs(Ne,{children:[i.jsx(ke,{className:"text-2xl tracking-tight",children:"Pick up where you left off"}),i.jsx(bt,{children:"You were studying:"}),i.jsx("p",{className:"text-xl font-semibold pt-2",children:s.title})]}),i.jsx(ae,{children:i.jsx(be,{to:Tl(s.id),children:i.jsx(Z,{size:"lg",className:"w-full md:w-auto",children:"Continue learning"})})})]}):null}const f2={totalXP:1320,completedLessons:9,inProgressPaths:2,totalTimeSpent:210};function m2(){const{user:t}=Ge(),e=b.useMemo(()=>Oe(),[]),[s,r]=b.useState({totalXP:0,completedLessons:0,inProgressPaths:0,totalTimeSpent:0}),[n,a]=b.useState(!0),[o,l]=b.useState(!0);b.useEffect(()=>{if(!t)return;let u=!0;return(async()=>{const f=Date.now();u&&a(!0);try{const{data:m,error:p}=await e.from("user_progress").select("lesson_id, status").eq("user_id",t.id).in("status",["in_progress","completed"]);if(p)throw new Error(p.message||"Failed to load user progress");const x=m||[],g=x.filter(_=>_.status==="completed").length,v=Array.from(new Set(x.map(_=>_.lesson_id).filter(Boolean))),j=50;let w=[];if(v.length>0)for(let _=0;_<v.length;_+=j){const A=v.slice(_,_+j),{data:O,error:C}=await e.from("lessons").select("id, xp_value, modules(courses(path_id))").in("id",A);if(C)throw new Error(C.message||"Failed to load lessons");w=w.concat(O||[])}let S=0;const y=new Set;w.forEach(_=>{var O,C,E;S+=(_==null?void 0:_.xp_value)||0;const A=((C=(O=_==null?void 0:_.modules)==null?void 0:O.courses)==null?void 0:C.path_id)||((E=_==null?void 0:_.modules)==null?void 0:E.path_id);A&&y.add(A)});const N=y.size;if(u){const _={totalXP:S,completedLessons:g,inProgressPaths:N,totalTimeSpent:Math.max(0,Math.floor(g*15))};r(_),l(!(_.totalXP||_.completedLessons||_.inProgressPaths))}}catch(m){if(!u)return;console.error("Error fetching user statistics:",(m==null?void 0:m.message)||m),r({totalXP:0,completedLessons:0,inProgressPaths:0,totalTimeSpent:0}),l(!0)}finally{if(!u)return;const m=Date.now()-f,x=Math.max(0,600-m);setTimeout(()=>{u&&a(!1)},x)}})(),()=>{u=!1}},[t,e]);const c=o||n?f2:s,d=[{title:"Total XP",value:c.totalXP,icon:qn,color:"text-yellow-600",bgColor:"bg-gradient-to-br from-yellow-50 to-yellow-100"},{title:"Completed Lessons",value:c.completedLessons,icon:Xt,color:"text-green-600",bgColor:"bg-gradient-to-br from-green-50 to-green-100"},{title:"Active Paths",value:c.inProgressPaths,icon:Rt,color:"text-blue-600",bgColor:"bg-gradient-to-br from-blue-50 to-blue-100"},{title:"Study Time",value:`${c.totalTimeSpent} min`,icon:Wf,color:"text-purple-600",bgColor:"bg-gradient-to-br from-purple-50 to-purple-100"}];return i.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:d.map((u,h)=>{const f=u.icon;return i.jsx(ie,{children:i.jsx(ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`${u.bgColor} p-2 rounded-md shadow-inner`,children:i.jsx(f,{className:`h-6 w-6 ${u.color}`})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:u.title}),i.jsx("p",{className:"text-2xl font-bold tracking-tight",children:u.value})]})]})})},h)})})}const ux=b.forwardRef(({className:t,value:e,...s},r)=>i.jsx(qf,{ref:r,className:T("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:i.jsx(Rb,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));ux.displayName=qf.displayName;const Ch=5;function p2({className:t}){const{user:e}=Ge(),s=b.useMemo(()=>Oe(),[]),{data:r=[],isLoading:n}=He({queryKey:["learningHabits",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),staleTime:6e4,refetchOnWindowFocus:!1,refetchOnReconnect:!0,keepPreviousData:!0,queryFn:async()=>{const{data:c,error:d}=await s.from("user_progress").select("completed_at").eq("user_id",e.id).eq("status","completed").not("completed_at","is",null).order("completed_at",{ascending:!1}).limit(200);if(d)throw new Error(d.message||"Failed to load learning habits");return c}}),{streakDays:a,weekCount:o,weekSeries:l}=b.useMemo(()=>{const c=new Map;for(const m of r){if(!m.completed_at)continue;const x=new Date(m.completed_at).toISOString().slice(0,10);c.set(x,(c.get(x)||0)+1)}const d=new Date;d.setHours(0,0,0,0);let u=0;for(let m=new Date(d);;m.setDate(m.getDate()-1)){const p=m.toISOString().slice(0,10),x=c.get(p)||0;if(u===0&&x===0)break;if(x>0)u+=1;else break}const h=[];let f=0;for(let m=6;m>=0;m--){const p=new Date(d);p.setDate(d.getDate()-m);const x=p.toISOString().slice(0,10),g=c.get(x)||0;h.push(g),f+=g}return{streakDays:u,weekCount:f,weekSeries:h}},[r]);return i.jsxs(ie,{className:`h-full min-h-[220px] flex flex-col ${t||""}`,children:[i.jsx(Ne,{children:i.jsx(ke,{className:"text-lg",children:"Study habits"})}),i.jsxs(ae,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Current streak"}),i.jsxs("div",{className:"text-2xl font-semibold",children:[n?"-":a," day",!n&&a!==1?"s":""]})]}),i.jsx("div",{className:"text-xs text-gray-500",children:"Keep it going daily"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Weekly goal"}),i.jsxs("div",{className:"text-sm font-medium",children:[n?"-":o,"/",Ch," lessons"]})]}),i.jsx(ux,{value:Math.min(100,o/Ch*100)})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:l.map((c,d)=>i.jsx("div",{className:"flex flex-col items-center gap-1",children:i.jsx("div",{className:"w-6 rounded bg-forge-orange/20",style:{height:Math.max(6,Math.min(28,c*8))},title:`${c} completions`})},d))})]})]})}function g2(){const{user:t}=Ge(),e=()=>{var s,r;return console.log("User data:",t),console.log("User metadata:",t==null?void 0:t.user_metadata),(s=t==null?void 0:t.user_metadata)!=null&&s.full_name?t.user_metadata.full_name:(r=t==null?void 0:t.user_metadata)!=null&&r.name?t.user_metadata.name:t!=null&&t.email?t.email.split("@")[0]:"User"};return i.jsxs("div",{className:"space-y-8",children:[i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"text-gray-500",children:[i.jsx("span",{className:"inline-flex items-center gap-2 text-sm rounded-full bg-forge-cream text-forge-dark px-2 py-0.5 mr-2",children:Me.dashboardHome.badge}),i.jsx("span",{className:"font-medium text-forge-dark",children:e()}),Me.dashboardHome.headlineSuffix]})}),i.jsx("div",{className:"grid grid-cols-12 gap-6",children:i.jsxs("div",{className:"col-span-12 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[i.jsx("div",{className:"col-span-12 xl:col-span-8",children:i.jsx(h2,{className:"mb-0"})}),i.jsx("div",{className:"col-span-12 xl:col-span-4",children:i.jsx(p2,{className:"mb-0"})})]}),i.jsx(m2,{})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:ut[Ht]}),i.jsx(be,{to:Ht,className:"text-forge-orange hover:underline",children:Me.dashboardHome.exploreCta})]}),i.jsx(dx,{className:"mt-2"})]})]})}const hx="forge-college-student-profile";async function x2(){await new Promise(e=>setTimeout(e,500));const t=localStorage.getItem(hx);return t?JSON.parse(t):{fullName:"",email:"",country:"",city:"",languages:[],yearsExperience:0,stacks:[],skillsToDevelop:[],positionCompany:"",linkedinUrl:"",githubUrl:""}}async function b2(t){if(await new Promise(e=>setTimeout(e,800)),localStorage.setItem(hx,JSON.stringify(t)),Math.random()<.01)throw new Error("Failed to update profile. Please try again.")}const y2=[{id:"personal",label:"Personal Information",icon:Gl,description:"Basic personal details and contact information"},{id:"professional",label:"Professional Profile",icon:ja,description:"Work experience, skills, and career information"},{id:"learning",label:"Learning Progress",icon:Xt,description:"Track your learning journey and achievements"},{id:"career",label:"Career Preferences",icon:Rt,description:"Job preferences and career goals"}];function v2({activeTab:t,onTabChange:e}){return i.jsx("div",{className:"space-y-2",children:y2.map(s=>{const r=s.icon,n=t===s.id;return i.jsx("button",{onClick:()=>e(s.id),className:T("w-full text-left p-4 rounded-lg transition-all duration-200","hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2",n?"bg-orange-500 text-white shadow-md":"bg-white text-gray-700 hover:text-gray-900"),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(r,{className:T("h-5 w-5",n?"text-white":"text-gray-500")}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:s.label}),i.jsx("div",{className:T("text-sm mt-1",n?"text-orange-100":"text-gray-500"),children:s.description})]})]})},s.id)})})}function Ti({title:t,description:e,children:s,className:r}){return i.jsxs("div",{className:T("bg-white rounded-lg shadow-sm border border-gray-200 p-6",r),children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t}),e&&i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e})]}),s]})}function dt({label:t,required:e=!1,error:s,description:r,children:n,className:a}){return i.jsxs("div",{className:T("space-y-2",a),children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[t,e&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n,r&&i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r}),s&&i.jsx("p",{className:"text-sm text-red-500",children:s})]})}function Lo({value:t,onChange:e,placeholder:s="Type and press Enter",className:r,disabled:n}){const[a,o]=b.useState(""),l=u=>{const h=u.trim();h&&!t.includes(h)&&(e([...t,h]),o(""))},c=u=>{e(t.filter(h=>h!==u))},d=u=>{u.key==="Enter"?(u.preventDefault(),l(a)):u.key==="Backspace"&&a===""&&t.length>0&&c(t[t.length-1])};return i.jsx("div",{className:T("space-y-2",r),children:i.jsxs("div",{className:"flex flex-wrap gap-2 min-h-[40px] p-2 border border-gray-300 rounded-lg bg-white focus-within:ring-2 focus-within:ring-orange-500 focus-within:border-orange-500",children:[t.map((u,h)=>i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 text-orange-800 text-sm rounded-md",children:[u,i.jsx("button",{type:"button",onClick:()=>c(u),disabled:n,className:"text-orange-600 hover:text-orange-800 disabled:opacity-50",children:i.jsx(Cr,{className:"h-3 w-3"})})]},h)),i.jsx("input",{type:"text",value:a,onChange:u=>o(u.target.value),onKeyDown:d,placeholder:t.length===0?s:"",disabled:n,className:"flex-1 min-w-[120px] outline-none text-sm bg-transparent placeholder-gray-400"})]})})}const mt=Fb,pt=Vb,nt=b.forwardRef(({className:t,children:e,...s},r)=>i.jsxs(Hf,{ref:r,className:T("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[e,i.jsx(Ob,{asChild:!0,children:i.jsx(Yl,{className:"h-4 w-4 opacity-50"})})]}));nt.displayName=Hf.displayName;const fx=b.forwardRef(({className:t,...e},s)=>i.jsx(Kf,{ref:s,className:T("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(Ib,{className:"h-4 w-4"})}));fx.displayName=Kf.displayName;const mx=b.forwardRef(({className:t,...e},s)=>i.jsx(Gf,{ref:s,className:T("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(Yl,{className:"h-4 w-4"})}));mx.displayName=Gf.displayName;const it=b.forwardRef(({className:t,children:e,position:s="popper",...r},n)=>i.jsx(Lb,{children:i.jsxs(Jf,{ref:n,className:T("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...r,children:[i.jsx(fx,{}),i.jsx(Mb,{className:T("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(mx,{})]})}));it.displayName=Jf.displayName;const w2=b.forwardRef(({className:t,...e},s)=>i.jsx(Zf,{ref:s,className:T("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));w2.displayName=Zf.displayName;const Ee=b.forwardRef(({className:t,children:e,...s},r)=>i.jsxs(Yf,{ref:r,className:T("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Db,{children:i.jsx(Ef,{className:"h-4 w-4"})})}),i.jsx($b,{children:e})]}));Ee.displayName=Yf.displayName;const j2=b.forwardRef(({className:t,...e},s)=>i.jsx(Xf,{ref:s,className:T("-mx-1 my-1 h-px bg-muted",t),...e}));j2.displayName=Xf.displayName;const S2=["Brazil","United States","Canada","United Kingdom","Germany","France","Spain","Italy","Netherlands","Sweden","Norway","Denmark","Finland","Switzerland","Austria","Belgium","Portugal","Ireland","Australia","New Zealand","Japan","South Korea","Singapore","India","China","Mexico","Argentina","Chile","Colombia","Peru","Uruguay","Paraguay","Venezuela","Ecuador","Bolivia","Guyana","Suriname","French Guiana"];function _2(){const{t,i18n:e}=yt(),{user:s}=Ge(),{toast:r}=zm(),[n,a]=b.useState("personal"),[o,l]=b.useState(null),[c,d]=b.useState(!0),[u,h]=b.useState(!1),[f,m]=b.useState(!1),[p,x]=b.useState({});b.useEffect(()=>{g()},[]),b.useEffect(()=>{o&&m(!0)},[o]);const g=async()=>{try{d(!0);const S=await x2();s!=null&&s.email&&(S.email=s.email),l(S)}catch{r({title:t("common.errors.unexpectedError"),description:t("profile.messages.updateError")})}finally{d(!1)}},v=async()=>{if(!o)return;const S={};if(o.fullName.trim()||(S.fullName=t("profile.errors.fullNameRequired")),o.country.trim()||(S.country=t("profile.errors.countryRequired")),o.linkedinUrl&&!w(o.linkedinUrl)&&(S.linkedinUrl=t("profile.errors.invalidLinkedin")),o.githubUrl&&!w(o.githubUrl)&&(S.githubUrl=t("profile.errors.invalidGithub")),Object.keys(S).length>0){x(S),r({title:t("common.errors.unexpectedError"),description:t("profile.messages.validationError")});return}try{h(!0),await b2(o),x({}),m(!1),r({title:t("common.buttons.save"),description:t("profile.messages.updateSuccess")})}catch{r({title:t("common.errors.unexpectedError"),description:t("profile.messages.updateError")})}finally{h(!1)}},j=(S,y)=>{o&&(l({...o,[S]:y}),p[S]&&x({...p,[S]:void 0}))},w=S=>{try{return new URL(S),!0}catch{return!1}};return c?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(et,{className:"h-6 w-6 animate-spin text-orange-500"}),i.jsx("span",{className:"text-gray-600",children:t("profile.loadingProfile")})]})}):o?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t("profile.title")}),i.jsx("p",{className:"text-gray-600 mt-2",children:t("profile.subtitle")})]}),f&&i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[i.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium",children:t("profile.unsavedChanges")})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx(v2,{activeTab:n,onTabChange:a})}),i.jsxs("div",{className:"lg:col-span-3",children:[n==="personal"&&i.jsx(Ti,{title:t("profile.sections.personal"),description:t("profile.sections.personalDesc"),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(dt,{label:t("common.labels.fullName"),required:!0,error:p.fullName,children:i.jsxs("div",{className:"relative",children:[i.jsx(Gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ne,{value:o.fullName,onChange:S=>j("fullName",S.target.value),placeholder:t("common.placeholders.enterFullName"),className:"pl-10"})]})}),i.jsxs(dt,{label:t("common.labels.email"),required:!0,children:[i.jsxs("div",{className:"relative",children:[i.jsx(Qf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ne,{value:o.email,disabled:!0,className:"pl-10 bg-gray-50"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t("profile.messages.emailNote")})]}),i.jsx(dt,{label:t("common.labels.country"),required:!0,error:p.country,children:i.jsxs("div",{className:"relative",children:[i.jsx(Bb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsxs(mt,{value:o.country,onValueChange:S=>j("country",S),children:[i.jsx(nt,{className:"pl-10",children:i.jsx(pt,{placeholder:t("common.placeholders.selectCountry")})}),i.jsx(it,{children:S2.map(S=>i.jsx(Ee,{value:S,children:S},S))})]})]})}),i.jsx(dt,{label:t("common.labels.city"),children:i.jsxs("div",{className:"relative",children:[i.jsx(Ub,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ne,{value:o.city,onChange:S=>j("city",S.target.value),placeholder:t("common.placeholders.enterCity"),className:"pl-10"})]})}),i.jsx("div",{className:"md:col-span-2",children:i.jsx(dt,{label:t("common.labels.languages"),description:t("profile.sections.personalDesc"),children:i.jsx(Lo,{value:o.languages,onChange:S=>j("languages",S),placeholder:t("common.placeholders.typeLanguage")})})}),i.jsx("div",{className:"md:col-span-2",children:i.jsx(dt,{label:t("profile.fields.languagePreference"),description:t("profile.fields.selectLanguage"),children:i.jsxs("div",{className:"relative",children:[i.jsx(zb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsxs(mt,{value:e.language,onValueChange:S=>{e.changeLanguage(S),r({title:t("common.buttons.save"),description:t("profile.messages.updateSuccess")})},children:[i.jsx(nt,{className:"pl-10",children:i.jsx(pt,{})}),i.jsxs(it,{children:[i.jsx(Ee,{value:"en-US",children:"English (US)"}),i.jsx(Ee,{value:"pt-BR",children:"Portugus (BR)"})]})]})]})})})]})}),n==="professional"&&i.jsx(Ti,{title:t("profile.sections.professional"),description:t("profile.sections.professionalDesc"),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(dt,{label:t("profile.fields.yearsExperience"),children:i.jsxs("div",{className:"relative",children:[i.jsx(ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ne,{type:"number",min:"0",value:o.yearsExperience,onChange:S=>j("yearsExperience",parseInt(S.target.value)||0),placeholder:"0",className:"pl-10"})]})}),i.jsx(dt,{label:t("profile.fields.positionCompany"),children:i.jsxs("div",{className:"relative",children:[i.jsx(Wb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ne,{value:o.positionCompany,onChange:S=>j("positionCompany",S.target.value),placeholder:t("profile.fields.positionPlaceholder"),className:"pl-10"})]})}),i.jsx("div",{className:"md:col-span-2",children:i.jsx(dt,{label:t("profile.fields.stacksDominated"),description:t("profile.fields.stacksDesc"),children:i.jsx(Lo,{value:o.stacks,onChange:S=>j("stacks",S),placeholder:t("profile.fields.stacksPlaceholder")})})}),i.jsx("div",{className:"md:col-span-2",children:i.jsx(dt,{label:t("profile.fields.skillsToDevelop"),description:t("profile.fields.skillsDesc"),children:i.jsx(Lo,{value:o.skillsToDevelop,onChange:S=>j("skillsToDevelop",S),placeholder:t("profile.fields.skillsPlaceholder")})})}),i.jsx(dt,{label:t("profile.fields.linkedinUrl"),error:p.linkedinUrl,children:i.jsxs("div",{className:"relative",children:[i.jsx(em,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ne,{value:o.linkedinUrl,onChange:S=>j("linkedinUrl",S.target.value),placeholder:t("profile.fields.linkedinPlaceholder"),className:"pl-10"})]})}),i.jsx(dt,{label:t("profile.fields.githubUrl"),error:p.githubUrl,children:i.jsxs("div",{className:"relative",children:[i.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ne,{value:o.githubUrl,onChange:S=>j("githubUrl",S.target.value),placeholder:t("profile.fields.githubPlaceholder"),className:"pl-10"})]})})]})}),n==="learning"&&i.jsx(Ti,{title:t("profile.sections.learning"),description:t("profile.sections.learningDesc"),children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Xt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t("profile.comingSoon.title")}),i.jsx("p",{className:"text-gray-600",children:t("profile.comingSoon.learning")})]})}),n==="career"&&i.jsx(Ti,{title:t("profile.sections.career"),description:t("profile.sections.careerDesc"),children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Rt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t("profile.comingSoon.title")}),i.jsx("p",{className:"text-gray-600",children:t("profile.comingSoon.career")})]})}),n==="personal"||n==="professional"?i.jsx("div",{className:"mt-6 flex justify-end",children:i.jsx(Z,{onClick:v,disabled:u||!f,className:"bg-orange-500 hover:bg-orange-600 text-white",children:u?i.jsxs(i.Fragment,{children:[i.jsx(et,{className:"h-4 w-4 animate-spin mr-2"}),t("common.buttons.saving")]}):i.jsxs(i.Fragment,{children:[i.jsx(qb,{className:"h-4 w-4 mr-2"}),t("common.buttons.save")]})})}):null]})]})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-gray-600",children:t("profile.failedToLoad")}),i.jsx(Z,{onClick:g,className:"mt-4",children:t("common.buttons.tryAgain")})]})}function N2({children:t}){const{user:e,loading:s}=Ge(),r=Vs();return s?i.jsx("div",{className:"min-h-[40vh] flex items-center justify-center text-gray-500",children:"Loading..."}):e?i.jsx(i.Fragment,{children:t}):i.jsx(Xl,{to:Ug,replace:!0,state:{from:r}})}function k2({children:t}){var o;const{user:e,loading:s}=Ge(),r=Vs();let n=null;const a=!!((o=e==null?void 0:e.app_metadata)!=null&&o.is_admin||n!=null&&n.is_admin);return s?i.jsx("div",{className:"min-h-[40vh] flex items-center justify-center text-gray-500",children:"Checking admin permissions..."}):a?i.jsx(i.Fragment,{children:t}):i.jsx(Xl,{to:ft,replace:!0,state:{from:r}})}function C2(){const[t,e]=b.useState(!1),[s,r]=b.useState(null),n=Hn(),a=Oe();async function o(l){try{e(!0),r(null);const{error:c}=await a.auth.signInWithOAuth({provider:l,options:{redirectTo:gn()}});if(c)throw c}catch(c){console.error("OAuth error:",c),r(`Failed to sign in with ${l}. Please try again.`)}finally{e(!1)}}return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to Forge College"}),i.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Choose your preferred authentication method"})]}),i.jsxs("div",{className:"mt-8 space-y-4",children:[i.jsxs("button",{onClick:()=>o("google"),disabled:t,className:"group relative w-full flex justify-center py-3 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-forge-orange disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),i.jsxs("button",{onClick:()=>o("github"),disabled:t,className:"group relative w-full flex justify-center py-3 px-4 border border-gray-300 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z",clipRule:"evenodd"})}),"Continue with GitHub"]})]}),s&&i.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-md p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm text-red-800",children:s})})]})}),t&&i.jsx("div",{className:"mt-4 text-center",children:i.jsxs("div",{className:"inline-flex items-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-forge-orange",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i.jsx("span",{className:"text-sm text-gray-600",children:"Redirecting to authentication..."})]})}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:()=>n("/"),className:"text-forge-orange hover:text-forge-orange-dark text-sm font-medium",children:" Back to Home"})})]})})}function P2(){const[t,e]=b.useState("loading"),[s,r]=b.useState("Signing you in..."),n=Hn(),a=Oe();return b.useEffect(()=>{async function o(){var l;try{if((l=(await a.auth.getSession()).data.session)!=null&&l.user){e("success"),r("Authentication successful! Redirecting..."),await new Promise(m=>setTimeout(m,800)),n("/dashboard",{replace:!0});return}const u=new URL(window.location.href).searchParams.get("code");if(u){const{error:m}=await a.auth.exchangeCodeForSession(u);if(m)throw m}else await new Promise(m=>setTimeout(m,800));const{data:{session:h},error:f}=await a.auth.getSession();if(f)throw f;if(h!=null&&h.user)e("success"),r("Authentication successful! Redirecting..."),await new Promise(m=>setTimeout(m,800)),n("/dashboard",{replace:!0});else throw new Error("No session found after OAuth completion")}catch(c){console.error("Auth callback error:",c),e("error"),r("Authentication failed. Please try again."),setTimeout(()=>n("/login"),3e3)}}o()},[n,a]),i.jsxs("div",{className:"min-h-screen bg-forge-cream relative overflow-hidden flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-forge-orange/5 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-40 right-20 w-48 h-48 bg-forge-orange/10 rounded-full blur-2xl"})]}),i.jsx("div",{className:"max-w-md w-full space-y-8 bg-white/95 backdrop-blur-sm border border-forge-orange/20 shadow-xl rounded-2xl p-8 relative z-10",children:i.jsxs("div",{className:"text-center",children:[t==="loading"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"mx-auto h-12 w-12 animate-spin rounded-full border-4 border-forge-orange border-t-transparent"}),i.jsx("h2",{className:"text-2xl font-bold text-forge-dark",children:"Processing Authentication"}),i.jsx("p",{className:"text-forge-gray",children:s})]}),t==="success"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-forge-orange/10 flex items-center justify-center",children:i.jsx("svg",{className:"h-8 w-8 text-forge-orange",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("h2",{className:"text-2xl font-bold text-forge-dark",children:"Welcome to Forge College!"}),i.jsx("p",{className:"text-forge-gray",children:s})]}),t==="error"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h2",{className:"text-2xl font-bold text-forge-dark",children:"Authentication Failed"}),i.jsx("p",{className:"text-forge-gray",children:s}),i.jsx("button",{onClick:()=>n("/login"),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-forge-orange hover:bg-forge-orange-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-forge-orange transition-all duration-200 shadow-lg hover:shadow-xl rounded-xl",children:"Try Again"})]})]})})]})}const T2=()=>{const t=new Date().toISOString();return i.jsxs("div",{style:{padding:"2rem",textAlign:"center",fontFamily:"system-ui, sans-serif",maxWidth:"800px",margin:"0 auto"},children:[i.jsx("h1",{children:" Pgina de Teste - Forge College"}),i.jsx("p",{children:"Esta  uma pgina de teste esttica sem dependncias externas."}),i.jsxs("div",{style:{backgroundColor:"#f0f8ff",padding:"1rem",borderRadius:"8px",margin:"1rem 0"},children:[i.jsx("h2",{children:"Status do Sistema"}),i.jsx("p",{children:" React funcionando"}),i.jsx("p",{children:" TypeScript funcionando"}),i.jsx("p",{children:" Build funcionando"}),i.jsx("p",{children:" Deploy funcionando"}),i.jsxs("p",{children:[" SSR funcionando (timestamp: ",t,")"]})]}),i.jsxs("div",{style:{backgroundColor:"#f0fff0",padding:"1rem",borderRadius:"8px",margin:"1rem 0"},children:[i.jsx("h3",{children:"Informaes do Ambiente (SSR)"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Timestamp do Servidor:"})," ",t]}),i.jsx("p",{children:i.jsx("strong",{children:"Se voc v este texto sem JS, o SSR est OK"})})]}),i.jsxs("div",{style:{backgroundColor:"#fff8f0",padding:"1rem",borderRadius:"8px",margin:"1rem 0"},children:[i.jsx("h3",{children:"Teste de JavaScript (Client-side)"}),i.jsx("p",{children:"Se o JavaScript estiver funcionando, voc ver informaes adicionais abaixo:"}),i.jsx("div",{id:"js-test",style:{backgroundColor:"#e8f5e8",padding:"0.5rem",borderRadius:"4px",margin:"0.5rem 0"},children:i.jsx("p",{children:"Carregando informaes do cliente..."})}),i.jsx("button",{onClick:()=>alert("JavaScript est funcionando!"),style:{padding:"0.5rem 1rem",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Testar JavaScript"})]}),i.jsx("p",{style:{marginTop:"2rem",color:"#666"},children:"Se voc est vendo esta pgina, o problema no  de infraestrutura bsica."}),i.jsx("script",{dangerouslySetInnerHTML:{__html:`
          document.addEventListener('DOMContentLoaded', function() {
            const jsTest = document.getElementById('js-test');
            if (jsTest) {
              jsTest.innerHTML = \`
                <p><strong> JavaScript funcionando!</strong></p>
                <p><strong>User Agent:</strong> \${navigator.userAgent}</p>
                <p><strong>URL:</strong> \${window.location.href}</p>
                <p><strong>Timestamp do Cliente:</strong> \${new Date().toISOString()}</p>
              \`;
            }
          });
        `}})]})},A2=()=>i.jsxs("div",{children:[i.jsxs("pre",{children:["SSR OK: ",new Date().toISOString()]}),i.jsx("p",{children:"Se voc est vendo este texto sem JavaScript, o SSR est funcionando."}),i.jsxs("p",{children:["Timestamp do servidor: ",new Date().toLocaleString()]})]}),E2=()=>i.jsxs("html",{lang:"en",children:[i.jsxs("head",{children:[i.jsx("title",{children:"Bare SSR Test"}),i.jsx("meta",{charSet:"UTF-8"}),i.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),i.jsxs("body",{children:[i.jsxs("pre",{children:["BARE SSR OK: ",new Date().toISOString()]}),i.jsx("p",{children:"Se voc v este texto, o SSR bsico est funcionando."}),i.jsxs("p",{children:["Timestamp: ",new Date().toLocaleString()]})]})]}),R2=()=>{const t=new Date().toISOString();return i.jsxs("html",{lang:"en",children:[i.jsxs("head",{children:[i.jsx("title",{children:"Static Bare SSR Test"}),i.jsx("meta",{charSet:"UTF-8"}),i.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),i.jsxs("body",{children:[i.jsxs("pre",{children:["STATIC BARE SSR OK: ",t]}),i.jsx("p",{children:"Se voc v este texto, o SSR est funcionando."}),i.jsxs("p",{children:["Timestamp: ",new Date().toLocaleString()]}),i.jsx("p",{children:"Esta pgina renderiza HTML esttico no servidor."})]})]})},O2=()=>{const t=new Date().toISOString();return i.jsxs("html",{lang:"en",children:[i.jsxs("head",{children:[i.jsx("title",{children:"SSR Canary Test"}),i.jsx("meta",{charSet:"UTF-8"}),i.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),i.jsxs("body",{children:[i.jsxs("pre",{children:["SSR CANARY OK: ",t]}),i.jsx("p",{children:"Se voc v este texto, o SSR est funcionando."}),i.jsxs("p",{children:["Timestamp: ",new Date().toLocaleString()]}),i.jsx("p",{children:"Esta pgina renderiza HTML esttico no servidor."}),i.jsx("p",{children:"Runtime: Node.js"}),i.jsx("p",{children:"Dynamic: force-dynamic"})]})]})};class I2 extends b.Component{constructor(s){super(s);xi(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});xi(this,"handleReset",()=>{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(function(s){document.cookie=s.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),this.setState({hasError:!1,error:null,errorInfo:null}),window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s,errorInfo:null}}componentDidCatch(s,r){console.error("Authentication Error Boundary caught an error:",s,r),this.setState({error:s,errorInfo:r})}render(){var s,r,n,a,o,l,c,d;if(this.state.hasError){const u=((r=(s=this.state.error)==null?void 0:s.message)==null?void 0:r.includes("body stream"))||((a=(n=this.state.error)==null?void 0:n.message)==null?void 0:a.includes("json"))||((l=(o=this.state.error)==null?void 0:o.message)==null?void 0:l.includes("auth"))||((d=(c=this.state.error)==null?void 0:c.message)==null?void 0:d.includes("fetch"));return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-forge-cream p-4",children:i.jsxs(ie,{className:"w-full max-w-md bg-white/95 backdrop-blur-sm border border-red-200 shadow-xl",children:[i.jsx(Ne,{children:i.jsxs(ke,{className:"text-red-600 text-xl font-bold flex items-center gap-2",children:[i.jsx(Hb,{className:"w-5 h-5"}),"Authentication Error"]})}),i.jsxs(ae,{className:"space-y-4",children:[i.jsx("div",{className:"text-sm text-gray-600",children:u?i.jsx("p",{children:"An authentication error occurred. This might be due to a network issue or temporary service problem."}):i.jsx("p",{children:"An unexpected error occurred in the authentication system."})}),!1,i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs(Z,{onClick:this.handleRetry,className:"w-full bg-forge-orange hover:bg-forge-orange-light",children:[i.jsx(Kb,{className:"w-4 h-4 mr-2"}),"Try Again"]}),i.jsx(Z,{onClick:this.handleReset,variant:"outline",className:"w-full border-red-200 text-red-600 hover:bg-red-50",children:"Reset & Go Home"})]})]})]})})}return this.props.children}}const L2=[{to:"/dashboard/admin",label:"Overview",icon:Gb,end:!0},{to:"/dashboard/admin/paths",label:"Learning Paths",icon:tm},{to:"/dashboard/admin/courses",label:"Courses",icon:Xt},{to:"/dashboard/admin/modules",label:"Modules",icon:sm},{to:"/dashboard/admin/lessons",label:"Lessons",icon:rm}];function M2(){const t=Vs();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-forge-orange",children:"Admin"}),i.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-forge-dark",children:"Content Management"}),i.jsx("p",{className:"text-sm text-forge-gray",children:"Create, organize, and publish learning experiences for the community."})]})}),i.jsx("nav",{className:"flex flex-wrap gap-2 pt-2",children:L2.map(({to:e,label:s,icon:r,end:n})=>{const a=n?t.pathname===e:t.pathname.startsWith(e);return i.jsxs(Jb,{to:e,end:n,className:T("inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-sm transition-all",a?"border-forge-orange bg-forge-orange/10 text-forge-orange shadow-sm":"border-transparent bg-white text-forge-gray hover:border-forge-cream hover:bg-forge-cream/40 hover:text-forge-dark"),children:[i.jsx(r,{className:"h-4 w-4"}),s]},e)})})]}),i.jsx("main",{className:"space-y-6",children:i.jsx(Zl,{})})]})}const D2=[{label:"Learning Paths",description:"Create thematic journeys and bundle courses together.",icon:tm},{label:"Courses",description:"Organize syllabus, outcomes, and prerequisites.",icon:Xt},{label:"Modules",description:"Group lessons under clear learning milestones.",icon:sm},{label:"Lessons",description:"Publish text, video, or quiz content for builders.",icon:rm}];function $2(){const{user:t}=Ge();return i.jsx("div",{className:"grid gap-6 lg:grid-cols-2",children:i.jsxs(ie,{className:"lg:col-span-2 border-forge-cream/80 bg-white/80",children:[i.jsxs(Ne,{className:"space-y-2",children:[i.jsxs(ke,{className:"flex items-center gap-2 text-forge-dark",children:[i.jsx(Zb,{className:"h-5 w-5 text-forge-orange"}),"Admin Access Granted"]}),i.jsx("p",{className:"text-sm text-forge-gray",children:t!=null&&t.email?`Managing content as ${t.email}.`:"Manage platform content."})]}),i.jsx(ae,{className:"grid gap-4 md:grid-cols-2",children:D2.map(e=>i.jsxs("div",{className:"flex gap-3 rounded-xl border border-dashed border-forge-cream/60 bg-forge-cream/20 p-4",children:[i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-forge-orange/10 text-forge-orange",children:i.jsx(e.icon,{className:"h-5 w-5"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-semibold text-forge-dark",children:e.label}),i.jsx("p",{className:"text-sm text-forge-gray",children:e.description})]})]},e.label))})]})})}var me;(function(t){t.assertEqual=n=>{};function e(n){}t.assertIs=e;function s(n){throw new Error}t.assertNever=s,t.arrayToEnum=n=>{const a={};for(const o of n)a[o]=o;return a},t.getValidEnumValues=n=>{const a=t.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of a)o[l]=n[l];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(a){return n[a]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&a.push(o);return a},t.find=(n,a)=>{for(const o of n)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function r(n,a=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(me||(me={}));var Ph;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(Ph||(Ph={}));const F=me.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ls=t=>{switch(typeof t){case"undefined":return F.undefined;case"string":return F.string;case"number":return Number.isNaN(t)?F.nan:F.number;case"boolean":return F.boolean;case"function":return F.function;case"bigint":return F.bigint;case"symbol":return F.symbol;case"object":return Array.isArray(t)?F.array:t===null?F.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?F.promise:typeof Map<"u"&&t instanceof Map?F.map:typeof Set<"u"&&t instanceof Set?F.set:typeof Date<"u"&&t instanceof Date?F.date:F.object;default:return F.unknown}},I=me.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Jt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(a){return a.message},r={_errors:[]},n=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),r}static assert(e){if(!(e instanceof Jt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,me.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},r=[];for(const n of this.issues)if(n.path.length>0){const a=n.path[0];s[a]=s[a]||[],s[a].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}Jt.create=t=>new Jt(t);const Rl=(t,e)=>{let s;switch(t.code){case I.invalid_type:t.received===F.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case I.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,me.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:s=`Unrecognized key(s) in object: ${me.joinValues(t.keys,", ")}`;break;case I.invalid_union:s="Invalid input";break;case I.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${me.joinValues(t.options)}`;break;case I.invalid_enum_value:s=`Invalid enum value. Expected ${me.joinValues(t.options)}, received '${t.received}'`;break;case I.invalid_arguments:s="Invalid function arguments";break;case I.invalid_return_type:s="Invalid function return type";break;case I.invalid_date:s="Invalid date";break;case I.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:me.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case I.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case I.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case I.custom:s="Invalid input";break;case I.invalid_intersection_types:s="Intersection results could not be merged";break;case I.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case I.not_finite:s="Number must be finite";break;default:s=e.defaultError,me.assertNever(t)}return{message:s}};let F2=Rl;function V2(){return F2}const B2=t=>{const{data:e,path:s,errorMaps:r,issueData:n}=t,a=[...s,...n.path||[]],o={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...n,path:a,message:l}};function D(t,e){const s=V2(),r=B2({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===Rl?void 0:Rl].filter(n=>!!n)});t.common.issues.push(r)}class at{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const r=[];for(const n of s){if(n.status==="aborted")return J;n.status==="dirty"&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,s){const r=[];for(const n of s){const a=await n.key,o=await n.value;r.push({key:a,value:o})}return at.mergeObjectSync(e,r)}static mergeObjectSync(e,s){const r={};for(const n of s){const{key:a,value:o}=n;if(a.status==="aborted"||o.status==="aborted")return J;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const J=Object.freeze({status:"aborted"}),Xr=t=>({status:"dirty",value:t}),vt=t=>({status:"valid",value:t}),Th=t=>t.status==="aborted",Ah=t=>t.status==="dirty",vr=t=>t.status==="valid",ma=t=>typeof Promise<"u"&&t instanceof Promise;var B;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(B||(B={}));class ms{constructor(e,s,r,n){this._cachedPath=[],this.parent=e,this.data=s,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Eh=(t,e)=>{if(vr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Jt(t.common.issues);return this._error=s,this._error}}};function te(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:r,description:n}=t;if(e&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:n}}class de{get description(){return this._def.description}_getType(e){return ls(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new at,ctx:{common:e.parent.common,data:e.data,parsedType:ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(ma(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const r=this.safeParse(e,s);if(r.success)return r.data;throw r.error}safeParse(e,s){const r={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)},n=this._parseSync({data:e,path:r.path,parent:r});return Eh(r,n)}"~validate"(e){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:s});return vr(a)?{value:a.value}:{issues:s.common.issues}}catch(a){(n=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(a=>vr(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(e,s){const r=await this.safeParseAsync(e,s);if(r.success)return r.data;throw r.error}async safeParseAsync(e,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)},n=this._parse({data:e,path:r.path,parent:r}),a=await(ma(n)?n:Promise.resolve(n));return Eh(r,a)}refine(e,s){const r=n=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(n):s;return this._refinement((n,a)=>{const o=e(n),l=()=>a.addIssue({code:I.custom,...r(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((r,n)=>e(r)?!0:(n.addIssue(typeof s=="function"?s(r,n):s),!1))}_refinement(e){return new Sr({schema:this,typeName:Y.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return us.create(this,this._def)}nullable(){return _r.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Vt.create(this)}promise(){return ba.create(this,this._def)}or(e){return ga.create([this,e],this._def)}and(e){return xa.create(this,e,this._def)}transform(e){return new Sr({...te(this._def),schema:this,typeName:Y.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new Ll({...te(this._def),innerType:this,defaultValue:s,typeName:Y.ZodDefault})}brand(){return new dP({typeName:Y.ZodBranded,type:this,...te(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new Ml({...te(this._def),innerType:this,catchValue:s,typeName:Y.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return Zc.create(this,e)}readonly(){return Dl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const U2=/^c[^\s-]{8,}$/i,z2=/^[0-9a-z]+$/,W2=/^[0-9A-HJKMNP-TV-Z]{26}$/i,q2=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,H2=/^[a-z0-9_-]{21}$/i,K2=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,G2=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,J2=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Z2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Mo;const Y2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,X2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Q2=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,px="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rP=new RegExp(`^${px}$`);function gx(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const s=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${s}`}function nP(t){return new RegExp(`^${gx(t)}$`)}function iP(t){let e=`${px}T${gx(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function aP(t,e){return!!((e==="v4"||!e)&&Y2.test(t)||(e==="v6"||!e)&&Q2.test(t))}function oP(t,e){if(!K2.test(t))return!1;try{const[s]=t.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(r));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return!1}}function lP(t,e){return!!((e==="v4"||!e)&&X2.test(t)||(e==="v6"||!e)&&eP.test(t))}class Kt extends de{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==F.string){const a=this._getOrReturnCtx(e);return D(a,{code:I.invalid_type,expected:F.string,received:a.parsedType}),J}const r=new at;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:I.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:I.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(n=this._getOrReturnCtx(e,n),o?D(n,{code:I.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&D(n,{code:I.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")J2.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"email",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Mo||(Mo=new RegExp(Z2,"u")),Mo.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"emoji",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")q2.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"uuid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")H2.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"nanoid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")U2.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"cuid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")z2.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"cuid2",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")W2.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"ulid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),D(n,{validation:"url",code:I.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"regex",code:I.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),D(n,{code:I.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),D(n,{code:I.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),D(n,{code:I.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?iP(a).test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{code:I.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?rP.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{code:I.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?nP(a).test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{code:I.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?G2.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"duration",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?aP(e.data,a.version)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"ip",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?oP(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"jwt",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?lP(e.data,a.version)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"cidr",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?tP.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"base64",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?sP.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"base64url",code:I.invalid_string,message:a.message}),r.dirty()):me.assertNever(a);return{status:r.value,value:e.data}}_regex(e,s,r){return this.refinement(n=>e.test(n),{validation:s,code:I.invalid_string,...B.errToObj(r)})}_addCheck(e){return new Kt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...B.errToObj(e)})}url(e){return this._addCheck({kind:"url",...B.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...B.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...B.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...B.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...B.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...B.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...B.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...B.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...B.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...B.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...B.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...B.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...B.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...B.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...B.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...B.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...B.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...B.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...B.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...B.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...B.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...B.errToObj(s)})}nonempty(e){return this.min(1,B.errToObj(e))}trim(){return new Kt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Kt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Kt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Kt.create=t=>new Kt({checks:[],typeName:Y.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...te(t)});function cP(t,e){const s=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,n=s>r?s:r,a=Number.parseInt(t.toFixed(n).replace(".","")),o=Number.parseInt(e.toFixed(n).replace(".",""));return a%o/10**n}class Ms extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==F.number){const a=this._getOrReturnCtx(e);return D(a,{code:I.invalid_type,expected:F.number,received:a.parsedType}),J}let r;const n=new at;for(const a of this._def.checks)a.kind==="int"?me.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),D(r,{code:I.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),D(r,{code:I.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),D(r,{code:I.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?cP(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),D(r,{code:I.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),D(r,{code:I.not_finite,message:a.message}),n.dirty()):me.assertNever(a);return{status:n.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,B.toString(s))}gt(e,s){return this.setLimit("min",e,!1,B.toString(s))}lte(e,s){return this.setLimit("max",e,!0,B.toString(s))}lt(e,s){return this.setLimit("max",e,!1,B.toString(s))}setLimit(e,s,r,n){return new Ms({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:B.toString(n)}]})}_addCheck(e){return new Ms({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:B.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:B.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:B.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:B.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:B.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&me.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(s)&&Number.isFinite(e)}}Ms.create=t=>new Ms({checks:[],typeName:Y.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...te(t)});class Ds extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==F.bigint)return this._getInvalidInput(e);let r;const n=new at;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),D(r,{code:I.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),D(r,{code:I.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),D(r,{code:I.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):me.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return D(s,{code:I.invalid_type,expected:F.bigint,received:s.parsedType}),J}gte(e,s){return this.setLimit("min",e,!0,B.toString(s))}gt(e,s){return this.setLimit("min",e,!1,B.toString(s))}lte(e,s){return this.setLimit("max",e,!0,B.toString(s))}lt(e,s){return this.setLimit("max",e,!1,B.toString(s))}setLimit(e,s,r,n){return new Ds({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:B.toString(n)}]})}_addCheck(e){return new Ds({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:B.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Ds.create=t=>new Ds({checks:[],typeName:Y.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...te(t)});class pa extends de{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==F.boolean){const r=this._getOrReturnCtx(e);return D(r,{code:I.invalid_type,expected:F.boolean,received:r.parsedType}),J}return vt(e.data)}}pa.create=t=>new pa({typeName:Y.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...te(t)});class wr extends de{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==F.date){const a=this._getOrReturnCtx(e);return D(a,{code:I.invalid_type,expected:F.date,received:a.parsedType}),J}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return D(a,{code:I.invalid_date}),J}const r=new at;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:I.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:I.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):me.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new wr({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:B.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:B.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}wr.create=t=>new wr({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Y.ZodDate,...te(t)});class Rh extends de{_parse(e){if(this._getType(e)!==F.symbol){const r=this._getOrReturnCtx(e);return D(r,{code:I.invalid_type,expected:F.symbol,received:r.parsedType}),J}return vt(e.data)}}Rh.create=t=>new Rh({typeName:Y.ZodSymbol,...te(t)});class Oh extends de{_parse(e){if(this._getType(e)!==F.undefined){const r=this._getOrReturnCtx(e);return D(r,{code:I.invalid_type,expected:F.undefined,received:r.parsedType}),J}return vt(e.data)}}Oh.create=t=>new Oh({typeName:Y.ZodUndefined,...te(t)});class Ih extends de{_parse(e){if(this._getType(e)!==F.null){const r=this._getOrReturnCtx(e);return D(r,{code:I.invalid_type,expected:F.null,received:r.parsedType}),J}return vt(e.data)}}Ih.create=t=>new Ih({typeName:Y.ZodNull,...te(t)});class Lh extends de{constructor(){super(...arguments),this._any=!0}_parse(e){return vt(e.data)}}Lh.create=t=>new Lh({typeName:Y.ZodAny,...te(t)});class Mh extends de{constructor(){super(...arguments),this._unknown=!0}_parse(e){return vt(e.data)}}Mh.create=t=>new Mh({typeName:Y.ZodUnknown,...te(t)});class ps extends de{_parse(e){const s=this._getOrReturnCtx(e);return D(s,{code:I.invalid_type,expected:F.never,received:s.parsedType}),J}}ps.create=t=>new ps({typeName:Y.ZodNever,...te(t)});class Dh extends de{_parse(e){if(this._getType(e)!==F.undefined){const r=this._getOrReturnCtx(e);return D(r,{code:I.invalid_type,expected:F.void,received:r.parsedType}),J}return vt(e.data)}}Dh.create=t=>new Dh({typeName:Y.ZodVoid,...te(t)});class Vt extends de{_parse(e){const{ctx:s,status:r}=this._processInputParams(e),n=this._def;if(s.parsedType!==F.array)return D(s,{code:I.invalid_type,expected:F.array,received:s.parsedType}),J;if(n.exactLength!==null){const o=s.data.length>n.exactLength.value,l=s.data.length<n.exactLength.value;(o||l)&&(D(s,{code:o?I.too_big:I.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&(D(s,{code:I.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&(D(s,{code:I.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>n.type._parseAsync(new ms(s,o,s.path,l)))).then(o=>at.mergeArray(r,o));const a=[...s.data].map((o,l)=>n.type._parseSync(new ms(s,o,s.path,l)));return at.mergeArray(r,a)}get element(){return this._def.type}min(e,s){return new Vt({...this._def,minLength:{value:e,message:B.toString(s)}})}max(e,s){return new Vt({...this._def,maxLength:{value:e,message:B.toString(s)}})}length(e,s){return new Vt({...this._def,exactLength:{value:e,message:B.toString(s)}})}nonempty(e){return this.min(1,e)}}Vt.create=(t,e)=>new Vt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Y.ZodArray,...te(e)});function sr(t){if(t instanceof Le){const e={};for(const s in t.shape){const r=t.shape[s];e[s]=us.create(sr(r))}return new Le({...t._def,shape:()=>e})}else return t instanceof Vt?new Vt({...t._def,type:sr(t.element)}):t instanceof us?us.create(sr(t.unwrap())):t instanceof _r?_r.create(sr(t.unwrap())):t instanceof $s?$s.create(t.items.map(e=>sr(e))):t}class Le extends de{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=me.objectKeys(e);return this._cached={shape:e,keys:s},this._cached}_parse(e){if(this._getType(e)!==F.object){const d=this._getOrReturnCtx(e);return D(d,{code:I.invalid_type,expected:F.object,received:d.parsedType}),J}const{status:r,ctx:n}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ps&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ms(n,h,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof ps){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")l.length>0&&(D(n,{code:I.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ms(n,h,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>at.mergeObjectSync(r,d)):at.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return B.errToObj,new Le({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,r)=>{var a,o;const n=((o=(a=this._def).errorMap)==null?void 0:o.call(a,s,r).message)??r.defaultError;return s.code==="unrecognized_keys"?{message:B.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new Le({...this._def,unknownKeys:"strip"})}passthrough(){return new Le({...this._def,unknownKeys:"passthrough"})}extend(e){return new Le({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Le({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Y.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new Le({...this._def,catchall:e})}pick(e){const s={};for(const r of me.objectKeys(e))e[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new Le({...this._def,shape:()=>s})}omit(e){const s={};for(const r of me.objectKeys(this.shape))e[r]||(s[r]=this.shape[r]);return new Le({...this._def,shape:()=>s})}deepPartial(){return sr(this)}partial(e){const s={};for(const r of me.objectKeys(this.shape)){const n=this.shape[r];e&&!e[r]?s[r]=n:s[r]=n.optional()}return new Le({...this._def,shape:()=>s})}required(e){const s={};for(const r of me.objectKeys(this.shape))if(e&&!e[r])s[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof us;)a=a._def.innerType;s[r]=a}return new Le({...this._def,shape:()=>s})}keyof(){return xx(me.objectKeys(this.shape))}}Le.create=(t,e)=>new Le({shape:()=>t,unknownKeys:"strip",catchall:ps.create(),typeName:Y.ZodObject,...te(e)});Le.strictCreate=(t,e)=>new Le({shape:()=>t,unknownKeys:"strict",catchall:ps.create(),typeName:Y.ZodObject,...te(e)});Le.lazycreate=(t,e)=>new Le({shape:t,unknownKeys:"strip",catchall:ps.create(),typeName:Y.ZodObject,...te(e)});class ga extends de{_parse(e){const{ctx:s}=this._processInputParams(e),r=this._def.options;function n(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Jt(l.ctx.common.issues));return D(s,{code:I.invalid_union,unionErrors:o}),J}if(s.common.async)return Promise.all(r.map(async a=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(n);{let a;const o=[];for(const c of r){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Jt(c));return D(s,{code:I.invalid_union,unionErrors:l}),J}}get options(){return this._def.options}}ga.create=(t,e)=>new ga({options:t,typeName:Y.ZodUnion,...te(e)});function Ol(t,e){const s=ls(t),r=ls(e);if(t===e)return{valid:!0,data:t};if(s===F.object&&r===F.object){const n=me.objectKeys(e),a=me.objectKeys(t).filter(l=>n.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=Ol(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===F.array&&r===F.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=Ol(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return s===F.date&&r===F.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class xa extends de{_parse(e){const{status:s,ctx:r}=this._processInputParams(e),n=(a,o)=>{if(Th(a)||Th(o))return J;const l=Ol(a.value,o.value);return l.valid?((Ah(a)||Ah(o))&&s.dirty(),{status:s.value,value:l.data}):(D(r,{code:I.invalid_intersection_types}),J)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>n(a,o)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}xa.create=(t,e,s)=>new xa({left:t,right:e,typeName:Y.ZodIntersection,...te(s)});class $s extends de{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==F.array)return D(r,{code:I.invalid_type,expected:F.array,received:r.parsedType}),J;if(r.data.length<this._def.items.length)return D(r,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),J;!this._def.rest&&r.data.length>this._def.items.length&&(D(r,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ms(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>at.mergeArray(s,o)):at.mergeArray(s,a)}get items(){return this._def.items}rest(e){return new $s({...this._def,rest:e})}}$s.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $s({items:t,typeName:Y.ZodTuple,rest:null,...te(e)})};class $h extends de{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==F.map)return D(r,{code:I.invalid_type,expected:F.map,received:r.parsedType}),J;const n=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:n._parse(new ms(r,l,r.path,[d,"key"])),value:a._parse(new ms(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return J;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return J;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}$h.create=(t,e,s)=>new $h({valueType:e,keyType:t,typeName:Y.ZodMap,...te(s)});class Sn extends de{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==F.set)return D(r,{code:I.invalid_type,expected:F.set,received:r.parsedType}),J;const n=this._def;n.minSize!==null&&r.data.size<n.minSize.value&&(D(r,{code:I.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&r.data.size>n.maxSize.value&&(D(r,{code:I.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return J;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new ms(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,s){return new Sn({...this._def,minSize:{value:e,message:B.toString(s)}})}max(e,s){return new Sn({...this._def,maxSize:{value:e,message:B.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}Sn.create=(t,e)=>new Sn({valueType:t,minSize:null,maxSize:null,typeName:Y.ZodSet,...te(e)});class Fh extends de{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Fh.create=(t,e)=>new Fh({getter:t,typeName:Y.ZodLazy,...te(e)});class Il extends de{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return D(s,{received:s.data,code:I.invalid_literal,expected:this._def.value}),J}return{status:"valid",value:e.data}}get value(){return this._def.value}}Il.create=(t,e)=>new Il({value:t,typeName:Y.ZodLiteral,...te(e)});function xx(t,e){return new jr({values:t,typeName:Y.ZodEnum,...te(e)})}class jr extends de{_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),r=this._def.values;return D(s,{expected:me.joinValues(r),received:s.parsedType,code:I.invalid_type}),J}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const s=this._getOrReturnCtx(e),r=this._def.values;return D(s,{received:s.data,code:I.invalid_enum_value,options:r}),J}return vt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return jr.create(e,{...this._def,...s})}exclude(e,s=this._def){return jr.create(this.options.filter(r=>!e.includes(r)),{...this._def,...s})}}jr.create=xx;class Vh extends de{_parse(e){const s=me.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==F.string&&r.parsedType!==F.number){const n=me.objectValues(s);return D(r,{expected:me.joinValues(n),received:r.parsedType,code:I.invalid_type}),J}if(this._cache||(this._cache=new Set(me.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const n=me.objectValues(s);return D(r,{received:r.data,code:I.invalid_enum_value,options:n}),J}return vt(e.data)}get enum(){return this._def.values}}Vh.create=(t,e)=>new Vh({values:t,typeName:Y.ZodNativeEnum,...te(e)});class ba extends de{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==F.promise&&s.common.async===!1)return D(s,{code:I.invalid_type,expected:F.promise,received:s.parsedType}),J;const r=s.parsedType===F.promise?s.data:Promise.resolve(s.data);return vt(r.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}ba.create=(t,e)=>new ba({type:t,typeName:Y.ZodPromise,...te(e)});class Sr extends de{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:o=>{D(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const o=n.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return J;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?J:c.status==="dirty"||s.value==="dirty"?Xr(c.value):c});{if(s.value==="aborted")return J;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?J:l.status==="dirty"||s.value==="dirty"?Xr(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?J:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?J:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(n.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!vr(o))return J;const l=n.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>vr(o)?Promise.resolve(n.transform(o.value,a)).then(l=>({status:s.value,value:l})):J);me.assertNever(n)}}Sr.create=(t,e,s)=>new Sr({schema:t,typeName:Y.ZodEffects,effect:e,...te(s)});Sr.createWithPreprocess=(t,e,s)=>new Sr({schema:e,effect:{type:"preprocess",transform:t},typeName:Y.ZodEffects,...te(s)});class us extends de{_parse(e){return this._getType(e)===F.undefined?vt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}us.create=(t,e)=>new us({innerType:t,typeName:Y.ZodOptional,...te(e)});class _r extends de{_parse(e){return this._getType(e)===F.null?vt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_r.create=(t,e)=>new _r({innerType:t,typeName:Y.ZodNullable,...te(e)});class Ll extends de{_parse(e){const{ctx:s}=this._processInputParams(e);let r=s.data;return s.parsedType===F.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Ll.create=(t,e)=>new Ll({innerType:t,typeName:Y.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...te(e)});class Ml extends de{_parse(e){const{ctx:s}=this._processInputParams(e),r={...s,common:{...s.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ma(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Jt(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Jt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ml.create=(t,e)=>new Ml({innerType:t,typeName:Y.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...te(e)});class Bh extends de{_parse(e){if(this._getType(e)!==F.nan){const r=this._getOrReturnCtx(e);return D(r,{code:I.invalid_type,expected:F.nan,received:r.parsedType}),J}return{status:"valid",value:e.data}}}Bh.create=t=>new Bh({typeName:Y.ZodNaN,...te(t)});class dP extends de{_parse(e){const{ctx:s}=this._processInputParams(e),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class Zc extends de{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?J:a.status==="dirty"?(s.dirty(),Xr(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const n=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?J:n.status==="dirty"?(s.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:r.path,parent:r})}}static create(e,s){return new Zc({in:e,out:s,typeName:Y.ZodPipeline})}}class Dl extends de{_parse(e){const s=this._def.innerType._parse(e),r=n=>(vr(n)&&(n.value=Object.freeze(n.value)),n);return ma(s)?s.then(n=>r(n)):r(s)}unwrap(){return this._def.innerType}}Dl.create=(t,e)=>new Dl({innerType:t,typeName:Y.ZodReadonly,...te(e)});var Y;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Y||(Y={}));const De=Kt.create;Ms.create;Ds.create;const Wa=pa.create;wr.create;ps.create;Vt.create;const qa=Le.create,bx=ga.create;xa.create;$s.create;const Pt=Il.create,uP=jr.create;ba.create;us.create;_r.create;const mr={string:t=>Kt.create({...t,coerce:!0}),number:t=>Ms.create({...t,coerce:!0}),boolean:t=>pa.create({...t,coerce:!0}),bigint:t=>Ds.create({...t,coerce:!0}),date:t=>wr.create({...t,coerce:!0})},Uh=(t,e,s)=>{if(t&&"reportValidity"in t){const r=qo(s,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},yx=(t,e)=>{for(const s in e.fields){const r=e.fields[s];r&&r.ref&&"reportValidity"in r.ref?Uh(r.ref,s,t):r.refs&&r.refs.forEach(n=>Uh(n,s,t))}},hP=(t,e)=>{e.shouldUseNativeValidation&&yx(t,e);const s={};for(const r in t){const n=qo(e.fields,r),a=Object.assign(t[r]||{},{ref:n&&n.ref});if(fP(e.names||Object.keys(t),r)){const o=Object.assign({},qo(s,r));no(o,"root",a),no(s,r,o)}else no(s,r,a)}return s},fP=(t,e)=>t.some(s=>s.startsWith(e+"."));var mP=function(t,e){for(var s={};t.length;){var r=t[0],n=r.code,a=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:a,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=s[o].types,d=c&&c[r.code];s[o]=Yb(o,e,s,n,d?[].concat(d,r.message):r.message)}t.shift()}return s},Ha=function(t,e,s){return s===void 0&&(s={}),function(r,n,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&yx({},a),{errors:{},values:s.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:hP(mP(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const Ka=Sf,pP=wf,vx=b.forwardRef(({className:t,...e},s)=>i.jsx(Na,{ref:s,className:T("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));vx.displayName=Na.displayName;const ri=b.forwardRef(({className:t,children:e,...s},r)=>i.jsxs(pP,{children:[i.jsx(vx,{}),i.jsxs(ka,{ref:r,className:T("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[e,i.jsxs(jf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Cr,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ri.displayName=ka.displayName;const ni=({className:t,...e})=>i.jsx("div",{className:T("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ni.displayName="DialogHeader";const ii=({className:t,...e})=>i.jsx("div",{className:T("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ii.displayName="DialogFooter";const ai=b.forwardRef(({className:t,...e},s)=>i.jsx(Kn,{ref:s,className:T("text-lg font-semibold leading-none tracking-tight",t),...e}));ai.displayName=Kn.displayName;const Zt=b.forwardRef(({className:t,...e},s)=>i.jsx(Ca,{ref:s,className:T("text-sm text-muted-foreground",t),...e}));Zt.displayName=Ca.displayName;const Ga=Qb,wx=b.createContext({}),xe=({...t})=>i.jsx(wx.Provider,{value:{name:t.name},children:i.jsx(ey,{...t})}),Ja=()=>{const t=b.useContext(wx),e=b.useContext(jx),{getFieldState:s,formState:r}=Xb(),n=s(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...n}},jx=b.createContext({}),ue=b.forwardRef(({className:t,...e},s)=>{const r=b.useId();return i.jsx(jx.Provider,{value:{id:r},children:i.jsx("div",{ref:s,className:T("space-y-2",t),...e})})});ue.displayName="FormItem";const he=b.forwardRef(({className:t,...e},s)=>{const{error:r,formItemId:n}=Ja();return i.jsx(Et,{ref:s,className:T(r&&"text-destructive",t),htmlFor:n,...e})});he.displayName="FormLabel";const fe=b.forwardRef(({...t},e)=>{const{error:s,formItemId:r,formDescriptionId:n,formMessageId:a}=Ja();return i.jsx(xs,{ref:e,id:r,"aria-describedby":s?`${n} ${a}`:`${n}`,"aria-invalid":!!s,...t})});fe.displayName="FormControl";const Yc=b.forwardRef(({className:t,...e},s)=>{const{formDescriptionId:r}=Ja();return i.jsx("p",{ref:s,id:r,className:T("text-sm text-muted-foreground",t),...e})});Yc.displayName="FormDescription";const je=b.forwardRef(({className:t,children:e,...s},r)=>{const{error:n,formMessageId:a}=Ja(),o=n?String(n==null?void 0:n.message):e;return o?i.jsx("p",{ref:r,id:a,className:T("text-sm font-medium text-destructive",t),...s,children:o}):null});je.displayName="FormMessage";const _n=b.forwardRef(({className:t,...e},s)=>i.jsx("textarea",{className:T("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...e}));_n.displayName="Textarea";const Yt=b.forwardRef(({className:t,...e},s)=>i.jsx(nm,{className:T("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:s,children:i.jsx(ty,{className:T("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Yt.displayName=nm.displayName;const gP=Er("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function gs({className:t,variant:e,...s}){return i.jsx("div",{className:T(gP({variant:e}),t),...s})}const Za=ry,xP=sy,Sx=b.forwardRef(({className:t,...e},s)=>i.jsx(im,{className:T("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:s}));Sx.displayName=im.displayName;const oi=b.forwardRef(({className:t,...e},s)=>i.jsxs(xP,{children:[i.jsx(Sx,{}),i.jsx(am,{ref:s,className:T("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));oi.displayName=am.displayName;const li=({className:t,...e})=>i.jsx("div",{className:T("flex flex-col space-y-2 text-center sm:text-left",t),...e});li.displayName="AlertDialogHeader";const ci=({className:t,...e})=>i.jsx("div",{className:T("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ci.displayName="AlertDialogFooter";const di=b.forwardRef(({className:t,...e},s)=>i.jsx(om,{ref:s,className:T("text-lg font-semibold",t),...e}));di.displayName=om.displayName;const ui=b.forwardRef(({className:t,...e},s)=>i.jsx(lm,{ref:s,className:T("text-sm text-muted-foreground",t),...e}));ui.displayName=lm.displayName;const hi=b.forwardRef(({className:t,...e},s)=>i.jsx(cm,{ref:s,className:T(Wc(),t),...e}));hi.displayName=cm.displayName;const fi=b.forwardRef(({className:t,...e},s)=>i.jsx(dm,{ref:s,className:T(Wc({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));fi.displayName=dm.displayName;function Ue(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function bP(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Ai=43200,zh=1440;let yP={};function vP(){return yP}function Wh(t){const e=Ue(t),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),+t-+s}function Zi(t,e){const s=Ue(t),r=Ue(e),n=s.getTime()-r.getTime();return n<0?-1:n>0?1:n}function wP(t){return bP(t,Date.now())}function jP(t,e){const s=Ue(t),r=Ue(e),n=s.getFullYear()-r.getFullYear(),a=s.getMonth()-r.getMonth();return n*12+a}function SP(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function _P(t,e){return+Ue(t)-+Ue(e)}function NP(t){const e=Ue(t);return e.setHours(23,59,59,999),e}function kP(t){const e=Ue(t),s=e.getMonth();return e.setFullYear(e.getFullYear(),s+1,0),e.setHours(23,59,59,999),e}function CP(t){const e=Ue(t);return+NP(e)==+kP(e)}function PP(t,e){const s=Ue(t),r=Ue(e),n=Zi(s,r),a=Math.abs(jP(s,r));let o;if(a<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-n*a);let l=Zi(s,r)===-n;CP(Ue(t))&&a===1&&Zi(t,r)===1&&(l=!1),o=n*(a-Number(l))}return o===0?0:o}function TP(t,e,s){const r=_P(t,e)/1e3;return SP(s==null?void 0:s.roundingMethod)(r)}const AP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},EP=(t,e,s)=>{let r;const n=AP[t];return typeof n=="string"?r=n:e===1?r=n.one:r=n.other.replace("{{count}}",e.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function Do(t){return(e={})=>{const s=e.width?String(e.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const RP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},IP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LP={date:Do({formats:RP,defaultWidth:"full"}),time:Do({formats:OP,defaultWidth:"full"}),dateTime:Do({formats:IP,defaultWidth:"full"})},MP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DP=(t,e,s,r)=>MP[t];function qr(t){return(e,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let n;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=s!=null&&s.width?String(s.width):o;n=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=s!=null&&s.width?String(s.width):t.defaultWidth;n=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return n[a]}}const $P={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},FP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},VP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},WP=(t,e)=>{const s=Number(t),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},qP={ordinalNumber:WP,era:qr({values:$P,defaultWidth:"wide"}),quarter:qr({values:FP,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qr({values:VP,defaultWidth:"wide"}),day:qr({values:BP,defaultWidth:"wide"}),dayPeriod:qr({values:UP,defaultWidth:"wide",formattingValues:zP,defaultFormattingWidth:"wide"})};function Hr(t){return(e,s={})=>{const r=s.width,n=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(n);if(!a)return null;const o=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?KP(l,h=>h.test(o)):HP(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function HP(t,e){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return s}function KP(t,e){for(let s=0;s<t.length;s++)if(e(t[s]))return s}function GP(t){return(e,s={})=>{const r=e.match(t.matchPattern);if(!r)return null;const n=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=s.valueCallback?s.valueCallback(o):o;const l=e.slice(n.length);return{value:o,rest:l}}}const JP=/^(\d+)(th|st|nd|rd)?/i,ZP=/\d+/i,YP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},XP={any:[/^b/i,/^(a|c)/i]},QP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eT={any:[/1/i,/2/i,/3/i,/4/i]},tT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rT={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oT={ordinalNumber:GP({matchPattern:JP,parsePattern:ZP,valueCallback:t=>parseInt(t,10)}),era:Hr({matchPatterns:YP,defaultMatchWidth:"wide",parsePatterns:XP,defaultParseWidth:"any"}),quarter:Hr({matchPatterns:QP,defaultMatchWidth:"wide",parsePatterns:eT,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hr({matchPatterns:tT,defaultMatchWidth:"wide",parsePatterns:sT,defaultParseWidth:"any"}),day:Hr({matchPatterns:rT,defaultMatchWidth:"wide",parsePatterns:nT,defaultParseWidth:"any"}),dayPeriod:Hr({matchPatterns:iT,defaultMatchWidth:"any",parsePatterns:aT,defaultParseWidth:"any"})},lT={code:"en-US",formatDistance:EP,formatLong:LP,formatRelative:DP,localize:qP,match:oT,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cT(t,e,s){const r=vP(),n=(s==null?void 0:s.locale)??r.locale??lT,a=2520,o=Zi(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o});let c,d;o>0?(c=Ue(e),d=Ue(t)):(c=Ue(t),d=Ue(e));const u=TP(d,c),h=(Wh(d)-Wh(c))/1e3,f=Math.round((u-h)/60);let m;if(f<2)return s!=null&&s.includeSeconds?u<5?n.formatDistance("lessThanXSeconds",5,l):u<10?n.formatDistance("lessThanXSeconds",10,l):u<20?n.formatDistance("lessThanXSeconds",20,l):u<40?n.formatDistance("halfAMinute",0,l):u<60?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",1,l):f===0?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",f,l);if(f<45)return n.formatDistance("xMinutes",f,l);if(f<90)return n.formatDistance("aboutXHours",1,l);if(f<zh){const p=Math.round(f/60);return n.formatDistance("aboutXHours",p,l)}else{if(f<a)return n.formatDistance("xDays",1,l);if(f<Ai){const p=Math.round(f/zh);return n.formatDistance("xDays",p,l)}else if(f<Ai*2)return m=Math.round(f/Ai),n.formatDistance("aboutXMonths",m,l)}if(m=PP(d,c),m<12){const p=Math.round(f/Ai);return n.formatDistance("xMonths",p,l)}else{const p=m%12,x=Math.trunc(m/12);return p<3?n.formatDistance("aboutXYears",x,l):p<9?n.formatDistance("overXYears",x,l):n.formatDistance("almostXYears",x+1,l)}}function Ya(t,e){return cT(t,wP(t),e)}const dT=t=>t.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,80),uT=qa({title:De().min(3,"Title must have at least 3 characters"),slug:De().min(3,"Slug must have at least 3 characters").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and hyphens only"),description:De().optional().or(Pt("")),is_published:Wa().default(!1)});function hT(){const t=b.useMemo(()=>Oe(),[]),e=Pr(),[s,r]=b.useState(!1),[n,a]=b.useState(null),[o,l]=b.useState(null),[c,d]=b.useState(!1),u=Pa({resolver:Ha(uT),defaultValues:{title:"",slug:"",description:"",is_published:!1}});b.useEffect(()=>{s||(u.reset(),l(null),d(!1))},[s,u]);const h=u.watch("title"),f=u.watch("slug");b.useEffect(()=>{if(!c&&!o){const y=dT(h??"");y&&y!==f&&u.setValue("slug",y,{shouldValidate:!1})}},[h,c,o,f,u]);const{data:m,isLoading:p}=He({queryKey:["admin-paths"],queryFn:async()=>{const{data:y,error:N}=await t.from("learning_paths").select("id, title, slug, description, is_published, published_at, created_at, updated_at, courses:courses(id)").order("created_at",{ascending:!1});if(N)throw N;return(y??[]).map(_=>({..._,courseCount:Array.isArray(_.courses)?_.courses.length:0}))}}),x=Qe({mutationFn:async y=>{var _;const N={title:y.title.trim(),slug:y.slug.trim(),description:(_=y.description)!=null&&_.trim()?y.description.trim():null,is_published:y.is_published,published_at:y.is_published?(o==null?void 0:o.published_at)??new Date().toISOString():null};if(o){const{error:A}=await t.from("learning_paths").update(N).eq("id",o.id);if(A)throw A}else{const{error:A}=await t.from("learning_paths").insert({...N,published_at:y.is_published?new Date().toISOString():null});if(A)throw A}},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-paths"]}),ce.success(o?"Learning path updated":"Learning path created"),r(!1)},onError:y=>{console.error("Error saving learning path",y),ce.error(y instanceof Error?y.message:"Failed to save learning path")}}),g=Qe({mutationFn:async({id:y,publish:N})=>{const{error:_}=await t.from("learning_paths").update({is_published:N,published_at:N?new Date().toISOString():null}).eq("id",y);if(_)throw _},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-paths"]}),ce.success("Publish state updated")},onError:y=>{console.error("Error toggling publish",y),ce.error(y instanceof Error?y.message:"Failed to toggle publish state")}}),v=Qe({mutationFn:async y=>{const{error:N}=await t.from("learning_paths").delete().eq("id",y);if(N)throw N},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-paths"]}),ce.success("Learning path deleted"),a(null)},onError:y=>{console.error("Error deleting learning path",y),ce.error(y instanceof Error?y.message:"Failed to delete learning path")}}),j=()=>{l(null),d(!1),u.reset({title:"",slug:"",description:"",is_published:!1}),r(!0)},w=y=>{l(y),d(!0),u.reset({title:y.title??"",slug:y.slug??"",description:y.description??"",is_published:y.is_published}),r(!0)},S=y=>{x.mutate(y)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-forge-dark",children:"Learning Paths"}),i.jsx("p",{className:"text-sm text-forge-gray",children:"Group courses into curated journeys. Control slug, visibility, and descriptions from here."})]}),i.jsxs(Z,{onClick:j,className:"self-start sm:self-auto",children:[i.jsx(Ta,{className:"mr-2 h-4 w-4"}),"New Path"]})]}),p?i.jsx(ie,{className:"border-dashed border-forge-cream/70 bg-white/80",children:i.jsxs(ae,{className:"flex items-center gap-3 p-8 text-forge-gray",children:[i.jsx(et,{className:"h-4 w-4 animate-spin"})," Loading learning paths..."]})}):m&&m.length>0?i.jsx("div",{className:"grid gap-4",children:m.map(y=>i.jsxs(ie,{className:"border border-forge-cream/70 bg-white/80",children:[i.jsxs(Ne,{className:"flex flex-row items-start justify-between gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(ke,{className:"flex items-center gap-2 text-forge-dark",children:[y.title,i.jsx(gs,{variant:y.is_published?"default":"outline",className:y.is_published?"bg-forge-orange text-white hover:bg-forge-orange/90":"",children:y.is_published?"Published":"Draft"})]}),i.jsx(bt,{className:"text-sm text-forge-gray",children:y.description||"No description"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z,{variant:"outline",size:"icon",onClick:()=>w(y),children:i.jsx(Aa,{className:"h-4 w-4"})}),i.jsx(Z,{variant:"outline",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>a(y),children:i.jsx(Ea,{className:"h-4 w-4"})})]})]}),i.jsxs(ae,{className:"space-y-3 text-sm text-forge-gray",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-forge-dark",children:"Slug:"})," ",y.slug]}),i.jsx(gt,{orientation:"vertical",className:"hidden h-4 sm:block"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-forge-dark",children:"Courses:"})," ",y.courseCount]})]}),i.jsxs("div",{className:"text-xs text-forge-gray/80",children:["Updated ",y.updated_at?Ya(new Date(y.updated_at),{addSuffix:!0}):"N/A"]})]}),i.jsx(ti,{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Yt,{id:`publish-${y.id}`,checked:y.is_published,onCheckedChange:N=>g.mutate({id:y.id,publish:N}),disabled:g.isPending}),i.jsx("label",{htmlFor:`publish-${y.id}`,className:"text-forge-gray",children:y.is_published?"Unpublish":"Publish"})]})})]},y.id))}):i.jsx(ie,{className:"border-dashed border-forge-cream/70 bg-white/70",children:i.jsx(ae,{className:"p-8 text-center text-forge-gray",children:"No learning paths yet. Create your first path to start structuring content."})}),i.jsx(Ka,{open:s,onOpenChange:r,children:i.jsxs(ri,{className:"max-w-lg",children:[i.jsxs(ni,{children:[i.jsx(ai,{children:o?"Edit learning path":"New learning path"}),i.jsx(Zt,{children:o?"Update title, slug, or publication state. Changes go live immediately.":"Define the high-level journey for learners. You can add courses after saving."})]}),i.jsx(Ga,{...u,children:i.jsxs("form",{onSubmit:u.handleSubmit(S),className:"space-y-6",children:[i.jsx(xe,{control:u.control,name:"title",render:({field:y})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Title"}),i.jsx(fe,{children:i.jsx(ne,{placeholder:"e.g. Web Development Accelerator",...y})}),i.jsx(je,{})]})}),i.jsx(xe,{control:u.control,name:"slug",render:({field:y})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Slug"}),i.jsx(fe,{children:i.jsx(ne,{placeholder:"web-development-accelerator",...y,onChange:N=>{d(!0),y.onChange(N)}})}),i.jsx(je,{})]})}),i.jsx(xe,{control:u.control,name:"description",render:({field:y})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Description"}),i.jsx(fe,{children:i.jsx(_n,{rows:4,placeholder:"Summarize the journey learners will experience.",...y})}),i.jsx(je,{})]})}),i.jsx(xe,{control:u.control,name:"is_published",render:({field:y})=>i.jsxs(ue,{className:"flex flex-row items-center justify-between rounded-lg border border-forge-cream/80 bg-forge-cream/30 p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(he,{className:"text-base",children:"Publish immediately"}),i.jsx(Zt,{children:y.value?"The path is visible to all enrolled learners.":"Keep as draft until you are ready to publish."})]}),i.jsx(fe,{children:i.jsx(Yt,{checked:y.value,onCheckedChange:y.onChange,disabled:u.formState.isSubmitting})})]})}),i.jsxs(ii,{children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:u.formState.isSubmitting,children:"Cancel"}),i.jsx(Z,{type:"submit",disabled:u.formState.isSubmitting,children:u.formState.isSubmitting?i.jsxs(i.Fragment,{children:[i.jsx(et,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):o?"Save changes":"Create path"})]})]})})]})}),i.jsx(Za,{open:!!n,onOpenChange:y=>!y&&a(null),children:i.jsxs(oi,{children:[i.jsxs(li,{children:[i.jsx(di,{children:"Delete learning path"}),i.jsxs(ui,{children:["This action cannot be undone. Deleting a path will remove all associated courses, modules, and lessons. Make sure you really want to remove ",n==null?void 0:n.title,"."]})]}),i.jsxs(ci,{children:[i.jsx(fi,{disabled:v.isPending,children:"Cancel"}),i.jsx(hi,{onClick:()=>n&&v.mutate(n.id),className:"bg-red-500 hover:bg-red-600",disabled:v.isPending,children:v.isPending?i.jsxs(i.Fragment,{children:[i.jsx(et,{className:"mr-2 h-4 w-4 animate-spin"})," Deleting..."]}):"Delete"})]})]})})]})}const fT=t=>t.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,80),mT=qa({path_id:De().uuid("Select a learning path"),title:De().min(3,"Title must have at least 3 characters"),slug:De().min(3,"Slug must have at least 3 characters").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and hyphens only"),summary:De().max(200,"Summary is too long").optional().or(Pt("")),description:De().optional().or(Pt("")),order:mr.number().int("Order must be an integer").min(1,"Order must be at least 1"),duration_minutes:bx([mr.number().int().min(0),Pt("")]).optional().transform(t=>t===""||t===void 0?null:Number(t)),thumbnail_url:De().url("Must be a valid URL").optional().or(Pt("")),is_published:Wa().default(!1)});function pT(){const t=b.useMemo(()=>Oe(),[]),e=Pr(),[s,r]=b.useState("all"),[n,a]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState(null),[u,h]=b.useState(!1),f=Pa({resolver:Ha(mT),defaultValues:{path_id:"",title:"",slug:"",summary:"",description:"",order:1,duration_minutes:null,thumbnail_url:"",is_published:!1}});b.useEffect(()=>{n||(f.reset(),l(null),h(!1))},[n,f]);const m=f.watch("title"),p=f.watch("slug");b.useEffect(()=>{if(!u&&!o){const C=fT(m??"");C&&C!==p&&f.setValue("slug",C,{shouldValidate:!1})}},[m,p,u,o,f]);const{data:x=[]}=He({queryKey:["admin-courses-paths"],queryFn:async()=>{const{data:C,error:E}=await t.from("learning_paths").select("id, title, slug").order("title",{ascending:!0});if(E)throw E;return C??[]}}),g=b.useMemo(()=>x.reduce((C,E)=>(C[E.id]=E,C),{}),[x]),{data:v,isLoading:j}=He({queryKey:["admin-courses"],queryFn:async()=>{const{data:C,error:E}=await t.from("courses").select("id, title, slug, summary, description, path_id, order, duration_minutes, is_published, published_at, thumbnail_url, updated_at, modules:modules(id)").order("order",{ascending:!0});if(E)throw E;return(C??[]).map($=>({...$,moduleCount:Array.isArray($.modules)?$.modules.length:0}))}}),w=b.useMemo(()=>v?s==="all"?v:v.filter(C=>C.path_id===s):[],[v,s]),S=Qe({mutationFn:async C=>{var $,se,G;const E={path_id:C.path_id,title:C.title.trim(),slug:C.slug.trim(),summary:($=C.summary)!=null&&$.trim()?C.summary.trim():null,description:(se=C.description)!=null&&se.trim()?C.description.trim():null,order:C.order,duration_minutes:C.duration_minutes??null,thumbnail_url:(G=C.thumbnail_url)!=null&&G.trim()?C.thumbnail_url.trim():null,is_published:C.is_published,published_at:C.is_published?(o==null?void 0:o.published_at)??new Date().toISOString():null};if(o){const{error:P}=await t.from("courses").update(E).eq("id",o.id);if(P)throw P}else{const{error:P}=await t.from("courses").insert({...E,published_at:C.is_published?new Date().toISOString():null});if(P)throw P}},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-courses"]}),ce.success(o?"Course updated":"Course created"),a(!1)},onError:C=>{console.error("Error saving course",C),ce.error(C instanceof Error?C.message:"Failed to save course")}}),y=Qe({mutationFn:async({id:C,publish:E})=>{const{error:$}=await t.from("courses").update({is_published:E,published_at:E?new Date().toISOString():null}).eq("id",C);if($)throw $},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-courses"]}),ce.success("Publish state updated")},onError:C=>{console.error("Error toggling publish",C),ce.error(C instanceof Error?C.message:"Failed to toggle publish state")}}),N=Qe({mutationFn:async C=>{const{error:E}=await t.from("courses").delete().eq("id",C);if(E)throw E},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-courses"]}),ce.success("Course deleted"),d(null)},onError:C=>{console.error("Error deleting course",C),ce.error(C instanceof Error?C.message:"Failed to delete course")}}),_=()=>{l(null),h(!1),f.reset({path_id:s!=="all"?s:"",title:"",slug:"",summary:"",description:"",order:1,duration_minutes:null,thumbnail_url:"",is_published:!1}),a(!0)},A=C=>{l(C),h(!0),f.reset({path_id:C.path_id??"",title:C.title??"",slug:C.slug??"",summary:C.summary??"",description:C.description??"",order:C.order??1,duration_minutes:C.duration_minutes??null,thumbnail_url:C.thumbnail_url??"",is_published:C.is_published}),a(!0)},O=C=>{S.mutate(C)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-forge-dark",children:"Courses"}),i.jsx("p",{className:"text-sm text-forge-gray",children:"Manage courses inside each learning path. Adjust order, metadata, and publish state."})]}),i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[i.jsxs(mt,{value:s,onValueChange:C=>r(C),children:[i.jsx(nt,{className:"w-[240px]",children:i.jsx(pt,{placeholder:"Filter by path"})}),i.jsxs(it,{children:[i.jsx(Ee,{value:"all",children:"All paths"}),x.map(C=>i.jsx(Ee,{value:C.id,children:C.title},C.id))]})]}),i.jsxs(Z,{onClick:_,className:"sm:w-auto",children:[i.jsx(Ta,{className:"mr-2 h-4 w-4"}),"New Course"]})]})]}),j?i.jsx(ie,{className:"border-dashed border-forge-cream/70 bg-white/80",children:i.jsxs(ae,{className:"flex items-center gap-3 p-8 text-forge-gray",children:[i.jsx(et,{className:"h-4 w-4 animate-spin"})," Loading courses..."]})}):w&&w.length>0?i.jsx("div",{className:"grid gap-4",children:w.map(C=>{var E;return i.jsxs(ie,{className:"border border-forge-cream/70 bg-white/80",children:[i.jsxs(Ne,{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(ke,{className:"flex flex-wrap items-center gap-2 text-forge-dark",children:["#",C.order,"  ",C.title,i.jsx(gs,{variant:C.is_published?"default":"outline",className:C.is_published?"bg-forge-orange text-white hover:bg-forge-orange/90":"",children:C.is_published?"Published":"Draft"})]}),i.jsx(bt,{className:"text-sm text-forge-gray",children:C.summary||"No summary"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z,{variant:"outline",size:"icon",onClick:()=>A(C),children:i.jsx(Aa,{className:"h-4 w-4"})}),i.jsx(Z,{variant:"outline",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>d(C),children:i.jsx(Ea,{className:"h-4 w-4"})})]})]}),i.jsxs(ae,{className:"space-y-3 text-sm text-forge-gray",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-forge-dark",children:"Path:"})," ",C.path_id?((E=g[C.path_id])==null?void 0:E.title)??"Unknown path":"Unassigned"]}),i.jsx(gt,{orientation:"vertical",className:"hidden h-4 sm:block"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-forge-dark",children:"Slug:"})," ",C.slug]}),i.jsx(gt,{orientation:"vertical",className:"hidden h-4 sm:block"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-forge-dark",children:"Modules:"})," ",C.moduleCount]}),C.duration_minutes!=null&&i.jsxs(i.Fragment,{children:[i.jsx(gt,{orientation:"vertical",className:"hidden h-4 sm:block"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-forge-dark",children:"Duration:"})," ",C.duration_minutes," min"]})]})]}),C.description&&i.jsx("p",{className:"text-xs text-forge-gray/90",children:C.description}),C.thumbnail_url&&i.jsx("a",{href:C.thumbnail_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-medium text-forge-orange hover:underline",children:"View thumbnail"}),i.jsxs("div",{className:"text-xs text-forge-gray/80",children:["Updated ",C.updated_at?Ya(new Date(C.updated_at),{addSuffix:!0}):"N/A"]})]}),i.jsx(ti,{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Yt,{id:`course-publish-${C.id}`,checked:C.is_published,onCheckedChange:$=>y.mutate({id:C.id,publish:$}),disabled:y.isPending}),i.jsx("label",{htmlFor:`course-publish-${C.id}`,className:"text-forge-gray",children:C.is_published?"Unpublish":"Publish"})]})})]},C.id)})}):i.jsx(ie,{className:"border-dashed border-forge-cream/70 bg-white/70",children:i.jsx(ae,{className:"p-8 text-center text-forge-gray",children:"No courses found for this filter. Create a new course to start building structure."})}),i.jsx(Ka,{open:n,onOpenChange:a,children:i.jsxs(ri,{className:"max-w-2xl",children:[i.jsxs(ni,{children:[i.jsx(ai,{children:o?"Edit course":"New course"}),i.jsx(Zt,{children:o?"Update metadata, ordering, and visibility for this course.":"Create a course inside a learning path. You can attach modules after saving."})]}),i.jsx(Ga,{...f,children:i.jsxs("form",{onSubmit:f.handleSubmit(O),className:"space-y-6",children:[i.jsx(xe,{control:f.control,name:"path_id",render:({field:C})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Learning path"}),i.jsx(fe,{children:i.jsxs(mt,{value:C.value,onValueChange:C.onChange,children:[i.jsx(nt,{className:"w-full",children:i.jsx(pt,{placeholder:"Select a learning path"})}),i.jsx(it,{children:x.map(E=>i.jsx(Ee,{value:E.id,children:E.title},E.id))})]})}),i.jsx(je,{})]})}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsx(xe,{control:f.control,name:"title",render:({field:C})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Title"}),i.jsx(fe,{children:i.jsx(ne,{placeholder:"e.g. React & TypeScript Foundations",...C})}),i.jsx(je,{})]})}),i.jsx(xe,{control:f.control,name:"slug",render:({field:C})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Slug"}),i.jsx(fe,{children:i.jsx(ne,{placeholder:"react-typescript-foundations",...C,onChange:E=>{h(!0),C.onChange(E)}})}),i.jsx(je,{})]})})]}),i.jsx(xe,{control:f.control,name:"summary",render:({field:C})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Summary"}),i.jsx(fe,{children:i.jsx(ne,{placeholder:"Short one-liner for dashboards",...C})}),i.jsx(je,{})]})}),i.jsx(xe,{control:f.control,name:"description",render:({field:C})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Description"}),i.jsx(fe,{children:i.jsx(_n,{rows:4,placeholder:"Detailed course description",...C})}),i.jsx(je,{})]})}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[i.jsx(xe,{control:f.control,name:"order",render:({field:C})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Order"}),i.jsx(fe,{children:i.jsx(ne,{type:"number",min:1,...C})}),i.jsx(je,{})]})}),i.jsx(xe,{control:f.control,name:"duration_minutes",render:({field:C})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Duration (minutes)"}),i.jsx(fe,{children:i.jsx(ne,{type:"number",min:0,placeholder:"Optional",...C})}),i.jsx(je,{})]})}),i.jsx(xe,{control:f.control,name:"thumbnail_url",render:({field:C})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Thumbnail URL"}),i.jsx(fe,{children:i.jsx(ne,{placeholder:"https://...",...C})}),i.jsx(Yc,{children:"Use a Supabase Storage public URL or any accessible image. Media uploads will be integrated soon."}),i.jsx(je,{})]})})]}),i.jsx(xe,{control:f.control,name:"is_published",render:({field:C})=>i.jsxs(ue,{className:"flex flex-row items-center justify-between rounded-lg border border-forge-cream/80 bg-forge-cream/30 p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(he,{className:"text-base",children:"Publish immediately"}),i.jsx(Zt,{children:C.value?"Published courses are visible to learners enrolled in the path.":"Keep as draft until modules and lessons are ready."})]}),i.jsx(fe,{children:i.jsx(Yt,{checked:C.value,onCheckedChange:C.onChange,disabled:f.formState.isSubmitting})})]})}),i.jsxs(ii,{children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:f.formState.isSubmitting,children:"Cancel"}),i.jsx(Z,{type:"submit",disabled:f.formState.isSubmitting,children:f.formState.isSubmitting?i.jsxs(i.Fragment,{children:[i.jsx(et,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):o?"Save changes":"Create course"})]})]})})]})}),i.jsx(Za,{open:!!c,onOpenChange:C=>!C&&d(null),children:i.jsxs(oi,{children:[i.jsxs(li,{children:[i.jsx(di,{children:"Delete course"}),i.jsxs(ui,{children:["Deleting a course will also remove its modules and lessons. This cannot be undone. Continue deleting ",c==null?void 0:c.title,"?"]})]}),i.jsxs(ci,{children:[i.jsx(fi,{disabled:N.isPending,children:"Cancel"}),i.jsx(hi,{onClick:()=>c&&N.mutate(c.id),className:"bg-red-500 hover:bg-red-600",disabled:N.isPending,children:N.isPending?i.jsxs(i.Fragment,{children:[i.jsx(et,{className:"mr-2 h-4 w-4 animate-spin"})," Deleting..."]}):"Delete"})]})]})})]})}const gT=t=>t.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,80),xT=qa({course_id:De().uuid("Select a course"),title:De().min(3,"Title must have at least 3 characters"),slug:De().min(3,"Slug must have at least 3 characters").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and hyphens only"),summary:De().optional().or(Pt("")),order:mr.number().int("Order must be an integer").min(1,"Order must be at least 1"),is_published:Wa().default(!1)});function bT(){const t=b.useMemo(()=>Oe(),[]),e=Pr(),[s,r]=b.useState("all"),[n,a]=b.useState("all"),[o,l]=b.useState(!1),[c,d]=b.useState(null),[u,h]=b.useState(null),[f,m]=b.useState(!1),p=Pa({resolver:Ha(xT),defaultValues:{course_id:"",title:"",slug:"",summary:"",order:1,is_published:!1}});b.useEffect(()=>{o||(p.reset(),d(null),m(!1))},[o,p]);const x=p.watch("title"),g=p.watch("slug");b.useEffect(()=>{if(!f&&!c){const P=gT(x??"");P&&P!==g&&p.setValue("slug",P,{shouldValidate:!1})}},[x,g,f,c,p]);const{data:v=[]}=He({queryKey:["admin-modules-paths"],queryFn:async()=>{const{data:P,error:M}=await t.from("learning_paths").select("id, title").order("title",{ascending:!0});if(M)throw M;return P??[]}}),{data:j=[]}=He({queryKey:["admin-modules-courses"],queryFn:async()=>{const{data:P,error:M}=await t.from("courses").select("id, title, path_id, order").order("path_id",{ascending:!0}).order("order",{ascending:!0});if(M)throw M;return P??[]}}),w=b.useMemo(()=>v.reduce((P,M)=>(P[M.id]=M,P),{}),[v]),S=b.useMemo(()=>j.reduce((P,M)=>(P[M.id]=M,P),{}),[j]),y=b.useMemo(()=>s==="all"?j:j.filter(P=>P.path_id===s),[j,s]),{data:N,isLoading:_}=He({queryKey:["admin-modules"],queryFn:async()=>{const{data:P,error:M}=await t.from("modules").select("id, title, slug, summary, order, course_id, is_published, published_at, updated_at, lessons:lessons(id)").order("course_id",{ascending:!0}).order("order",{ascending:!0});if(M)throw M;return(P??[]).map(U=>({...U,lessonCount:Array.isArray(U.lessons)?U.lessons.length:0}))}}),A=b.useMemo(()=>N?N.filter(P=>{if(s!=="all"){const M=P.course_id?S[P.course_id]:null;if(!M||M.path_id!==s)return!1}return!(n!=="all"&&P.course_id!==n)}):[],[N,s,n,S]),O=Qe({mutationFn:async P=>{var U;const M={course_id:P.course_id,title:P.title.trim(),slug:P.slug.trim(),summary:(U=P.summary)!=null&&U.trim()?P.summary.trim():null,order:P.order,is_published:P.is_published,published_at:P.is_published?(c==null?void 0:c.published_at)??new Date().toISOString():null};if(c){const{error:q}=await t.from("modules").update(M).eq("id",c.id);if(q)throw q}else{const{error:q}=await t.from("modules").insert({...M,published_at:P.is_published?new Date().toISOString():null});if(q)throw q}},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-modules"]}),ce.success(c?"Module updated":"Module created"),l(!1)},onError:P=>{console.error("Error saving module",P),ce.error(P instanceof Error?P.message:"Failed to save module")}}),C=Qe({mutationFn:async({id:P,publish:M})=>{const{error:U}=await t.from("modules").update({is_published:M,published_at:M?new Date().toISOString():null}).eq("id",P);if(U)throw U},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-modules"]}),ce.success("Publish state updated")},onError:P=>{console.error("Error toggling publish",P),ce.error(P instanceof Error?P.message:"Failed to toggle publish state")}}),E=Qe({mutationFn:async P=>{const{error:M}=await t.from("modules").delete().eq("id",P);if(M)throw M},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-modules"]}),ce.success("Module deleted"),h(null)},onError:P=>{console.error("Error deleting module",P),ce.error(P instanceof Error?P.message:"Failed to delete module")}}),$=()=>{d(null),m(!1),p.reset({course_id:n!=="all"?n:"",title:"",slug:"",summary:"",order:1,is_published:!1}),l(!0)},se=P=>{d(P),m(!0),p.reset({course_id:P.course_id??"",title:P.title??"",slug:P.slug??"",summary:P.summary??"",order:P.order??1,is_published:P.is_published}),l(!0)},G=P=>{O.mutate(P)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-4 xl:flex-row xl:items-center xl:justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-forge-dark",children:"Modules"}),i.jsx("p",{className:"text-sm text-forge-gray",children:"Structure lessons within courses. Manage ordering and publish visibility for each module."})]}),i.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[i.jsxs(mt,{value:s,onValueChange:P=>{r(P),a("all")},children:[i.jsx(nt,{className:"w-[220px]",children:i.jsx(pt,{placeholder:"Filter by path"})}),i.jsxs(it,{children:[i.jsx(Ee,{value:"all",children:"All paths"}),v.map(P=>i.jsx(Ee,{value:P.id,children:P.title},P.id))]})]}),i.jsxs(mt,{value:n,onValueChange:P=>a(P),children:[i.jsx(nt,{className:"w-[220px]",children:i.jsx(pt,{placeholder:"Filter by course"})}),i.jsxs(it,{children:[i.jsx(Ee,{value:"all",children:"All courses"}),y.map(P=>i.jsx(Ee,{value:P.id,children:P.title},P.id))]})]}),i.jsxs(Z,{onClick:$,className:"md:w-auto",children:[i.jsx(Ta,{className:"mr-2 h-4 w-4"}),"New Module"]})]})]}),_?i.jsx(ie,{className:"border-dashed border-forge-cream/70 bg-white/80",children:i.jsxs(ae,{className:"flex items-center gap-3 p-8 text-forge-gray",children:[i.jsx(et,{className:"h-4 w-4 animate-spin"})," Loading modules..."]})}):A&&A.length>0?i.jsx("div",{className:"grid gap-4",children:A.map(P=>{const M=P.course_id?S[P.course_id]:null,U=M!=null&&M.path_id?w[M.path_id]:null;return i.jsxs(ie,{className:"border border-forge-cream/70 bg-white/80",children:[i.jsxs(Ne,{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(ke,{className:"flex flex-wrap items-center gap-2 text-forge-dark",children:["#",P.order,"  ",P.title,i.jsx(gs,{variant:P.is_published?"default":"outline",className:P.is_published?"bg-forge-orange text-white hover:bg-forge-orange/90":"",children:P.is_published?"Published":"Draft"})]}),i.jsx(bt,{className:"text-sm text-forge-gray",children:P.summary||"No summary"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z,{variant:"outline",size:"icon",onClick:()=>se(P),children:i.jsx(Aa,{className:"h-4 w-4"})}),i.jsx(Z,{variant:"outline",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>h(P),children:i.jsx(Ea,{className:"h-4 w-4"})})]})]}),i.jsxs(ae,{className:"space-y-3 text-sm text-forge-gray",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-forge-dark",children:"Course:"})," ",M?M.title:"Unassigned"]}),i.jsx(gt,{orientation:"vertical",className:"hidden h-4 sm:block"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-forge-dark",children:"Path:"})," ",U?U.title:"Unassigned"]}),i.jsx(gt,{orientation:"vertical",className:"hidden h-4 sm:block"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-forge-dark",children:"Slug:"})," ",P.slug]}),i.jsx(gt,{orientation:"vertical",className:"hidden h-4 sm:block"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-forge-dark",children:"Lessons:"})," ",P.lessonCount]})]}),i.jsxs("div",{className:"text-xs text-forge-gray/80",children:["Updated ",P.updated_at?Ya(new Date(P.updated_at),{addSuffix:!0}):"N/A"]})]}),i.jsx(ti,{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Yt,{id:`module-publish-${P.id}`,checked:P.is_published,onCheckedChange:q=>C.mutate({id:P.id,publish:q}),disabled:C.isPending}),i.jsx("label",{htmlFor:`module-publish-${P.id}`,className:"text-forge-gray",children:P.is_published?"Unpublish":"Publish"})]})})]},P.id)})}):i.jsx(ie,{className:"border-dashed border-forge-cream/70 bg-white/70",children:i.jsx(ae,{className:"p-8 text-center text-forge-gray",children:"No modules found for this filter. Create a new module to organize lessons."})}),i.jsx(Ka,{open:o,onOpenChange:l,children:i.jsxs(ri,{className:"max-w-xl",children:[i.jsxs(ni,{children:[i.jsx(ai,{children:c?"Edit module":"New module"}),i.jsx(Zt,{children:c?"Adjust module metadata, ordering, and publish visibility.":"Create a module within a course to group related lessons."})]}),i.jsx(Ga,{...p,children:i.jsxs("form",{onSubmit:p.handleSubmit(G),className:"space-y-6",children:[i.jsx(xe,{control:p.control,name:"course_id",render:({field:P})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Course"}),i.jsx(fe,{children:i.jsxs(mt,{value:P.value,onValueChange:P.onChange,children:[i.jsx(nt,{className:"w-full",children:i.jsx(pt,{placeholder:"Select a course"})}),i.jsx(it,{children:j.map(M=>i.jsx(Ee,{value:M.id,children:M.title},M.id))})]})}),i.jsx(je,{})]})}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsx(xe,{control:p.control,name:"title",render:({field:P})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Title"}),i.jsx(fe,{children:i.jsx(ne,{placeholder:"e.g. React Fundamentals",...P})}),i.jsx(je,{})]})}),i.jsx(xe,{control:p.control,name:"slug",render:({field:P})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Slug"}),i.jsx(fe,{children:i.jsx(ne,{placeholder:"react-fundamentals",...P,onChange:M=>{m(!0),P.onChange(M)}})}),i.jsx(je,{})]})})]}),i.jsx(xe,{control:p.control,name:"summary",render:({field:P})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Summary"}),i.jsx(fe,{children:i.jsx(ne,{placeholder:"Optional highlight for the module",...P})}),i.jsx(je,{})]})}),i.jsx(xe,{control:p.control,name:"order",render:({field:P})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Order"}),i.jsx(fe,{children:i.jsx(ne,{type:"number",min:1,...P})}),i.jsx(je,{})]})}),i.jsx(xe,{control:p.control,name:"is_published",render:({field:P})=>i.jsxs(ue,{className:"flex flex-row items-center justify-between rounded-lg border border-forge-cream/80 bg-forge-cream/30 p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(he,{className:"text-base",children:"Publish immediately"}),i.jsx(Zt,{children:P.value?"Published modules are available inside the course.":"Keep as draft until lessons are ready."})]}),i.jsx(fe,{children:i.jsx(Yt,{checked:P.value,onCheckedChange:P.onChange,disabled:p.formState.isSubmitting})})]})}),i.jsxs(ii,{children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:p.formState.isSubmitting,children:"Cancel"}),i.jsx(Z,{type:"submit",disabled:p.formState.isSubmitting,children:p.formState.isSubmitting?i.jsxs(i.Fragment,{children:[i.jsx(et,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):c?"Save changes":"Create module"})]})]})})]})}),i.jsx(Za,{open:!!u,onOpenChange:P=>!P&&h(null),children:i.jsxs(oi,{children:[i.jsxs(li,{children:[i.jsx(di,{children:"Delete module"}),i.jsxs(ui,{children:["Deleting a module will remove all its lessons. This action cannot be undone. Continue deleting ",u==null?void 0:u.title,"?"]})]}),i.jsxs(ci,{children:[i.jsx(fi,{disabled:E.isPending,children:"Cancel"}),i.jsx(hi,{onClick:()=>u&&E.mutate(u.id),className:"bg-red-500 hover:bg-red-600",disabled:E.isPending,children:E.isPending?i.jsxs(i.Fragment,{children:[i.jsx(et,{className:"mr-2 h-4 w-4 animate-spin"})," Deleting..."]}):"Delete"})]})]})})]})}const yT=t=>t.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,80),vT=qa({module_id:De().uuid("Select a module"),title:De().min(3,"Title must have at least 3 characters"),slug:De().min(3,"Slug must have at least 3 characters").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and hyphens only"),lesson_type:uP(["text","video","quiz"]),text_content:De().optional().or(Pt("")),video_url:De().optional().or(Pt("")),quiz_json:De().optional().or(Pt("")),xp_value:mr.number().int().min(0,"XP must be zero or greater"),order:mr.number().int().min(1,"Order must be at least 1"),duration_minutes:bx([mr.number().int().min(0),Pt("")]).optional().transform(t=>t===""||t===void 0?null:Number(t)),thumbnail_url:De().url("Must be a valid URL").optional().or(Pt("")),is_published:Wa().default(!1)}).refine(t=>{var e;return t.lesson_type!=="text"||!!((e=t.text_content)!=null&&e.trim())},{path:["text_content"],message:"Provide content for the text lesson"}).refine(t=>{var e;return t.lesson_type!=="video"||!!((e=t.video_url)!=null&&e.trim())},{path:["video_url"],message:"Provide a video URL"}).refine(t=>{var e;if(t.lesson_type!=="quiz")return!0;if(!((e=t.quiz_json)!=null&&e.trim()))return!1;try{const s=JSON.parse(t.quiz_json);return Array.isArray(s)}catch{return!1}},{path:["quiz_json"],message:"Provide a valid JSON array of quiz questions"});function wT(){const t=b.useMemo(()=>Oe(),[]),e=Pr(),[s,r]=b.useState("all"),[n,a]=b.useState("all"),[o,l]=b.useState("all"),[c,d]=b.useState(!1),[u,h]=b.useState(null),[f,m]=b.useState(null),[p,x]=b.useState(!1),g=Pa({resolver:Ha(vT),defaultValues:{module_id:"",title:"",slug:"",lesson_type:"text",text_content:"",video_url:"",quiz_json:"",xp_value:10,order:1,duration_minutes:null,thumbnail_url:"",is_published:!1}});b.useEffect(()=>{c||(g.reset(),h(null),x(!1))},[c,g]);const v=g.watch("title"),j=g.watch("slug");b.useEffect(()=>{if(!p&&!u){const k=yT(v??"");k&&k!==j&&g.setValue("slug",k,{shouldValidate:!1})}},[v,j,p,u,g]);const{data:w=[]}=He({queryKey:["admin-lessons-paths"],queryFn:async()=>{const{data:k,error:R}=await t.from("learning_paths").select("id, title").order("title",{ascending:!0});if(R)throw R;return k??[]}}),{data:S=[]}=He({queryKey:["admin-lessons-courses"],queryFn:async()=>{const{data:k,error:R}=await t.from("courses").select("id, title, path_id, order").order("path_id",{ascending:!0}).order("order",{ascending:!0});if(R)throw R;return k??[]}}),{data:y=[]}=He({queryKey:["admin-lessons-modules"],queryFn:async()=>{const{data:k,error:R}=await t.from("modules").select("id, title, course_id, order").order("course_id",{ascending:!0}).order("order",{ascending:!0});if(R)throw R;return k??[]}}),N=b.useMemo(()=>y.reduce((k,R)=>(k[R.id]=R,k),{}),[y]),_=b.useMemo(()=>S.reduce((k,R)=>(k[R.id]=R,k),{}),[S]),A=b.useMemo(()=>w.reduce((k,R)=>(k[R.id]=R,k),{}),[w]),O=b.useMemo(()=>s==="all"?S:S.filter(k=>k.path_id===s),[S,s]),C=b.useMemo(()=>y.filter(k=>{if(s!=="all"){const R=k.course_id?_[k.course_id]:null;if(!R||R.path_id!==s)return!1}return!(n!=="all"&&k.course_id!==n)}),[y,s,n,_]),{data:E,isLoading:$}=He({queryKey:["admin-lessons"],queryFn:async()=>{const{data:k,error:R}=await t.from("lessons").select("id, title, slug, lesson_type, module_id, order, content, xp_value, duration_minutes, thumbnail_url, is_published, published_at, updated_at").order("module_id",{ascending:!0}).order("order",{ascending:!0});if(R)throw R;return k??[]}}),se=b.useMemo(()=>E?E.filter(k=>{const R=k.module_id?N[k.module_id]:null,W=R!=null&&R.course_id?_[R.course_id]:null,le=(W==null?void 0:W.path_id)??null;return!(s!=="all"&&le!==s||n!=="all"&&(R==null?void 0:R.course_id)!==n||o!=="all"&&k.module_id!==o)}):[],[E,s,n,o,N,_]),G=Qe({mutationFn:async k=>{var le,Te,rt;let R=null;k.lesson_type==="text"?R=((le=k.text_content)==null?void 0:le.trim())??"":k.lesson_type==="video"?R=((Te=k.video_url)==null?void 0:Te.trim())??"":R=JSON.parse(k.quiz_json??"[]");const W={module_id:k.module_id,title:k.title.trim(),slug:k.slug.trim(),lesson_type:k.lesson_type,content:R,xp_value:k.xp_value,order:k.order,duration_minutes:k.duration_minutes??null,thumbnail_url:(rt=k.thumbnail_url)!=null&&rt.trim()?k.thumbnail_url.trim():null,is_published:k.is_published,published_at:k.is_published?(u==null?void 0:u.published_at)??new Date().toISOString():null};if(u){const{error:ve}=await t.from("lessons").update(W).eq("id",u.id);if(ve)throw ve}else{const{error:ve}=await t.from("lessons").insert({...W,published_at:k.is_published?new Date().toISOString():null});if(ve)throw ve}},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-lessons"]}),ce.success(u?"Lesson updated":"Lesson created"),d(!1)},onError:k=>{console.error("Error saving lesson",k),ce.error(k instanceof Error?k.message:"Failed to save lesson")}}),P=Qe({mutationFn:async({id:k,publish:R})=>{const{error:W}=await t.from("lessons").update({is_published:R,published_at:R?new Date().toISOString():null}).eq("id",k);if(W)throw W},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-lessons"]}),ce.success("Publish state updated")},onError:k=>{console.error("Error toggling publish",k),ce.error(k instanceof Error?k.message:"Failed to toggle publish state")}}),M=Qe({mutationFn:async k=>{const{error:R}=await t.from("lessons").delete().eq("id",k);if(R)throw R},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-lessons"]}),ce.success("Lesson deleted"),m(null)},onError:k=>{console.error("Error deleting lesson",k),ce.error(k instanceof Error?k.message:"Failed to delete lesson")}}),U=()=>{h(null),x(!1),g.reset({module_id:o!=="all"?o:"",title:"",slug:"",lesson_type:"text",text_content:"",video_url:"",quiz_json:"",xp_value:10,order:1,duration_minutes:null,thumbnail_url:"",is_published:!1}),d(!0)},q=k=>{h(k),x(!0);const R=k.module_id??"",W=k.content;let le="",Te="",rt="";if(k.lesson_type==="text")le=typeof W=="string"?W:"";else if(k.lesson_type==="video")Te=typeof W=="string"?W:"";else if(W)try{rt=JSON.stringify(W,null,2)}catch{rt=""}g.reset({module_id:R,title:k.title??"",slug:k.slug??"",lesson_type:k.lesson_type,text_content:le,video_url:Te,quiz_json:rt,xp_value:k.xp_value??0,order:k.order??1,duration_minutes:k.duration_minutes??null,thumbnail_url:k.thumbnail_url??"",is_published:k.is_published}),d(!0)},V=k=>{try{G.mutate(k)}catch(R){R instanceof Error&&ce.error(R.message)}},pe=k=>k.lesson_type==="text"?(typeof k.content=="string"?k.content:"").slice(0,160):k.lesson_type==="video"?typeof k.content=="string"?k.content:"":"Quiz lesson contents";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-4 xl:flex-row xl:items-center xl:justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-forge-dark",children:"Lessons"}),i.jsx("p",{className:"text-sm text-forge-gray",children:"Create and manage lesson content across modules. Support for text, video, and quiz formats."})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(mt,{value:s,onValueChange:k=>{r(k),a("all"),l("all")},children:[i.jsx(nt,{children:i.jsx(pt,{placeholder:"Filter by path"})}),i.jsxs(it,{children:[i.jsx(Ee,{value:"all",children:"All paths"}),w.map(k=>i.jsx(Ee,{value:k.id,children:k.title},k.id))]})]}),i.jsxs(mt,{value:n,onValueChange:k=>{a(k),l("all")},children:[i.jsx(nt,{children:i.jsx(pt,{placeholder:"Filter by course"})}),i.jsxs(it,{children:[i.jsx(Ee,{value:"all",children:"All courses"}),O.map(k=>i.jsx(Ee,{value:k.id,children:k.title},k.id))]})]}),i.jsxs(mt,{value:o,onValueChange:k=>l(k),children:[i.jsx(nt,{children:i.jsx(pt,{placeholder:"Filter by module"})}),i.jsxs(it,{children:[i.jsx(Ee,{value:"all",children:"All modules"}),C.map(k=>i.jsxs(Ee,{value:k.id,children:["#",k.order,"  ",k.title]},k.id))]})]}),i.jsxs(Z,{onClick:U,className:"w-full",children:[i.jsx(Ta,{className:"mr-2 h-4 w-4"}),"New Lesson"]})]})]}),$?i.jsx(ie,{className:"border-dashed border-forge-cream/70 bg-white/80",children:i.jsxs(ae,{className:"flex items-center gap-3 p-8 text-forge-gray",children:[i.jsx(et,{className:"h-4 w-4 animate-spin"})," Loading lessons..."]})}):se&&se.length>0?i.jsx("div",{className:"grid gap-4",children:se.map(k=>{const R=k.module_id?N[k.module_id]:null,W=R!=null&&R.course_id?_[R.course_id]:null,le=W!=null&&W.path_id?A[W.path_id]:null;return i.jsxs(ie,{className:"border border-forge-cream/70 bg-white/80",children:[i.jsxs(Ne,{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(ke,{className:"flex flex-wrap items-center gap-2 text-forge-dark",children:["#",k.order,"  ",k.title,i.jsx(gs,{variant:k.is_published?"default":"outline",className:k.is_published?"bg-forge-orange text-white hover:bg-forge-orange/90":"",children:k.is_published?"Published":"Draft"}),i.jsxs(gs,{variant:"outline",className:"flex items-center gap-1 text-xs",children:[i.jsx(ny,{className:"h-3.5 w-3.5"})," ",k.lesson_type.toUpperCase()]})]}),i.jsxs(bt,{className:"text-sm text-forge-gray",children:[R?`${R.title}  `:"",W?`${W.title}  `:"",le?le.title:""]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z,{variant:"outline",size:"icon",onClick:()=>q(k),children:i.jsx(Aa,{className:"h-4 w-4"})}),i.jsx(Z,{variant:"outline",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>m(k),children:i.jsx(Ea,{className:"h-4 w-4"})})]})]}),i.jsxs(ae,{className:"space-y-3 text-sm text-forge-gray",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-forge-dark",children:"Slug:"})," ",k.slug]}),i.jsx(gt,{orientation:"vertical",className:"hidden h-4 sm:block"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-forge-dark",children:"XP:"})," ",k.xp_value]}),k.duration_minutes!=null&&i.jsxs(i.Fragment,{children:[i.jsx(gt,{orientation:"vertical",className:"hidden h-4 sm:block"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-forge-dark",children:"Duration:"})," ",k.duration_minutes," min"]})]}),k.thumbnail_url&&i.jsxs(i.Fragment,{children:[i.jsx(gt,{orientation:"vertical",className:"hidden h-4 sm:block"}),i.jsx("a",{href:k.thumbnail_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-medium text-forge-orange hover:underline",children:"Thumbnail"})]})]}),i.jsx("p",{className:"text-xs text-forge-gray/90 line-clamp-3",children:pe(k)}),i.jsxs("div",{className:"text-xs text-forge-gray/80",children:["Updated ",k.updated_at?Ya(new Date(k.updated_at),{addSuffix:!0}):"N/A"]})]}),i.jsx(ti,{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Yt,{id:`lesson-publish-${k.id}`,checked:k.is_published,onCheckedChange:Te=>P.mutate({id:k.id,publish:Te}),disabled:P.isPending}),i.jsx("label",{htmlFor:`lesson-publish-${k.id}`,className:"text-forge-gray",children:k.is_published?"Unpublish":"Publish"})]})})]},k.id)})}):i.jsx(ie,{className:"border-dashed border-forge-cream/70 bg-white/70",children:i.jsx(ae,{className:"p-8 text-center text-forge-gray",children:"No lessons found for this filter. Create a lesson to deliver content to learners."})}),i.jsx(Ka,{open:c,onOpenChange:d,children:i.jsxs(ri,{className:"max-w-3xl",children:[i.jsxs(ni,{children:[i.jsx(ai,{children:u?"Edit lesson":"New lesson"}),i.jsx(Zt,{children:u?"Update lesson metadata, content, and publication state.":"Compose new content and attach it to a module. Choose the appropriate lesson format."})]}),i.jsx(Ga,{...g,children:i.jsxs("form",{onSubmit:g.handleSubmit(V),className:"space-y-6",children:[i.jsx(xe,{control:g.control,name:"module_id",render:({field:k})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Module"}),i.jsx(fe,{children:i.jsxs(mt,{value:k.value,onValueChange:k.onChange,children:[i.jsx(nt,{className:"w-full",children:i.jsx(pt,{placeholder:"Select a module"})}),i.jsx(it,{children:(C.length>0?C:y).map(R=>i.jsxs(Ee,{value:R.id,children:["#",R.order,"  ",R.title]},R.id))})]})}),i.jsx(je,{})]})}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsx(xe,{control:g.control,name:"title",render:({field:k})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Title"}),i.jsx(fe,{children:i.jsx(ne,{placeholder:"e.g. Understanding Components",...k})}),i.jsx(je,{})]})}),i.jsx(xe,{control:g.control,name:"slug",render:({field:k})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Slug"}),i.jsx(fe,{children:i.jsx(ne,{placeholder:"understanding-components",...k,onChange:R=>{x(!0),k.onChange(R)}})}),i.jsx(je,{})]})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[i.jsx(xe,{control:g.control,name:"lesson_type",render:({field:k})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Lesson type"}),i.jsx(fe,{children:i.jsxs(mt,{value:k.value,onValueChange:k.onChange,children:[i.jsx(nt,{children:i.jsx(pt,{})}),i.jsxs(it,{children:[i.jsx(Ee,{value:"text",children:"Text"}),i.jsx(Ee,{value:"video",children:"Video"}),i.jsx(Ee,{value:"quiz",children:"Quiz"})]})]})}),i.jsx(je,{})]})}),i.jsx(xe,{control:g.control,name:"order",render:({field:k})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Order"}),i.jsx(fe,{children:i.jsx(ne,{type:"number",min:1,...k})}),i.jsx(je,{})]})}),i.jsx(xe,{control:g.control,name:"xp_value",render:({field:k})=>i.jsxs(ue,{children:[i.jsx(he,{children:"XP value"}),i.jsx(fe,{children:i.jsx(ne,{type:"number",min:0,...k})}),i.jsx(je,{})]})})]}),g.watch("lesson_type")==="text"&&i.jsx(xe,{control:g.control,name:"text_content",render:({field:k})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Markdown content"}),i.jsx(fe,{children:i.jsx(_n,{rows:8,placeholder:"Write lesson content in Markdown",...k})}),i.jsx(je,{})]})}),g.watch("lesson_type")==="video"&&i.jsx(xe,{control:g.control,name:"video_url",render:({field:k})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Video URL"}),i.jsx(fe,{children:i.jsx(ne,{placeholder:"https://www.youtube.com/watch?v=...",...k})}),i.jsx(je,{})]})}),g.watch("lesson_type")==="quiz"&&i.jsx(xe,{control:g.control,name:"quiz_json",render:({field:k})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Quiz JSON"}),i.jsx(fe,{children:i.jsx(_n,{rows:8,placeholder:`[
  {
    "question": "What is React?",
    "options": ["Library", "Framework"],
    "correctAnswer": "Library"
  }
]`,...k})}),i.jsx(je,{})]})}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsx(xe,{control:g.control,name:"duration_minutes",render:({field:k})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Duration (minutes)"}),i.jsx(fe,{children:i.jsx(ne,{type:"number",min:0,placeholder:"Optional",...k})}),i.jsx(je,{})]})}),i.jsx(xe,{control:g.control,name:"thumbnail_url",render:({field:k})=>i.jsxs(ue,{children:[i.jsx(he,{children:"Thumbnail URL"}),i.jsx(fe,{children:i.jsx(ne,{placeholder:"https://...",...k})}),i.jsx(Yc,{children:"Store media in Supabase Storage and paste the public URL here. Upload widgets are planned for a next iteration."}),i.jsx(je,{})]})})]}),i.jsx(xe,{control:g.control,name:"is_published",render:({field:k})=>i.jsxs(ue,{className:"flex flex-row items-center justify-between rounded-lg border border-forge-cream/80 bg-forge-cream/30 p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(he,{className:"text-base",children:"Publish immediately"}),i.jsx(Zt,{children:k.value?"Published lessons appear instantly in the learner experience.":"Keep as draft until you are ready to release."})]}),i.jsx(fe,{children:i.jsx(Yt,{checked:k.value,onCheckedChange:k.onChange,disabled:g.formState.isSubmitting})})]})}),i.jsxs(ii,{children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:g.formState.isSubmitting,children:"Cancel"}),i.jsx(Z,{type:"submit",disabled:g.formState.isSubmitting,children:g.formState.isSubmitting?i.jsxs(i.Fragment,{children:[i.jsx(et,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):u?"Save changes":"Create lesson"})]})]})})]})}),i.jsx(Za,{open:!!f,onOpenChange:k=>!k&&m(null),children:i.jsxs(oi,{children:[i.jsxs(li,{children:[i.jsx(di,{children:"Delete lesson"}),i.jsxs(ui,{children:["Deleting a lesson cannot be undone. Learner progress for this lesson will be lost. Continue deleting ",f==null?void 0:f.title,"?"]})]}),i.jsxs(ci,{children:[i.jsx(fi,{disabled:M.isPending,children:"Cancel"}),i.jsx(hi,{onClick:()=>f&&M.mutate(f.id),className:"bg-red-500 hover:bg-red-600",disabled:M.isPending,children:M.isPending?i.jsxs(i.Fragment,{children:[i.jsx(et,{className:"mr-2 h-4 w-4 animate-spin"})," Deleting..."]}):"Delete"})]})]})})]})}const _x=iy,Xc=b.forwardRef(({className:t,...e},s)=>i.jsx(um,{ref:s,className:T("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Xc.displayName=um.displayName;const ds=b.forwardRef(({className:t,...e},s)=>i.jsx(hm,{ref:s,className:T("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ds.displayName=hm.displayName;const ya=b.forwardRef(({className:t,...e},s)=>i.jsx(fm,{ref:s,className:T("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ya.displayName=fm.displayName;const jT=[{id:"1",name:"Ana Silva",email:"ana.silva@email.com",xp:3420,completedLessons:28,avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400&h=400&fit=crop&crop=face"},{id:"2",name:"Carlos Santos",email:"carlos.santos@email.com",xp:3180,completedLessons:26,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop&crop=face"},{id:"3",name:"Maria Oliveira",email:"maria.oliveira@email.com",xp:2950,completedLessons:24,avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop&crop=face"},{id:"4",name:"Joo Pedro",email:"joao.pedro@email.com",xp:2820,completedLessons:23,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face"},{id:"5",name:"Lucia Costa",email:"lucia.costa@email.com",xp:2650,completedLessons:22,avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400&h=400&fit=crop&crop=face"},{id:"6",name:"Rafael Mendes",email:"rafael.mendes@email.com",xp:2480,completedLessons:20,avatar:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&h=400&fit=crop&crop=face"},{id:"7",name:"Fernanda Lima",email:"fernanda.lima@email.com",xp:2320,completedLessons:19,avatar:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=400&h=400&fit=crop&crop=face"},{id:"8",name:"Thiago Rocha",email:"thiago.rocha@email.com",xp:2180,completedLessons:18,avatar:"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?w=400&h=400&fit=crop&crop=face"}],$o={"blockchain-web3":{name:"Blockchain e Web3",entries:[{id:"1",name:"Ana Silva",email:"ana.silva@email.com",xp:1850,completedLessons:15,pathName:"Blockchain e Web3",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400&h=400&fit=crop&crop=face"},{id:"2",name:"Carlos Santos",email:"carlos.santos@email.com",xp:1720,completedLessons:14,pathName:"Blockchain e Web3",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop&crop=face"},{id:"4",name:"Joo Pedro",email:"joao.pedro@email.com",xp:1650,completedLessons:13,pathName:"Blockchain e Web3",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face"},{id:"6",name:"Rafael Mendes",email:"rafael.mendes@email.com",xp:1480,completedLessons:12,pathName:"Blockchain e Web3",avatar:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&h=400&fit=crop&crop=face"},{id:"8",name:"Thiago Rocha",email:"thiago.rocha@email.com",xp:1320,completedLessons:11,pathName:"Blockchain e Web3",avatar:"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?w=400&h=400&fit=crop&crop=face"}]},"defi-protocols":{name:"Protocolos DeFi",entries:[{id:"3",name:"Maria Oliveira",email:"maria.oliveira@email.com",xp:1680,completedLessons:14,pathName:"Protocolos DeFi",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop&crop=face"},{id:"5",name:"Lucia Costa",email:"lucia.costa@email.com",xp:1520,completedLessons:13,pathName:"Protocolos DeFi",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400&h=400&fit=crop&crop=face"},{id:"7",name:"Fernanda Lima",email:"fernanda.lima@email.com",xp:1420,completedLessons:12,pathName:"Protocolos DeFi",avatar:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=400&h=400&fit=crop&crop=face"},{id:"2",name:"Carlos Santos",email:"carlos.santos@email.com",xp:1380,completedLessons:11,pathName:"Protocolos DeFi",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop&crop=face"},{id:"1",name:"Ana Silva",email:"ana.silva@email.com",xp:1280,completedLessons:10,pathName:"Protocolos DeFi",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400&h=400&fit=crop&crop=face"}]},"smart-contracts":{name:"Smart Contracts Avanados",entries:[{id:"6",name:"Rafael Mendes",email:"rafael.mendes@email.com",xp:980,completedLessons:8,pathName:"Smart Contracts Avanados",avatar:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&h=400&fit=crop&crop=face"},{id:"4",name:"Joo Pedro",email:"joao.pedro@email.com",xp:920,completedLessons:7,pathName:"Smart Contracts Avanados",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face"},{id:"8",name:"Thiago Rocha",email:"thiago.rocha@email.com",xp:860,completedLessons:7,pathName:"Smart Contracts Avanados",avatar:"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?w=400&h=400&fit=crop&crop=face"},{id:"3",name:"Maria Oliveira",email:"maria.oliveira@email.com",xp:820,completedLessons:6,pathName:"Smart Contracts Avanados",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop&crop=face"},{id:"7",name:"Fernanda Lima",email:"fernanda.lima@email.com",xp:780,completedLessons:6,pathName:"Smart Contracts Avanados",avatar:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=400&h=400&fit=crop&crop=face"}]}};function ST(t){switch(t){case 1:return i.jsx(qn,{className:"h-6 w-6 text-yellow-500"});case 2:return i.jsx(ay,{className:"h-6 w-6 text-gray-400"});case 3:return i.jsx(dr,{className:"h-6 w-6 text-amber-600"});default:return i.jsxs("div",{className:"h-6 w-6 flex items-center justify-center text-sm font-bold text-gray-500",children:["#",t]})}}function _T(t){switch(t){case 1:return"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white";case 2:return"bg-gradient-to-r from-gray-300 to-gray-500 text-white";case 3:return"bg-gradient-to-r from-amber-400 to-amber-600 text-white";default:return"bg-gray-100 text-gray-700"}}function qh({entries:t,title:e}){const{t:s}=yt();return i.jsxs(ie,{children:[i.jsx(Ne,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(qn,{className:"h-5 w-5 text-forge-orange"}),e]})}),i.jsx(ae,{className:"p-0",children:i.jsx("div",{className:"space-y-0",children:t.map((r,n)=>{const a=n+1;return i.jsxs("div",{className:`flex items-center justify-between p-4 border-b last:border-b-0 transition-colors hover:bg-gray-50 ${a<=3?"bg-gradient-to-r from-orange-50 to-transparent":""}`,children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(gs,{className:`${_T(a)} font-bold px-2 py-1`,children:["#",a]}),ST(a)]}),i.jsxs(qc,{className:"h-10 w-10",children:[i.jsx(Hc,{src:r.avatar,alt:r.name}),i.jsx(Kc,{className:"bg-forge-orange text-white",children:r.name.split(" ").map(o=>o[0]).join("").toUpperCase()})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:r.name}),i.jsx("p",{className:"text-sm text-gray-500",children:r.email})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-bold text-lg text-forge-orange",children:[r.xp.toLocaleString()," ",s("scoreboard.xp")]}),i.jsxs("div",{className:"text-sm text-gray-500",children:[r.completedLessons," ",s("scoreboard.lessons")]})]})]},r.id)})})})]})}function NT(){const{t}=yt(),[e,s]=b.useState("blockchain-web3");return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:t("scoreboard.title")}),i.jsx("p",{className:"text-gray-600",children:t("scoreboard.subtitle")})]}),i.jsxs(_x,{defaultValue:"global",className:"space-y-6",children:[i.jsxs(Xc,{className:"grid w-full grid-cols-2",children:[i.jsx(ds,{value:"global",children:t("scoreboard.global")}),i.jsx(ds,{value:"by-path",children:t("scoreboard.byPath")})]}),i.jsx(ya,{value:"global",className:"space-y-6",children:i.jsx(qh,{entries:jT,title:t("scoreboard.rankingGlobal")})}),i.jsxs(ya,{value:"by-path",className:"space-y-6",children:[i.jsx("div",{className:"flex gap-2 flex-wrap",children:Object.entries($o).map(([r,n])=>i.jsx("button",{onClick:()=>s(r),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e===r?"bg-forge-orange text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:n.name},r))}),i.jsx(qh,{entries:$o[e].entries,title:t("scoreboard.ranking",{pathName:$o[e].name})})]})]})]})}const Yi={community:{label:"achievements.categories.community",color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",icon:Sa},profile:{label:"achievements.categories.profile",color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",icon:Rt},learning:{label:"achievements.categories.learning",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",icon:Xt},social:{label:"achievements.categories.social",color:"text-pink-600",bgColor:"bg-pink-50",borderColor:"border-pink-200",icon:oy}};function $l({current:t,max:e}){const{t:s}=yt(),r=Math.round(t/e*100),n=r>=75?"bg-green-500":r>=50?"bg-blue-500":"bg-forge-orange",a=r>=75?"text-green-600":r>=50?"text-blue-600":"text-forge-orange";return i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:s("achievements.progress")}),i.jsxs("span",{className:T("font-semibold",a),children:[t,"/",e," ",i.jsxs("span",{className:"text-xs text-gray-500",children:["(",r,"%)"]})]})]}),i.jsx("div",{className:"relative h-2.5 w-full overflow-hidden rounded-full bg-gray-200",children:i.jsx("div",{className:T("h-full transition-all duration-500 ease-out rounded-full",n,r>=90&&"animate-pulse"),style:{width:`${r}%`}})})]})}const Nx=b.memo(({achievement:t,onActionClick:e,onHover:s,isSelected:r=!1})=>{const{t:n}=yt(),a=t.icon,o=Yi[t.category],l=o.icon,c=t.status==="completed",d=t.status==="locked",u=T("relative overflow-hidden transition-all duration-300 cursor-pointer","h-full flex flex-col","hover:shadow-lg hover:scale-[1.02]",r&&"ring-2 ring-forge-orange shadow-lg scale-[1.02]",c&&"border-green-300 bg-green-50/30",d&&"opacity-60 border-gray-200",!c&&!d&&"border-forge-cream");return i.jsxs(ie,{className:u,onMouseEnter:()=>s==null?void 0:s(t),onMouseLeave:()=>s==null?void 0:s(null),onClick:()=>s==null?void 0:s(t),children:[c&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx("div",{className:"relative",children:i.jsx(mm,{className:"h-6 w-6 text-green-600 animate-in zoom-in duration-300"})})}),d&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx(Jl,{className:"h-6 w-6 text-gray-400"})}),i.jsx(Ne,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:T(o.bgColor,"p-3.5 rounded-xl shadow-sm flex-shrink-0 transition-all duration-300",c&&"ring-2 ring-green-300",!d&&!c&&"ring-1 ring-gray-200 hover:ring-2 hover:ring-forge-orange/50"),children:i.jsx(a,{className:T("h-7 w-7",o.color)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(ke,{className:"text-xl font-semibold leading-tight mb-2 min-h-[28px]",children:t.title}),i.jsx(bt,{className:"text-sm leading-relaxed line-clamp-2 min-h-[40px]",children:t.description})]})]})}),i.jsxs(ae,{className:"flex-1 flex flex-col space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(gs,{variant:"outline",className:T(o.borderColor,o.color),children:[l&&i.jsx(l,{className:"h-3 w-3 mr-1"}),n(o.label)]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(dr,{className:"h-4 w-4 text-forge-orange"}),i.jsxs("span",{className:"font-bold text-forge-orange",children:[t.xpReward," XP"]})]})]}),t.progress!==void 0&&t.maxProgress&&i.jsx($l,{current:t.progress,max:t.maxProgress}),i.jsx("div",{className:"flex-1"}),i.jsxs("div",{className:"mt-auto space-y-2",children:[t.action&&!c&&!d&&i.jsx(Z,{className:"w-full bg-forge-orange hover:bg-forge-orange/90",onClick:()=>e(t),children:t.action.label}),c&&i.jsx("div",{className:"text-center text-sm font-medium text-green-700 bg-green-100 py-2 rounded-md",children:n("achievements.completedBadge")}),d&&i.jsx("div",{className:"text-center text-sm text-gray-500 bg-gray-100 py-2 rounded-md",children:n("achievements.locked")})]})]})]})});Nx.displayName="AchievementCard";function kT({selectedCategory:t,onCategoryChange:e,achievements:s,onAchievementAction:r,onAchievementHover:n,selectedAchievementId:a}){const{t:o}=yt();return i.jsxs(_x,{value:t,onValueChange:l=>e(l),className:"space-y-6",children:[i.jsxs(Xc,{className:"grid w-full grid-cols-5",children:[i.jsx(ds,{value:"all",children:o("achievements.all")}),i.jsx(ds,{value:"community",children:o("achievements.categories.community")}),i.jsx(ds,{value:"profile",children:o("achievements.categories.profile")}),i.jsx(ds,{value:"learning",children:o("achievements.categories.learning")}),i.jsx(ds,{value:"social",children:o("achievements.categories.social")})]}),i.jsx(ya,{value:t,className:"space-y-4",children:s.length===0?i.jsx(ie,{className:"border-dashed border-2 border-gray-300",children:i.jsxs(ae,{className:"flex flex-col items-center justify-center py-16 text-center",children:[i.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:i.jsx(Qr,{className:"w-8 h-8 text-gray-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o("achievements.emptyState.title")}),i.jsx("p",{className:"text-gray-600 max-w-md",children:t==="all"?o("achievements.emptyState.descriptionAll"):o("achievements.emptyState.descriptionCategory",{category:o(`achievements.categories.${t}`)})})]})}):i.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 auto-rows-fr",children:s.map(l=>i.jsx(Nx,{achievement:l,onActionClick:r,onHover:n,isSelected:l.id===a},l.id))})})]})}function CT({stats:t,selectedAchievement:e,suggestedAchievement:s,onActionClick:r}){const{t:n}=yt();if(e){const a=e.icon,o=Yi[e.category],l=o.icon,c=e.status==="completed",d=e.status==="locked";return i.jsxs("div",{className:"w-96 shrink-0 hidden lg:block sticky top-6 self-start space-y-4",children:[i.jsxs(ie,{className:T("border-2",c&&"border-green-300 bg-green-50/20",d&&"border-gray-200",!c&&!d&&"border-forge-orange/30"),children:[i.jsxs(Ne,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:T(o.bgColor,"p-4 rounded-xl shadow-sm",c&&"ring-2 ring-green-300",!d&&!c&&"ring-1 ring-gray-200"),children:i.jsx(a,{className:T("h-8 w-8",o.color)})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs(gs,{variant:"outline",className:T(o.borderColor,o.color,"mb-2"),children:[l&&i.jsx(l,{className:"h-3 w-3 mr-1"}),n(o.label)]}),c&&i.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[i.jsx(mm,{className:"h-4 w-4"}),i.jsx("span",{className:"text-xs font-medium",children:n("achievements.completedBadge")})]}),d&&i.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[i.jsx(Jl,{className:"h-4 w-4"}),i.jsx("span",{className:"text-xs font-medium",children:n("achievements.locked")})]})]})]}),i.jsx(ke,{className:"text-2xl leading-tight",children:e.title}),i.jsx(bt,{className:"text-sm leading-relaxed mt-2",children:e.description})]}),i.jsxs(ae,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg border border-orange-200",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:n("achievements.xpReward")}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(dr,{className:"h-5 w-5 text-forge-orange"}),i.jsxs("span",{className:"text-xl font-bold text-forge-orange",children:[e.xpReward," XP"]})]})]}),e.progress!==void 0&&e.maxProgress&&i.jsx("div",{children:i.jsx($l,{current:e.progress,max:e.maxProgress})}),e.action&&!c&&!d&&i.jsx(Z,{className:"w-full bg-forge-orange hover:bg-forge-orange/90",onClick:()=>r(e),children:e.action.label}),c&&i.jsxs("div",{className:"text-center text-sm font-medium text-green-700 bg-green-100 py-3 rounded-md",children:[" ",n("achievements.completedBadge")]}),d&&i.jsxs("div",{className:"text-center text-sm text-gray-500 bg-gray-100 py-3 rounded-md",children:[" ",n("achievements.locked")]})]})]}),i.jsxs(ie,{children:[i.jsx(Ne,{children:i.jsxs(ke,{className:"text-sm flex items-center gap-2",children:[i.jsx(Qr,{className:"h-4 w-4 text-forge-orange"}),n("achievements.sidebar.tips")]})}),i.jsxs(ae,{className:"text-xs text-gray-600 space-y-2",children:[i.jsxs("p",{children:[" ",n("achievements.sidebar.tip1")]}),i.jsxs("p",{children:[" ",n("achievements.sidebar.tip2")]}),i.jsxs("p",{children:[" ",n("achievements.sidebar.tip3")]})]})]})]})}return i.jsxs("div",{className:"w-96 shrink-0 hidden lg:block sticky top-6 self-start space-y-4",children:[i.jsxs(ie,{children:[i.jsx(Ne,{children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(Rt,{className:"h-5 w-5 text-forge-orange"}),n("achievements.sidebar.overview")]})}),i.jsxs(ae,{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1.5",children:[i.jsx("span",{className:"font-medium",children:n("achievements.overallProgress")}),i.jsxs("span",{className:"font-bold text-forge-orange",children:[t.completionPercentage,"%"]})]}),i.jsx("div",{className:"relative h-2 w-full overflow-hidden rounded-full bg-gray-200",children:i.jsx("div",{className:"h-full transition-all duration-500 ease-out rounded-full bg-forge-orange",style:{width:`${t.completionPercentage}%`}})})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:n("achievements.completed")}),i.jsxs("span",{className:"text-lg font-bold",children:[t.completed,i.jsxs("span",{className:"text-gray-400",children:["/",t.total]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:n("achievements.inProgress")}),i.jsx("span",{className:"text-lg font-bold text-blue-600",children:t.inProgress})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"XP"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(dr,{className:"h-4 w-4 text-forge-orange"}),i.jsx("span",{className:"text-sm font-bold text-forge-orange",children:t.totalXP})]}),i.jsxs("span",{className:"text-xs text-gray-400",children:["of ",t.totalXP+t.availableXP]})]})]})]})]}),s&&i.jsxs(ie,{className:"border-2 border-forge-orange/40 bg-orange-50/30",children:[i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Qr,{className:"h-5 w-5 text-forge-orange"}),i.jsx(ke,{className:"text-base",children:n("achievements.sidebar.nextSuggested")})]})}),i.jsxs(ae,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:T(Yi[s.category].bgColor,"p-2.5 rounded-lg"),children:i.jsx(s.icon,{className:T("h-5 w-5",Yi[s.category].color)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-semibold text-sm leading-tight mb-1",children:s.title}),i.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:s.description})]})]}),s.progress!==void 0&&s.maxProgress&&i.jsx($l,{current:s.progress,max:s.maxProgress}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(dr,{className:"h-4 w-4 text-forge-orange"}),i.jsxs("span",{className:"text-sm font-bold text-forge-orange",children:[s.xpReward," XP"]})]}),s.action&&i.jsx(Z,{size:"sm",className:"bg-forge-orange hover:bg-forge-orange/90",onClick:()=>r(s),children:s.action.label})]})]})]}),i.jsxs(ie,{className:"border-blue-200 bg-blue-50/30",children:[i.jsx(Ne,{children:i.jsxs(ke,{className:"text-sm flex items-center gap-2",children:[i.jsx(Qr,{className:"h-4 w-4 text-blue-600"}),t.completed===0?n("achievements.sidebar.gettingStarted"):n("achievements.sidebar.keepGoing")]})}),i.jsxs(ae,{className:"text-xs text-gray-700 space-y-2",children:[i.jsx("p",{className:"leading-relaxed",children:i.jsx("strong",{children:n("achievements.sidebar.hoverTip")})}),t.inProgress>0&&i.jsx("p",{className:"text-blue-700 font-medium",children:n("achievements.sidebar.inProgressMessage",{count:t.inProgress})}),t.completed===0&&i.jsx("p",{className:"text-forge-orange font-medium",children:n("achievements.sidebar.quickWinsTip")}),t.completionPercentage>=50&&t.completionPercentage<100&&i.jsx("p",{className:"text-green-700 font-medium",children:n("achievements.sidebar.halfwayThere",{remaining:t.total-t.completed})}),t.completionPercentage===100&&i.jsxs("p",{className:"text-green-700 font-medium",children:[" ",n("achievements.sidebar.allComplete")]})]})]})]})}const PT=t=>[{id:"telegram-join",title:t("achievements.tasks.telegramJoin.title"),description:t("achievements.tasks.telegramJoin.description"),xpReward:100,status:"in_progress",category:"community",icon:md,action:{label:t("achievements.tasks.telegramJoin.action"),url:"https://t.me/forgecollege",type:"external"}},{id:"discord-join",title:t("achievements.tasks.discordJoin.title"),description:t("achievements.tasks.discordJoin.description"),xpReward:100,status:"in_progress",category:"community",icon:Sa,action:{label:t("achievements.tasks.discordJoin.action"),url:"https://discord.gg/forgecollege",type:"external"}},{id:"first-message",title:t("achievements.tasks.firstMessage.title"),description:t("achievements.tasks.firstMessage.description"),xpReward:50,status:"locked",category:"community",icon:md},{id:"email-verify",title:t("achievements.tasks.emailVerify.title"),description:t("achievements.tasks.emailVerify.description"),xpReward:150,status:"completed",category:"profile",icon:Qf,action:{label:t("achievements.tasks.emailVerify.action")}},{id:"complete-profile",title:t("achievements.tasks.completeProfile.title"),description:t("achievements.tasks.completeProfile.description"),xpReward:200,status:"in_progress",category:"profile",progress:7,maxProgress:10,icon:Rt,action:{label:t("achievements.tasks.completeProfile.action"),url:"/dashboard/profile",type:"internal"}},{id:"github-connect",title:t("achievements.tasks.githubConnect.title"),description:t("achievements.tasks.githubConnect.description"),xpReward:100,status:"in_progress",category:"profile",icon:_a,action:{label:t("achievements.tasks.githubConnect.action")}},{id:"linkedin-connect",title:t("achievements.tasks.linkedinConnect.title"),description:t("achievements.tasks.linkedinConnect.description"),xpReward:100,status:"in_progress",category:"profile",icon:em,action:{label:t("achievements.tasks.linkedinConnect.action")}},{id:"twitter-follow",title:t("achievements.tasks.twitterFollow.title"),description:t("achievements.tasks.twitterFollow.description"),xpReward:75,status:"in_progress",category:"social",icon:ly,action:{label:t("achievements.tasks.twitterFollow.action"),url:"https://twitter.com/forgecollege",type:"external"}},{id:"share-progress",title:t("achievements.tasks.shareProgress.title"),description:t("achievements.tasks.shareProgress.description"),xpReward:150,status:"locked",category:"social",icon:Qr},{id:"first-lesson",title:t("achievements.tasks.firstLesson.title"),description:t("achievements.tasks.firstLesson.description"),xpReward:50,status:"completed",category:"learning",icon:Xt},{id:"week-streak",title:t("achievements.tasks.weekStreak.title"),description:t("achievements.tasks.weekStreak.description"),xpReward:300,status:"in_progress",category:"learning",progress:4,maxProgress:7,icon:Wf},{id:"complete-path",title:t("achievements.tasks.completePath.title"),description:t("achievements.tasks.completePath.description"),xpReward:500,status:"in_progress",category:"learning",progress:12,maxProgress:28,icon:cy},{id:"perfect-quiz",title:t("achievements.tasks.perfectQuiz.title"),description:t("achievements.tasks.perfectQuiz.description"),xpReward:200,status:"locked",category:"learning",icon:Rt}];function TT(t,e){let s=t;if(e.category!=="all"&&(s=s.filter(r=>r.category===e.category)),e.status&&e.status.length>0&&(s=s.filter(r=>e.status.includes(r.status))),e.searchQuery&&e.searchQuery.trim()){const r=e.searchQuery.toLowerCase();s=s.filter(n=>n.title.toLowerCase().includes(r)||n.description.toLowerCase().includes(r))}if(e.sortBy==="xp")s=s.sort((r,n)=>n.xpReward-r.xpReward);else if(e.sortBy==="progress")s=s.sort((r,n)=>{const a=r.progress&&r.maxProgress?r.progress/r.maxProgress:0;return(n.progress&&n.maxProgress?n.progress/n.maxProgress:0)-a});else if(e.sortBy==="status"){const r={in_progress:1,locked:2,completed:3};s=s.sort((n,a)=>r[n.status]-r[a.status])}return s}function Hh(t){const{t:e}=yt(),s=b.useMemo(()=>PT(e),[e]);return{achievements:b.useMemo(()=>t?TT(s,t):s,[s,t]),isLoading:!1,error:null}}function AT(t){return b.useMemo(()=>{const e=t.filter(l=>l.status==="completed"),s=t.filter(l=>l.status==="in_progress"),r=t.filter(l=>l.status==="locked"),n=e.reduce((l,c)=>l+c.xpReward,0),a=t.filter(l=>l.status!=="completed").reduce((l,c)=>l+c.xpReward,0),o=t.length>0?Math.round(e.length/t.length*100):0;return{total:t.length,completed:e.length,inProgress:s.length,locked:r.length,totalXP:n,availableXP:a,completionPercentage:o}},[t])}function ET(){const t=Hn();return{handleAchievementAction:b.useCallback(s=>{if(!s.action)return;const{url:r,type:n,handler:a}=s.action;if(a){a();return}r&&(n==="external"||r.startsWith("http")?window.open(r,"_blank","noopener,noreferrer"):t(r))},[t])}}function RT(){const[t,e]=b.useState({category:"all",sortBy:"status"}),s=b.useCallback(a=>{e(o=>({...o,category:a}))},[]),r=b.useCallback(a=>{e(o=>({...o,searchQuery:a}))},[]),n=b.useCallback(()=>{e({category:"all",sortBy:"status"})},[]);return{filters:t,setCategory:s,setSearchQuery:r,resetFilters:n}}function OT(){const{t}=yt(),{filters:e,setCategory:s}=RT(),{achievements:r}=Hh(e),n=AT(r),{handleAchievementAction:a}=ET(),[o,l]=b.useState(null),{achievements:c}=Hh(),d=b.useMemo(()=>{const u=c.filter(f=>f.status==="in_progress").sort((f,m)=>{const p=f.progress&&f.maxProgress?f.progress/f.maxProgress:0;return(m.progress&&m.maxProgress?m.progress/m.maxProgress:0)-p});return e.category==="all"?null:u.find(f=>f.category!==e.category)||null},[c,e.category]);return i.jsxs("div",{className:"flex gap-6 max-w-[1800px] mx-auto",children:[i.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:t("achievements.title")}),i.jsx("p",{className:"text-gray-600",children:t("achievements.subtitle")})]}),i.jsx(kT,{selectedCategory:e.category,onCategoryChange:s,achievements:r,onAchievementAction:a,onAchievementHover:l,selectedAchievementId:o==null?void 0:o.id})]}),i.jsx(CT,{stats:n,selectedAchievement:o,suggestedAchievement:d,onActionClick:a})]})}const IT=()=>{try{return i.jsxs(sp,{children:[i.jsx(Sj,{}),i.jsx(t1,{}),i.jsx(I2,{children:i.jsx(Mw,{children:i.jsxs(dy,{children:[i.jsx(ge,{path:uC,element:i.jsx(Xl,{to:ft,replace:!0})}),i.jsxs(ge,{element:i.jsx(u2,{}),children:[i.jsx(ge,{path:mC,element:i.jsx(iC,{})}),i.jsx(ge,{path:hC,element:i.jsx(aC,{})}),i.jsx(ge,{path:fC,element:i.jsx(oC,{})})]}),i.jsx(ge,{path:Ug,element:i.jsx(bC,{})}),i.jsx(ge,{path:pC,element:i.jsx(yC,{})}),i.jsx(ge,{path:gC,element:i.jsx(vC,{})}),i.jsx(ge,{path:xC,element:i.jsx(XC,{})}),i.jsx(ge,{path:"/login-oauth",element:i.jsx(C2,{})}),i.jsx(ge,{path:"/auth/callback",element:i.jsx(P2,{})}),i.jsx(ge,{path:"/test",element:i.jsx(T2,{})}),i.jsx(ge,{path:"/ssr-check",element:i.jsx(A2,{})}),i.jsx(ge,{path:"/bare",element:i.jsx(E2,{})}),i.jsx(ge,{path:"/static-bare",element:i.jsx(R2,{})}),i.jsx(ge,{path:"/ssr-canary",element:i.jsx(O2,{})}),i.jsxs(ge,{path:ft,element:i.jsx(N2,{children:i.jsx(YC,{})}),children:[i.jsx(ge,{index:!0,element:i.jsx(g2,{})}),i.jsx(ge,{path:"explore",element:i.jsx(dx,{})}),i.jsx(ge,{path:"profile",element:i.jsx(_2,{})}),i.jsx(ge,{path:"scoreboard",element:i.jsx(NT,{})}),i.jsx(ge,{path:"achievements",element:i.jsx(OT,{})}),i.jsx(ge,{path:"learn/course/:courseId",element:i.jsx(o2,{})}),i.jsx(ge,{path:"learn/path/:pathId",element:i.jsx(l2,{})}),i.jsxs(ge,{path:"admin",element:i.jsx(k2,{children:i.jsx(M2,{})}),children:[i.jsx(ge,{index:!0,element:i.jsx($2,{})}),i.jsx(ge,{path:"paths",element:i.jsx(hT,{})}),i.jsx(ge,{path:"courses",element:i.jsx(pT,{})}),i.jsx(ge,{path:"modules",element:i.jsx(bT,{})}),i.jsx(ge,{path:"lessons",element:i.jsx(wT,{})})]})]}),i.jsx(ge,{path:"*",element:i.jsx(lC,{})})]})})})]})}catch(t){return console.error("App SSR error:",t),i.jsxs("div",{style:{padding:"2rem",textAlign:"center",fontFamily:"system-ui, sans-serif"},children:[i.jsx("h1",{children:"SSR Error"}),i.jsxs("p",{children:["Erro no App principal: ",t instanceof Error?t.message:"Erro desconhecido"]}),i.jsx("pre",{style:{backgroundColor:"#f5f5f5",padding:"1rem",borderRadius:"4px",textAlign:"left"},children:t instanceof Error?t.stack:String(t)})]})}},kx="2.34.0";let Kr={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:s})=>e?`${t??"https://viem.sh"}${e}${s?`#${s}`:""}`:void 0,version:`viem@${kx}`},It=class Fl extends Error{constructor(e,s={}){var l;const r=(()=>{var c;return s.cause instanceof Fl?s.cause.details:(c=s.cause)!=null&&c.message?s.cause.message:s.details})(),n=s.cause instanceof Fl&&s.cause.docsPath||s.docsPath,a=(l=Kr.getDocsUrl)==null?void 0:l.call(Kr,{...s,docsPath:n}),o=[e||"An error occurred.","",...s.metaMessages?[...s.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...Kr.version?[`Version: ${Kr.version}`]:[]].join(`
`);super(o,s.cause?{cause:s.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=n,this.metaMessages=s.metaMessages,this.name=s.name??this.name,this.shortMessage=e,this.version=kx}walk(e){return Cx(this,e)}};function Cx(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Cx(t.cause,e):e?null:t}class LT extends It{constructor({max:e,min:s,signed:r,size:n,value:a}){super(`Number "${a}" is not in safe ${n?`${n*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${s} to ${e})`:`(above ${s})`}`,{name:"IntegerOutOfRangeError"})}}class MT extends It{constructor({givenSize:e,maxSize:s}){super(`Size cannot exceed ${s} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}class Px extends It{constructor({size:e,targetSize:s,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${s}).`,{name:"SizeExceedsPaddingSizeError"})}}function mi(t,{dir:e,size:s=32}={}){return typeof t=="string"?DT(t,{dir:e,size:s}):$T(t,{dir:e,size:s})}function DT(t,{dir:e,size:s=32}={}){if(s===null)return t;const r=t.replace("0x","");if(r.length>s*2)throw new Px({size:Math.ceil(r.length/2),targetSize:s,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](s*2,"0")}`}function $T(t,{dir:e,size:s=32}={}){if(s===null)return t;if(t.length>s)throw new Px({size:t.length,targetSize:s,type:"bytes"});const r=new Uint8Array(s);for(let n=0;n<s;n++){const a=e==="right";r[a?n:s-n-1]=t[a?n:t.length-n-1]}return r}function Qc(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Kh(t){return Qc(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const FT=new TextEncoder;function VT(t,e={}){return typeof t=="number"||typeof t=="bigint"?UT(t,e):typeof t=="boolean"?BT(t,e):Qc(t)?Tx(t,e):Ax(t,e)}function BT(t,e={}){const s=new Uint8Array(1);return s[0]=Number(t),typeof e.size=="number"?(Xa(s,{size:e.size}),mi(s,{size:e.size})):s}const zt={zero:48,nine:57,A:65,F:70,a:97,f:102};function Gh(t){if(t>=zt.zero&&t<=zt.nine)return t-zt.zero;if(t>=zt.A&&t<=zt.F)return t-(zt.A-10);if(t>=zt.a&&t<=zt.f)return t-(zt.a-10)}function Tx(t,e={}){let s=t;e.size&&(Xa(s,{size:e.size}),s=mi(s,{dir:"right",size:e.size}));let r=s.slice(2);r.length%2&&(r=`0${r}`);const n=r.length/2,a=new Uint8Array(n);for(let o=0,l=0;o<n;o++){const c=Gh(r.charCodeAt(l++)),d=Gh(r.charCodeAt(l++));if(c===void 0||d===void 0)throw new It(`Invalid byte sequence ("${r[l-2]}${r[l-1]}" in "${r}").`);a[o]=c*16+d}return a}function UT(t,e){const s=Vl(t,e);return Tx(s)}function Ax(t,e={}){const s=FT.encode(t);return typeof e.size=="number"?(Xa(s,{size:e.size}),mi(s,{dir:"right",size:e.size})):s}function Xa(t,{size:e}){if(Kh(t)>e)throw new MT({givenSize:Kh(t),maxSize:e})}const zT=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function WT(t,e={}){let s="";for(let n=0;n<t.length;n++)s+=zT[t[n]];const r=`0x${s}`;return typeof e.size=="number"?(Xa(r,{size:e.size}),mi(r,{dir:"right",size:e.size})):r}function Vl(t,e={}){const{signed:s,size:r}=e,n=BigInt(t);let a;r?s?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&s?-a-1n:0;if(a&&n>a||n<o){const c=typeof t=="bigint"?"n":"";throw new LT({max:a?`${a}${c}`:void 0,min:`${o}${c}`,signed:s,size:r,value:`${t}${c}`})}const l=`0x${(s&&n<0?(1n<<BigInt(r*8))+BigInt(n):n).toString(16)}`;return r?mi(l,{size:r}):l}const qT=new TextEncoder;function HT(t,e={}){const s=qT.encode(t);return WT(s,e)}class KT extends It{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class ed extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const s=super.get(e);return super.has(e)&&s!==void 0&&(this.delete(e),super.set(e,s)),s}set(e,s){if(super.set(e,s),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Ei=BigInt(2**32-1),Jh=BigInt(32);function GT(t,e=!1){return e?{h:Number(t&Ei),l:Number(t>>Jh&Ei)}:{h:Number(t>>Jh&Ei)|0,l:Number(t&Ei)|0}}function JT(t,e=!1){const s=t.length;let r=new Uint32Array(s),n=new Uint32Array(s);for(let a=0;a<s;a++){const{h:o,l}=GT(t[a],e);[r[a],n[a]]=[o,l]}return[r,n]}const ZT=(t,e,s)=>t<<s|e>>>32-s,YT=(t,e,s)=>e<<s|t>>>32-s,XT=(t,e,s)=>e<<s-32|t>>>64-s,QT=(t,e,s)=>t<<s-32|e>>>64-s;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function eA(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Zh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function va(t,...e){if(!eA(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Yh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function tA(t,e){va(t);const s=e.outputLen;if(t.length<s)throw new Error("digestInto() expects output buffer of length at least "+s)}function sA(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ex(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const rA=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function nA(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function iA(t){for(let e=0;e<t.length;e++)t[e]=nA(t[e]);return t}const Xh=rA?t=>t:iA;function aA(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Rx(t){return typeof t=="string"&&(t=aA(t)),va(t),t}class oA{}function lA(t){const e=r=>t().update(Rx(r)).digest(),s=t();return e.outputLen=s.outputLen,e.blockLen=s.blockLen,e.create=()=>t(),e}const cA=BigInt(0),Gr=BigInt(1),dA=BigInt(2),uA=BigInt(7),hA=BigInt(256),fA=BigInt(113),Ox=[],Ix=[],Lx=[];for(let t=0,e=Gr,s=1,r=0;t<24;t++){[s,r]=[r,(2*s+3*r)%5],Ox.push(2*(5*r+s)),Ix.push((t+1)*(t+2)/2%64);let n=cA;for(let a=0;a<7;a++)e=(e<<Gr^(e>>uA)*fA)%hA,e&dA&&(n^=Gr<<(Gr<<BigInt(a))-Gr);Lx.push(n)}const Mx=JT(Lx,!0),mA=Mx[0],pA=Mx[1],Qh=(t,e,s)=>s>32?XT(t,e,s):ZT(t,e,s),ef=(t,e,s)=>s>32?QT(t,e,s):YT(t,e,s);function gA(t,e=24){const s=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)s[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const l=(o+8)%10,c=(o+2)%10,d=s[c],u=s[c+1],h=Qh(d,u,1)^s[l],f=ef(d,u,1)^s[l+1];for(let m=0;m<50;m+=10)t[o+m]^=h,t[o+m+1]^=f}let n=t[2],a=t[3];for(let o=0;o<24;o++){const l=Ix[o],c=Qh(n,a,l),d=ef(n,a,l),u=Ox[o];n=t[u],a=t[u+1],t[u]=c,t[u+1]=d}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)s[l]=t[o+l];for(let l=0;l<10;l++)t[o+l]^=~s[(l+2)%10]&s[(l+4)%10]}t[0]^=mA[r],t[1]^=pA[r]}Ex(s)}class td extends oA{constructor(e,s,r,n=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=s,this.outputLen=r,this.enableXOF=n,this.rounds=a,Zh(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=sA(this.state)}clone(){return this._cloneInto()}keccak(){Xh(this.state32),gA(this.state32,this.rounds),Xh(this.state32),this.posOut=0,this.pos=0}update(e){Yh(this),e=Rx(e),va(e);const{blockLen:s,state:r}=this,n=e.length;for(let a=0;a<n;){const o=Math.min(s-this.pos,n-a);for(let l=0;l<o;l++)r[this.pos++]^=e[a++];this.pos===s&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:s,pos:r,blockLen:n}=this;e[r]^=s,s&128&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){Yh(this,!1),va(e),this.finish();const s=this.state,{blockLen:r}=this;for(let n=0,a=e.length;n<a;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,a-n);e.set(s.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Zh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(tA(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ex(this.state)}_cloneInto(e){const{blockLen:s,suffix:r,outputLen:n,rounds:a,enableXOF:o}=this;return e||(e=new td(s,r,n,o,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}const xA=(t,e,s)=>lA(()=>new td(e,t,s)),bA=xA(1,136,256/8);function yA(t,e){return bA(Qc(t,{strict:!1})?VT(t):t)}const Fo=new ed(8192);function Dx(t,e){if(Fo.has(`${t}.${e}`))return Fo.get(`${t}.${e}`);const s=t.substring(2).toLowerCase(),r=yA(Ax(s)),n=s.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&n[o]&&(n[o]=n[o].toUpperCase()),(r[o>>1]&15)>=8&&n[o+1]&&(n[o+1]=n[o+1].toUpperCase());const a=`0x${n.join("")}`;return Fo.set(`${t}.${e}`,a),a}function Ri(t,e){if(!wA(t,{strict:!1}))throw new KT({address:t});return Dx(t,e)}const vA=/^0x[a-fA-F0-9]{40}$/,Vo=new ed(8192);function wA(t,e){const{strict:s=!0}=e??{},r=`${t}.${s}`;if(Vo.has(r))return Vo.get(r);const n=vA.test(t)?t.toLowerCase()===t?!0:s?Dx(t)===t:!0:!1;return Vo.set(r,n),n}function jA(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Ls=(t,e,s)=>JSON.stringify(t,(r,n)=>typeof n=="bigint"?n.toString():n,s),sd=t=>t;class fn extends It{constructor({body:e,cause:s,details:r,headers:n,status:a,url:o}){super("HTTP request failed.",{cause:s,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${sd(o)}`,e&&`Request body: ${Ls(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=n,this.status=a,this.url=o}}class $x extends It{constructor({body:e,error:s,url:r}){super("RPC Request failed.",{cause:s,details:s.message,metaMessages:[`URL: ${sd(r)}`,`Request body: ${Ls(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=s.code,this.data=s.data}}class tf extends It{constructor({body:e,url:s}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${sd(s)}`,`Request body: ${Ls(e)}`],name:"TimeoutError"})}}const SA=-1;class st extends It{constructor(e,{code:s,docsPath:r,metaMessages:n,name:a,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:n||(e==null?void 0:e.metaMessages),name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof $x?e.code:s??SA}}class ot extends st{constructor(e,s){super(e,s),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s.data}}class Nn extends st{constructor(e){super(e,{code:Nn.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class kn extends st{constructor(e){super(e,{code:kn.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Cn extends st{constructor(e,{method:s}={}){super(e,{code:Cn.code,name:"MethodNotFoundRpcError",shortMessage:`The method${s?` "${s}"`:""} does not exist / is not available.`})}}Object.defineProperty(Cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Pn extends st{constructor(e){super(e,{code:Pn.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Nr extends st{constructor(e){super(e,{code:Nr.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Nr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Tn extends st{constructor(e){super(e,{code:Tn.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class An extends st{constructor(e){super(e,{code:An.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(An,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class hs extends st{constructor(e){super(e,{code:hs.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(hs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class En extends st{constructor(e){super(e,{code:En.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(En,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Rs extends st{constructor(e,{method:s}={}){super(e,{code:Rs.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${s?` "${s}"`:""} is not supported.`})}}Object.defineProperty(Rs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class kr extends st{constructor(e){super(e,{code:kr.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(kr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Rn extends st{constructor(e){super(e,{code:Rn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class qe extends ot{constructor(e){super(e,{code:qe.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(qe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class On extends ot{constructor(e){super(e,{code:On.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(On,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class In extends ot{constructor(e,{method:s}={}){super(e,{code:In.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${s?` " ${s}"`:""}.`})}}Object.defineProperty(In,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Ln extends ot{constructor(e){super(e,{code:Ln.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Mn extends ot{constructor(e){super(e,{code:Mn.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Fs extends ot{constructor(e){super(e,{code:Fs.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Fs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Dn extends ot{constructor(e){super(e,{code:Dn.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class $n extends ot{constructor(e){super(e,{code:$n.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty($n,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Fn extends ot{constructor(e){super(e,{code:Fn.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Vn extends ot{constructor(e){super(e,{code:Vn.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Bn extends ot{constructor(e){super(e,{code:Bn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Un extends ot{constructor(e){super(e,{code:Un.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Un,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class zn extends ot{constructor(e){super(e,{code:zn.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(zn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class _A extends st{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function NA(){let t=()=>{},e=()=>{};return{promise:new Promise((r,n)=>{t=r,e=n}),resolve:t,reject:e}}const Bo=new Map;function kA({fn:t,id:e,shouldSplitBatch:s,wait:r=0,sort:n}){const a=async()=>{const u=c();o();const h=u.map(({args:f})=>f);h.length!==0&&t(h).then(f=>{n&&Array.isArray(f)&&f.sort(n);for(let m=0;m<u.length;m++){const{resolve:p}=u[m];p==null||p([f[m],f])}}).catch(f=>{for(let m=0;m<u.length;m++){const{reject:p}=u[m];p==null||p(f)}})},o=()=>Bo.delete(e),l=()=>c().map(({args:u})=>u),c=()=>Bo.get(e)||[],d=u=>Bo.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:f,reject:m}=NA();return(s==null?void 0:s([...l(),u]))&&a(),c().length>0?(d({args:u,resolve:f,reject:m}),h):(d({args:u,resolve:f,reject:m}),setTimeout(a,r),h)}}}const Oi=new ed(8192);function CA(t,{enabled:e=!0,id:s}){if(!e||!s)return t();if(Oi.get(s))return Oi.get(s);const r=t().finally(()=>Oi.delete(s));return Oi.set(s,r),r}async function PA(t){return new Promise(e=>setTimeout(e,t))}function Fx(t,{delay:e=100,retryCount:s=2,shouldRetry:r=()=>!0}={}){return new Promise((n,a)=>{const o=async({count:l=0}={})=>{const c=async({error:d})=>{const u=typeof e=="function"?e({count:l,error:d}):e;u&&await PA(u),o({count:l+1})};try{const d=await t();n(d)}catch(d){if(l<s&&await r({count:l,error:d}))return c({error:d});a(d)}};o()})}function TA(t,e={}){return async(s,r={})=>{var h;const{dedupe:n=!1,methods:a,retryDelay:o=150,retryCount:l=3,uid:c}={...e,...r},{method:d}=s;if((h=a==null?void 0:a.exclude)!=null&&h.includes(d))throw new Rs(new Error("method not supported"),{method:d});if(a!=null&&a.include&&!a.include.includes(d))throw new Rs(new Error("method not supported"),{method:d});const u=n?HT(`${c}.${Ls(s)}`):void 0;return CA(()=>Fx(async()=>{try{return await t(s)}catch(f){const m=f;switch(m.code){case Nn.code:throw new Nn(m);case kn.code:throw new kn(m);case Cn.code:throw new Cn(m,{method:s.method});case Pn.code:throw new Pn(m);case Nr.code:throw new Nr(m);case Tn.code:throw new Tn(m);case An.code:throw new An(m);case hs.code:throw new hs(m);case En.code:throw new En(m);case Rs.code:throw new Rs(m,{method:s.method});case kr.code:throw new kr(m);case Rn.code:throw new Rn(m);case qe.code:throw new qe(m);case On.code:throw new On(m);case In.code:throw new In(m);case Ln.code:throw new Ln(m);case Mn.code:throw new Mn(m);case Fs.code:throw new Fs(m);case Dn.code:throw new Dn(m);case $n.code:throw new $n(m);case Fn.code:throw new Fn(m);case Vn.code:throw new Vn(m);case Bn.code:throw new Bn(m);case Un.code:throw new Un(m);case zn.code:throw new zn(m);case 5e3:throw new qe(m);default:throw f instanceof It?f:new _A(m)}}},{delay:({count:f,error:m})=>{var p;if(m&&m instanceof fn){const x=(p=m==null?void 0:m.headers)==null?void 0:p.get("Retry-After");if(x!=null&&x.match(/\d/))return Number.parseInt(x)*1e3}return~~(1<<f)*o},retryCount:l,shouldRetry:({error:f})=>AA(f)}),{enabled:n,id:u})}}function AA(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===kr.code||t.code===Nr.code:t instanceof fn&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Vx(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function Bx(t,{errorInstance:e=new Error("timed out"),timeout:s,signal:r}){return new Promise((n,a)=>{(async()=>{let o;try{const l=new AbortController;s>0&&(o=setTimeout(()=>{r?l.abort():a(e)},s)),n(await t({signal:(l==null?void 0:l.signal)||null}))}catch(l){(l==null?void 0:l.name)==="AbortError"&&a(e),a(l)}finally{clearTimeout(o)}})()})}function EA(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const sf=EA();function RA(t,e={}){return{async request(s){var h;const{body:r,onRequest:n=e.onRequest,onResponse:a=e.onResponse,timeout:o=e.timeout??1e4}=s,l={...e.fetchOptions??{},...s.fetchOptions??{}},{headers:c,method:d,signal:u}=l;try{const f=await Bx(async({signal:p})=>{const x={...l,body:Array.isArray(r)?Ls(r.map(w=>({jsonrpc:"2.0",id:w.id??sf.take(),...w}))):Ls({jsonrpc:"2.0",id:r.id??sf.take(),...r}),headers:{"Content-Type":"application/json",...c},method:d||"POST",signal:u||(o>0?p:null)},g=new Request(t,x),v=await(n==null?void 0:n(g,x))??{...x,url:t};return await fetch(v.url??t,v)},{errorInstance:new tf({body:r,url:t}),timeout:o,signal:!0});a&&await a(f);let m;if((h=f.headers.get("Content-Type"))!=null&&h.startsWith("application/json"))m=await f.json();else{m=await f.text();try{m=JSON.parse(m||"{}")}catch(p){if(f.ok)throw p;m={error:m}}}if(!f.ok)throw new fn({body:r,details:Ls(m.error)||f.statusText,headers:f.headers,status:f.status,url:t});return m}catch(f){throw f instanceof fn||f instanceof tf?f:new fn({body:r,cause:f,url:t})}}}}const Xi="2.19.0",OA=()=>`@wagmi/core@${Xi}`;var Ux=function(t,e,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(t):r?r.value:e.get(t)},wa,zx;class Wn extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return OA()}constructor(e,s={}){var a;super(),wa.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=s.cause instanceof Wn?s.cause.details:(a=s.cause)!=null&&a.message?s.cause.message:s.details,n=s.cause instanceof Wn&&s.cause.docsPath||s.docsPath;this.message=[e||"An error occurred.","",...s.metaMessages?[...s.metaMessages,""]:[],...n?[`Docs: ${this.docsBaseUrl}${n}.html${s.docsSlug?`#${s.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),s.cause&&(this.cause=s.cause),this.details=r,this.docsPath=n,this.metaMessages=s.metaMessages,this.shortMessage=e}walk(e){return Ux(this,wa,"m",zx).call(this,this,e)}}wa=new WeakSet,zx=function t(e,s){return s!=null&&s(e)?e:e.cause?Ux(this,wa,"m",t).call(this,e.cause,s):e};class Bl extends Wn{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}const Ul=256;let Ii=Ul,Li;function Wx(t=11){if(!Li||Ii+t>Ul*2){Li="",Ii=0;for(let e=0;e<Ul;e++)Li+=(256+Math.random()*256|0).toString(16).substring(1)}return Li.substring(Ii,Ii+++t)}function IA(t){const{batch:e,chain:s,ccipRead:r,key:n="base",name:a="Base Client",type:o="base"}=t,l=t.experimental_blockTag??(typeof(s==null?void 0:s.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(s==null?void 0:s.blockTime)??12e3,d=Math.min(Math.max(Math.floor(c/2),500),4e3),u=t.pollingInterval??d,h=t.cacheTime??u,f=t.account?jA(t.account):void 0,{config:m,request:p,value:x}=t.transport({chain:s,pollingInterval:u}),g={...m,...x},v={account:f,batch:e,cacheTime:h,ccipRead:r,chain:s,key:n,name:a,pollingInterval:u,request:p,transport:g,type:o,uid:Wx(),...l?{experimental_blockTag:l}:{}};function j(w){return S=>{const y=S(w);for(const _ in v)delete y[_];const N={...w,...y};return Object.assign(N,{extend:j(N)})}}return Object.assign(v,{extend:j(v)})}function LA({key:t,methods:e,name:s,request:r,retryCount:n=3,retryDelay:a=150,timeout:o,type:l},c){const d=Wx();return{config:{key:t,methods:e,name:s,request:r,retryCount:n,retryDelay:a,timeout:o,type:l},request:TA(r,{methods:e,retryCount:n,retryDelay:a,uid:d}),value:c}}class MA extends It{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function rf(t,e={}){const{batch:s,fetchOptions:r,key:n="http",methods:a,name:o="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:d,raw:u}=e;return({chain:h,retryCount:f,timeout:m})=>{const{batchSize:p=1e3,wait:x=0}=typeof s=="object"?s:{},g=e.retryCount??f,v=m??e.timeout??1e4,j=h==null?void 0:h.rpcUrls.default.http[0];if(!j)throw new MA;const w=RA(j,{fetchOptions:r,onRequest:l,onResponse:c,timeout:v});return LA({key:n,methods:a,name:o,async request({method:S,params:y}){const N={method:S,params:y},{schedule:_}=kA({id:j,wait:x,shouldSplitBatch(E){return E.length>p},fn:E=>w.request({body:E}),sort:(E,$)=>E.id-$.id}),A=async E=>s?_(E):[await w.request({body:E})],[{error:O,result:C}]=await A(N);if(u)return{error:O,result:C};if(O)throw new $x({body:N,error:O,url:j});return C},retryCount:g,retryDelay:d,timeout:v,type:"http"},{fetchOptions:r,url:j})}}let Uo=!1;async function DA(t,e={}){var d,u;if(Uo)return[];Uo=!0,t.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const s=[];if((d=e.connectors)!=null&&d.length)for(const h of e.connectors){let f;typeof h=="function"?f=t._internal.connectors.setup(h):f=h,s.push(f)}else s.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const n={};for(const[,h]of t.state.connections)n[h.connector.id]=1;r&&(n[r]=0);const a=Object.keys(n).length>0?[...s].sort((h,f)=>(n[h.id]??10)-(n[f.id]??10)):s;let o=!1;const l=[],c=[];for(const h of a){const f=await h.getProvider().catch(()=>{});if(!f||c.some(x=>x===f)||!await h.isAuthorized())continue;const p=await h.connect({isReconnecting:!0}).catch(()=>null);p&&(h.emitter.off("connect",t._internal.events.connect),h.emitter.on("change",t._internal.events.change),h.emitter.on("disconnect",t._internal.events.disconnect),t.setState(x=>{const g=new Map(o?x.connections:new Map).set(h.uid,{accounts:p.accounts,chainId:p.chainId,connector:h});return{...x,current:o?x.current:h.uid,connections:g}}),l.push({accounts:p.accounts,chainId:p.chainId,connector:h}),c.push(f),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(h=>({...h,status:"connected"})):t.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),Uo=!1,l}class Qs extends Wn{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}rd.type="injected";function rd(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:s}=t;function r(){const c=t.target;if(typeof c=="function"){const d=c();if(d)return d}return typeof c=="object"?c:typeof c=="string"?{...$A[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(d){return d==null?void 0:d.ethereum}}}let n,a,o,l;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:rd.type,async setup(){const d=await this.getProvider();d!=null&&d.on&&t.target&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),n||(n=this.onAccountsChanged.bind(this),d.on("accountsChanged",n)))},async connect({chainId:d,isReconnecting:u}={}){var m,p,x,g,v,j;const h=await this.getProvider();if(!h)throw new Qs;let f=[];if(u)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(g=(x=(p=(m=(await h.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:m.caveats)==null?void 0:p[0])==null?void 0:x.value)==null?void 0:g.map(S=>Ri(S)),f.length>0&&(f=await this.getAccounts())}catch(w){const S=w;if(S.code===qe.code)throw new qe(S);if(S.code===hs.code)throw S}try{!(f!=null&&f.length)&&!u&&(f=(await h.request({method:"eth_requestAccounts"})).map(y=>Ri(y))),o&&(h.removeListener("connect",o),o=void 0),n||(n=this.onAccountsChanged.bind(this),h.on("accountsChanged",n)),a||(a=this.onChainChanged.bind(this),h.on("chainChanged",a)),l||(l=this.onDisconnect.bind(this),h.on("disconnect",l));let w=await this.getChainId();if(d&&w!==d){const S=await this.switchChain({chainId:d}).catch(y=>{if(y.code===qe.code)throw y;return{id:w}});w=(S==null?void 0:S.id)??w}return e&&await((v=c.storage)==null?void 0:v.removeItem(`${this.id}.disconnected`)),t.target||await((j=c.storage)==null?void 0:j.setItem("injected.connected",!0)),{accounts:f,chainId:w}}catch(w){const S=w;throw S.code===qe.code?new qe(S):S.code===hs.code?new hs(S):S}},async disconnect(){var u,h;const d=await this.getProvider();if(!d)throw new Qs;a&&(d.removeListener("chainChanged",a),a=void 0),l&&(d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d.on("connect",o));try{await Bx(()=>d.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((h=c.storage)==null?void 0:h.removeItem("injected.connected"))},async getAccounts(){const d=await this.getProvider();if(!d)throw new Qs;return(await d.request({method:"eth_accounts"})).map(h=>Ri(h))},async getChainId(){const d=await this.getProvider();if(!d)throw new Qs;const u=await d.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let d;const u=r();return typeof u.provider=="function"?d=u.provider(window):typeof u.provider=="string"?d=Qi(window,u.provider):d=u.provider,d&&!d.removeListener&&("off"in d&&typeof d.off=="function"?d.removeListener=d.off:d.removeListener=()=>{}),d},async isAuthorized(){var d,u;try{if(e&&await((d=c.storage)==null?void 0:d.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(s!==void 0&&s!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),x=typeof s=="number"?s:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(v=>window.addEventListener("ethereum#initialized",()=>v(p()),{once:!0}))]:[],new Promise(v=>setTimeout(()=>v(p()),x))]))return!0}throw new Qs}return!!(await Fx(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:u}){var p,x,g,v;const h=await this.getProvider();if(!h)throw new Qs;const f=c.chains.find(j=>j.id===u);if(!f)throw new Fs(new Bl);const m=new Promise(j=>{const w=S=>{"chainId"in S&&S.chainId===u&&(c.emitter.off("change",w),j())};c.emitter.on("change",w)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:Vl(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),m]),f}catch(j){const w=j;if(w.code===4902||((x=(p=w==null?void 0:w.data)==null?void 0:p.originalError)==null?void 0:x.code)===4902)try{const{default:S,...y}=f.blockExplorers??{};let N;d!=null&&d.blockExplorerUrls?N=d.blockExplorerUrls:S&&(N=[S.url,...Object.values(y).map(O=>O.url)]);let _;(g=d==null?void 0:d.rpcUrls)!=null&&g.length?_=d.rpcUrls:_=[((v=f.rpcUrls.default)==null?void 0:v.http[0])??""];const A={blockExplorerUrls:N,chainId:Vl(u),chainName:(d==null?void 0:d.chainName)??f.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:(d==null?void 0:d.nativeCurrency)??f.nativeCurrency,rpcUrls:_};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[A]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new qe(new Error("User rejected switch after adding network."))}),m]),f}catch(S){throw new qe(S)}throw w.code===qe.code?new qe(w):new Fs(w)}},async onAccountsChanged(d){var u;if(d.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:d.map(h=>Ri(h))})},onChainChanged(d){const u=Number(d);c.emitter.emit("change",{chainId:u})},async onConnect(d){const u=await this.getAccounts();if(u.length===0)return;const h=Number(d.chainId);c.emitter.emit("connect",{accounts:u,chainId:h});const f=await this.getProvider();f&&(o&&(f.removeListener("connect",o),o=void 0),n||(n=this.onAccountsChanged.bind(this),f.on("accountsChanged",n)),a||(a=this.onChainChanged.bind(this),f.on("chainChanged",a)),l||(l=this.onDisconnect.bind(this),f.on("disconnect",l)))},async onDisconnect(d){const u=await this.getProvider();d&&d.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(a&&(u.removeListener("chainChanged",a),a=void 0),l&&(u.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const $A={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Qi(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Qi(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const s=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of s)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,s;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(s=t.phantom)==null?void 0:s.ethereum:Qi(t,"isPhantom")}}};function Qi(t,e){function s(n){return typeof e=="function"?e(n):typeof e=="string"?n[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(n=>s(n));if(r&&s(r))return r}function FA(t){if(typeof window>"u")return;const e=s=>t(s.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function VA(){const t=new Set;let e=[];const s=()=>FA(n=>{e.some(({info:a})=>a.uuid===n.info.uuid)||(e=[...e,n],t.forEach(a=>a(e,{added:[n]})))});let r=s();return{_listeners(){return t},clear(){t.forEach(n=>n([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:n}){return e.find(a=>a.info.rdns===n)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=s()},subscribe(n,{emitImmediately:a}={}){return t.add(n),a&&n(e,{added:e}),()=>t.delete(n)}}}const BA=t=>(e,s,r)=>{const n=r.subscribe;return r.subscribe=(o,l,c)=>{let d=o;if(l){const u=(c==null?void 0:c.equalityFn)||Object.is;let h=o(r.getState());d=f=>{const m=o(f);if(!u(h,m)){const p=h;l(h=m,p)}},c!=null&&c.fireImmediately&&l(h,h)}return n(d)},t(e,s,r)},UA=BA;function zA(t,e){let s;try{s=t()}catch{return}return{getItem:n=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),l=(a=s.getItem(n))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,a)=>s.setItem(n,JSON.stringify(a,void 0)),removeItem:n=>s.removeItem(n)}}const zl=t=>e=>{try{const s=t(e);return s instanceof Promise?s:{then(r){return zl(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return zl(r)(s)}}}},WA=(t,e)=>(s,r,n)=>{let a={storage:zA(()=>localStorage),partialize:x=>x,version:0,merge:(x,g)=>({...g,...x}),...e},o=!1;const l=new Set,c=new Set;let d=a.storage;if(!d)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),s(...x)},r,n);const u=()=>{const x=a.partialize({...r()});return d.setItem(a.name,{state:x,version:a.version})},h=n.setState;n.setState=(x,g)=>{h(x,g),u()};const f=t((...x)=>{s(...x),u()},r,n);n.getInitialState=()=>f;let m;const p=()=>{var x,g;if(!d)return;o=!1,l.forEach(j=>{var w;return j((w=r())!=null?w:f)});const v=((g=a.onRehydrateStorage)==null?void 0:g.call(a,(x=r())!=null?x:f))||void 0;return zl(d.getItem.bind(d))(a.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==a.version){if(a.migrate)return[!0,a.migrate(j.state,j.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var w;const[S,y]=j;if(m=a.merge(y,(w=r())!=null?w:f),s(m,!0),S)return u()}).then(()=>{v==null||v(m,void 0),m=r(),o=!0,c.forEach(j=>j(m))}).catch(j=>{v==null||v(void 0,j)})};return n.persist={setOptions:x=>{a={...a,...x},x.storage&&(d=x.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},a.skipHydration||p(),m||f},qA=WA,nf=t=>{let e;const s=new Set,r=(d,u)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),s.forEach(m=>m(e,f))}},n=()=>e,l={setState:r,getState:n,getInitialState:()=>c,subscribe:d=>(s.add(d),()=>s.delete(d))},c=e=t(r,n,l);return l},zo=t=>t?nf(t):nf;var qx={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,s="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(s=!1));function n(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function a(c,d,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new n(u,h||c,f),p=s?s+d:d;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)e.call(u,h)&&d.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=s?s+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,p=new Array(m);f<m;f++)p[f]=h[f].fn;return p},l.prototype.listenerCount=function(d){var u=s?s+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,f,m,p){var x=s?s+d:d;if(!this._events[x])return!1;var g=this._events[x],v=arguments.length,j,w;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,h),!0;case 4:return g.fn.call(g.context,u,h,f),!0;case 5:return g.fn.call(g.context,u,h,f,m),!0;case 6:return g.fn.call(g.context,u,h,f,m,p),!0}for(w=1,j=new Array(v-1);w<v;w++)j[w-1]=arguments[w];g.fn.apply(g.context,j)}else{var S=g.length,y;for(w=0;w<S;w++)switch(g[w].once&&this.removeListener(d,g[w].fn,void 0,!0),v){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,h);break;case 4:g[w].fn.call(g[w].context,u,h,f);break;default:if(!j)for(y=1,j=new Array(v-1);y<v;y++)j[y-1]=arguments[y];g[w].fn.apply(g[w].context,j)}}return!0},l.prototype.on=function(d,u,h){return a(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return a(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,f){var m=s?s+d:d;if(!this._events[m])return this;if(!u)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===u&&(!f||p.once)&&(!h||p.context===h)&&o(this,m);else{for(var x=0,g=[],v=p.length;x<v;x++)(p[x].fn!==u||f&&!p[x].once||h&&p[x].context!==h)&&g.push(p[x]);g.length?this._events[m]=g.length===1?g[0]:g:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=s?s+d:d,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,t.exports=l})(qx);var HA=qx.exports;const KA=uy(HA);class GA{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new KA})}on(e,s){this._emitter.on(e,s)}once(e,s){this._emitter.once(e,s)}off(e,s){this._emitter.off(e,s)}emit(e,...s){const r=s[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function JA(t){return new GA(t)}function ZA(t,e){return JSON.parse(t,(s,r)=>{let n=r;return(n==null?void 0:n.__type)==="bigint"&&(n=BigInt(n.value)),(n==null?void 0:n.__type)==="Map"&&(n=new Map(n.value)),(e==null?void 0:e(s,n))??n})}function af(t,e){return t.slice(0,e).join(".")||"."}function of(t,e){const{length:s}=t;for(let r=0;r<s;++r)if(t[r]===e)return r+1;return 0}function YA(t,e){const s=typeof t=="function",r=typeof e=="function",n=[],a=[];return function(l,c){if(typeof c=="object")if(n.length){const d=of(n,this);d===0?n[n.length]=this:(n.splice(d),a.splice(d)),a[a.length]=l;const u=of(n,c);if(u!==0)return r?e.call(this,l,c,af(a,u)):`[ref=${af(a,u)}]`}else n[0]=c,a[0]=l;return s?t.call(this,l,c):c}}function XA(t,e,s,r){return JSON.stringify(t,YA((n,a)=>{let o=a;return typeof o=="bigint"&&(o={__type:"bigint",value:a.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(a.entries())}),(e==null?void 0:e(n,o))??o},r),s??void 0)}function QA(t){const{deserialize:e=ZA,key:s="wagmi",serialize:r=XA,storage:n=Hx}=t;function a(o){return o instanceof Promise?o.then(l=>l).catch(()=>null):o}return{...n,key:s,async getItem(o,l){const c=n.getItem(`${s}.${o}`),d=await a(c);return d?e(d)??null:l??null},async setItem(o,l){const c=`${s}.${o}`;l===null?await a(n.removeItem(c)):await a(n.setItem(c,r(l)))},async removeItem(o){await a(n.removeItem(`${s}.${o}`))}}}const Hx={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function eE(){const t=typeof window<"u"&&window.localStorage?window.localStorage:Hx;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,s){try{t.setItem(e,s)}catch{}}}}const Wl=256;let Mi=Wl,Di;function tE(t=11){if(!Di||Mi+t>Wl*2){Di="",Mi=0;for(let e=0;e<Wl;e++)Di+=(256+Math.random()*256|0).toString(16).substring(1)}return Di.substring(Mi,Mi+++t)}function sE(t){const{multiInjectedProviderDiscovery:e=!0,storage:s=QA({storage:eE()}),syncConnectedChain:r=!0,ssr:n=!1,...a}=t,o=typeof window<"u"&&e?VA():void 0,l=zo(()=>a.chains),c=zo(()=>{const y=[],N=new Set;for(const _ of a.connectors??[]){const A=d(_);if(y.push(A),!n&&A.rdns){const O=typeof A.rdns=="string"?[A.rdns]:A.rdns;for(const C of O)N.add(C)}}if(!n&&o){const _=o.getProviders();for(const A of _)N.has(A.info.rdns)||y.push(d(u(A)))}return y});function d(y){var A;const N=JA(tE()),_={...y({emitter:N,chains:l.getState(),storage:s,transports:a.transports}),emitter:N,uid:N.uid};return N.on("connect",w),(A=_.setup)==null||A.call(_),_}function u(y){const{info:N}=y,_=y.provider;return rd({target:{...N,id:N.rdns,provider:_}})}const h=new Map;function f(y={}){const N=y.chainId??g.getState().chainId,_=l.getState().find(O=>O.id===N);if(y.chainId&&!_)throw new Bl;{const O=h.get(g.getState().chainId);if(O&&!_)return O;if(!_)throw new Bl}{const O=h.get(N);if(O)return O}let A;if(a.client)A=a.client({chain:_});else{const O=_.id,C=l.getState().map(se=>se.id),E={},$=Object.entries(a);for(const[se,G]of $)if(!(se==="chains"||se==="client"||se==="connectors"||se==="transports"))if(typeof G=="object")if(O in G)E[se]=G[O];else{if(C.some(M=>M in G))continue;E[se]=G}else E[se]=G;A=IA({...E,chain:_,batch:E.batch??{multicall:!0},transport:se=>a.transports[O]({...se,connectors:c})})}return h.set(N,A),A}function m(){return{chainId:l.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const x="0.0.0-canary-";Xi.startsWith(x)?p=Number.parseInt(Xi.replace(x,"")):p=Number.parseInt(Xi.split(".")[0]??"0");const g=zo(UA(s?qA(m,{migrate(y,N){if(N===p)return y;const _=m(),A=v(y,_.chainId);return{..._,chainId:A}},name:"store",partialize(y){return{connections:{__type:"Map",value:Array.from(y.connections.entries()).map(([N,_])=>{const{id:A,name:O,type:C,uid:E}=_.connector;return[N,{..._,connector:{id:A,name:O,type:C,uid:E}}]})},chainId:y.chainId,current:y.current}},merge(y,N){typeof y=="object"&&y&&"status"in y&&delete y.status;const _=v(y,N.chainId);return{...N,...y,chainId:_}},skipHydration:n,storage:s,version:p}):m));g.setState(m());function v(y,N){return y&&typeof y=="object"&&"chainId"in y&&typeof y.chainId=="number"&&l.getState().some(_=>_.id===y.chainId)?y.chainId:N}r&&g.subscribe(({connections:y,current:N})=>{var _;return N?(_=y.get(N))==null?void 0:_.chainId:void 0},y=>{if(l.getState().some(_=>_.id===y))return g.setState(_=>({..._,chainId:y??_.chainId}))}),o==null||o.subscribe(y=>{const N=new Set,_=new Set;for(const O of c.getState())if(N.add(O.id),O.rdns){const C=typeof O.rdns=="string"?[O.rdns]:O.rdns;for(const E of C)_.add(E)}const A=[];for(const O of y){if(_.has(O.info.rdns))continue;const C=d(u(O));N.has(C.id)||A.push(C)}s&&!g.persist.hasHydrated()||c.setState(O=>[...O,...A],!0)});function j(y){g.setState(N=>{const _=N.connections.get(y.uid);return _?{...N,connections:new Map(N.connections).set(y.uid,{accounts:y.accounts??_.accounts,chainId:y.chainId??_.chainId,connector:_.connector})}:N})}function w(y){g.getState().status==="connecting"||g.getState().status==="reconnecting"||g.setState(N=>{const _=c.getState().find(A=>A.uid===y.uid);return _?(_.emitter.listenerCount("connect")&&_.emitter.off("connect",j),_.emitter.listenerCount("change")||_.emitter.on("change",j),_.emitter.listenerCount("disconnect")||_.emitter.on("disconnect",S),{...N,connections:new Map(N.connections).set(y.uid,{accounts:y.accounts,chainId:y.chainId,connector:_}),current:y.uid,status:"connected"}):N})}function S(y){g.setState(N=>{const _=N.connections.get(y.uid);if(_){const O=_.connector;O.emitter.listenerCount("change")&&_.connector.emitter.off("change",j),O.emitter.listenerCount("disconnect")&&_.connector.emitter.off("disconnect",S),O.emitter.listenerCount("connect")||_.connector.emitter.on("connect",w)}if(N.connections.delete(y.uid),N.connections.size===0)return{...N,connections:new Map,current:null,status:"disconnected"};const A=N.connections.values().next().value;return{...N,connections:new Map(N.connections),current:A.connector.uid}})}return{get chains(){return l.getState()},get connectors(){return c.getState()},storage:s,getClient:f,get state(){return g.getState()},setState(y){let N;typeof y=="function"?N=y(g.getState()):N=y;const _=m();typeof N!="object"&&(N=_),Object.keys(_).some(O=>!(O in N))&&(N=_),g.setState(N,!0)},subscribe(y,N,_){return g.subscribe(y,N,_?{..._,fireImmediately:_.emitImmediately}:void 0)},_internal:{mipd:o,store:g,ssr:!!n,syncConnectedChain:r,transports:a.transports,chains:{setState(y){const N=typeof y=="function"?y(l.getState()):y;if(N.length!==0)return l.setState(N,!0)},subscribe(y){return l.subscribe(y)}},connectors:{providerDetailToConnector:u,setup:d,setState(y){return c.setState(typeof y=="function"?y(c.getState()):y,!0)},subscribe(y){return c.subscribe(y)}},events:{change:j,connect:w,disconnect:S}}}}function rE(t,e){const{initialState:s,reconnectOnMount:r}=e;return s&&!t._internal.store.persist.hasHydrated()&&t.setState({...s,chainId:t.chains.some(n=>n.id===s.chainId)?s.chainId:t.chains[0].id,connections:r?s.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(n=>{var c;const a=new Set;for(const d of n??[])if(d.rdns){const u=Array.isArray(d.rdns)?d.rdns:[d.rdns];for(const h of u)a.add(h)}const o=[],l=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const d of l){if(a.has(d.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(d),h=t._internal.connectors.setup(u);o.push(h)}return[...n,...o]})),r?DA(t):t.storage&&t.setState(n=>({...n,connections:new Map}))}}}function nE(t){const{children:e,config:s,initialState:r,reconnectOnMount:n=!0}=t,{onMount:a}=rE(s,{initialState:r,reconnectOnMount:n});s._internal.ssr||a();const o=b.useRef(!0);return b.useEffect(()=>{if(o.current&&s._internal.ssr)return a(),()=>{o.current=!1}},[]),e}const iE=b.createContext(void 0);function aE(t){const{children:e,config:s}=t,r={value:s};return b.createElement(nE,t,b.createElement(iE.Provider,r,e))}const lf=Vx({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),cf=Vx({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0}),oE=sE({chains:[lf,cf],transports:{[lf.id]:rf(),[cf.id]:rf()}});class lE extends b.Component{constructor(){super(...arguments);xi(this,"state",{hasError:!1})}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("ErrorBoundary caught an error:",s,r)}render(){return this.state.hasError?this.props.fallback||i.jsxs("div",{style:{padding:"2rem",textAlign:"center",fontFamily:"system-ui, sans-serif",maxWidth:"600px",margin:"0 auto"},children:[i.jsx("h1",{children:"Algo deu errado"}),i.jsx("p",{children:"Ocorreu um erro inesperado. Por favor, recarregue a pgina."}),i.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.5rem 1rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Recarregar Pgina"}),!1]}):this.props.children}}const cE=new hy,dE=()=>{try{const t=document.getElementById("root");if(!t){console.error("Root element not found");return}fy(t).render(i.jsx(lE,{children:i.jsx(aE,{config:oE,children:i.jsx(my,{client:cE,children:i.jsx(py,{children:i.jsx(IT,{})})})})}))}catch(t){console.error("Error rendering app:",t);const e=document.getElementById("root");e&&(e.innerHTML=`
        <div style="padding: 2rem; text-align: center; font-family: system-ui, sans-serif;">
          <h1>Render Error</h1>
          <p>Erro ao renderizar a aplicao: ${t instanceof Error?t.message:"Erro desconhecido"}</p>
          <pre style="background: #f5f5f5; padding: 1rem; border-radius: 4px; text-align: left;">
            ${t instanceof Error?t.stack:String(t)}
          </pre>
        </div>
      `)}};typeof window<"u"&&dE();
